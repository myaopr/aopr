// Copy of entrything.js from Aug 5, 2021. for reference

var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.checkStringArgs = function(a, b, c) {
	if (null == a)
		throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
	if (b instanceof RegExp)
		throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
	return a + ""
}
;
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.SIMPLE_FROUND_POLYFILL = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
	a != Array.prototype && a != Object.prototype && (a[b] = c.value)
}
;
$jscomp.getGlobal = function(a) {
	a = ["object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global, a];
	for (var b = 0; b < a.length; ++b) {
		var c = a[b];
		if (c && c.Math == Math)
			return c
	}
	throw Error("Cannot find global object");
}
;
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.polyfill = function(a, b, c, e) {
	if (b) {
		c = $jscomp.global;
		a = a.split(".");
		for (e = 0; e < a.length - 1; e++) {
			var f = a[e];
			f in c || (c[f] = {});
			c = c[f]
		}
		a = a[a.length - 1];
		e = c[a];
		b = b(e);
		b != e && null != b && $jscomp.defineProperty(c, a, {
			configurable: !0,
			writable: !0,
			value: b
		})
	}
}
;
$jscomp.polyfill("String.prototype.endsWith", function(a) {
	return a ? a : function(a, c) {
		var b = $jscomp.checkStringArgs(this, a, "endsWith");
		a += "";
		void 0 === c && (c = b.length);
		c = Math.max(0, Math.min(c | 0, b.length));
		for (var f = a.length; 0 < f && 0 < c; )
			if (b[--c] != a[--f])
				return !1;
		return 0 >= f
	}
}, "es6", "es3");
$jscomp.polyfill("String.prototype.startsWith", function(a) {
	return a ? a : function(a, c) {
		var b = $jscomp.checkStringArgs(this, a, "startsWith");
		a += "";
		var f = b.length
		  , g = a.length;
		c = Math.max(0, Math.min(c | 0, b.length));
		for (var k = 0; k < g && c < f; )
			if (b[c++] != a[k++])
				return !1;
		return k >= g
	}
}, "es6", "es3");
var S3IMAGESPATH = "https://d3tfzeyd8xmhi9.cloudfront.net/", S3ARTWORKIMAGESPATH = "https://d2rglhsrqjmds7.cloudfront.net/", localbaseserverurl = "http://192.168.86.95", w_ = [], addtolang, prepshow, LOCAL = !1, et_lang = "en", swversion = 38, loadimage = "<img src=https://entrythingy.s3.amazonaws.com/images/loading.gif width=15 height=15>", sisloaded = " . . . o ";
function isLoaded(a) {}
function includeJS(a, b) {
	(div = document.getElementsByTagName("head").item(0)) || alert("Ooops. Your page must have a <head> element.");
	b && (a += "?" + b);
	null == document.getElementById(a) && (b = document.createElement("script"),
	b.setAttribute("language", "javascript"),
	b.setAttribute("type", "text/javascript"),
	b.setAttribute("charset", "utf-8"),
	b.setAttribute("id", a),
	"/" == a.charAt(0) && (a = LOCAL ? "http://localhost/o_" + a.substring(1) : "https://entrythingy.s3.amazonaws.com/resources" + a),
	b.setAttribute("src", a),
	div.appendChild(b))
}
function entryThingy() {
	console.log("entryThingy " + window.location.href);
	var a = sitecode.indexOf(".");
	dba = "s1";
	-1 != a && (dba = sitecode.substring(0, a),
	sitecode = sitecode.substring(a + 1));
	LOCAL ? (baseserverurl = localbaseserverurl,
	S3ARTWORKIMAGESPATH = "https://s3.amazonaws.com/entrythingy.awmarttest/") : baseserverurl = "https://www.entrythingy.com";
	baseserverip = baseserverurl;
	addIFrameToDOM("et_uploadtarget");
	for (a = 0; 5 > a; a++)
		addElementToDOM("span", "et_dataarea" + a);
	addtolang && addtolang();
	a = "https://entrythingy.s3.amazonaws.com/resources/entrythingy_widget3.css";
	w_.css && (a = w_.css);
	includeCSS(a);
	a = xPos(document.getElementById("et_apparea"));
	200 < a && 0 == w_.scrollupto && (w_.scrollupto = a - 50);
	displaySignup(!0)
}
function addIFrameToDOM(a) {
	if (!document.getElementById(a)) {
		var b = document.getElementsByTagName("body").item(0);
		bgl = document.createElement("div");
		bgl.setAttribute("id", "et_ifc" + a);
		bgl.setAttribute("name", "et_ifc" + a);
		bgl.style.display = "none";
		bgl.style.width = 0;
		bgl.style.height = 0;
		bgl.style.border = 0;
		bgl.innerHTML = "<iframe id='" + a + "' name='" + a + "' src='' style='width:0px;height:0px;border:0;'></iframe>";
		b.insertBefore(bgl, b.firstChild)
	}
}
function addElementToDOM(a, b) {
	var c = document.getElementById(b);
	if (!c) {
		var e = document.getElementsByTagName("body").item(0);
		c = document.createElement(a);
		c.setAttribute("id", b);
		c.setAttribute("name", b);
		c.style.display = "none";
		c.style.width = 0;
		c.style.height = 0;
		c.style.border = 0;
		e.insertBefore(c, e.firstChild)
	}
	return c
}
;var whichcal, seldate, pd, selmonth, hilitedate, origdate, MONTHS_LONG = "January February March April May June July August September October November December".split(" "), MONTHS_SHORT = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "), DAYSOFWEEK = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), DAYSOFWEEK_SUPERSUPERSHORT = "SMTWTFS".split(""), DAYSOFWEEK_SHORT = "Sun Mon Tue Wed Thu Fri Sat".split(" "), DAYSOFWEEK_SUPERSHORT = "Su Mo Tu We Th Fr Sa".split(" ");
function showCalendar(a) {
	null != whichcal && (gEBI(whichcal + "container").style.display = "none");
	whichcal = a;
	a = parseDate(gEBI(a).value);
	null == a ? seldate || (seldate = new Date,
	seldate.setMinutes(0)) : seldate = a;
	seldate.setSeconds(0);
	seldate.setMilliseconds(0);
	sel = getSimpleDate(seldate);
	pd = MONTHS_LONG[seldate.getMonth()] + " " + seldate.getFullYear();
	selmonth = new Date(seldate);
	origdate = new Date(seldate);
	hilitedate = seldate.getDate();
	setCalendar()
}
function setCalendar() {
	var a = "<center><h1 style=color:black>Select Date</h1></center><br><table style='text-align:center;border-spacing:0px;border:1px solid black;' width=100%><tr><td colspan=7 style='text-align:center;border-spacing:0px;border:1px solid black;padding:3px;' align=center><table width=100%><tr><td>&nbsp; <a href=# onclick='changeMonth(-1); return false;' style='text-decoration: none;' title='Previous month'>&laquo;</a></td><td align=center>" + pd + "</td><td align=right><a href=# onclick='changeMonth(1); return false;' style='text-decoration: none;' title='Next month'>&raquo;</a> &nbsp;</td></tr></table></td></tr>";
	a += "<tr>";
	for (var b = 0; 7 > b; b++)
		a += "<td style='text-align:center;border-spacing:0px;border:1px solid black;padding:3px;'>" + DAYSOFWEEK_SUPERSHORT[b] + "</td>";
	a += "</tr>";
	selmonth.setDate(1);
	var c = selmonth.getDay() + 1;
	lastday = (new Date(selmonth.getYear(),selmonth.getMonth() + 1,0)).getDate();
	a += "<tr>";
	for (b = 1; b < c; b++)
		a += "<td style='text-align:center;border-spacing:0px;border:1px solid black;padding:3px;'>&nbsp;</td>";
	for (b = 1; b <= lastday; b++)
		a += "<td style='text-align:center;border-spacing:0px;border:1px solid black;padding:3px;",
		b == hilitedate && (a += "background:#444; color:white;"),
		a += "' onclick='selectDate(" + b + ");' onmouseover=\"this.style.cursor='pointer'\" onmouseout=\"this.style.cursor='default'\" ",
		a += ">" + b + "</td>",
		c++,
		7 < c && (a += "</tr><tr>",
		c = 1);
	for (b = c; 8 > b; b++)
		a += "<td style='text-align:center;border-spacing:0px;border:1px solid black;padding:3px;'>&nbsp;</td>";
	a = a + "</tr></table><br><br><center><input type=button class=button value=Cancel onclick=\"gEBI('" + (whichcal + "container').style.display='none';\" > &nbsp; &nbsp; <input type=button class=button value=Ok onclick=\"selectDateOk()\" ></center>");
	gEBI(whichcal + "container").innerHTML = a;
	gEBI(whichcal + "container").style.display = "inline";
	gEBI(whichcal + "container").style.background = "white";
	gEBI(whichcal + "container").style.padding = "10px";
	gEBI(whichcal + "container").style.border = "1px solid black"
}
function selectDateOk() {
	gEBI(whichcal).value = getSimpleDate(seldate);
	gEBI(whichcal + "container").style.display = "none"
}
function selectDate(a) {
	seldate = new Date(seldate.getFullYear(),seldate.getMonth(),a);
	hilitedate = seldate.getDate();
	setCalendar()
}
function changeMonth(a) {
	seldate = new Date(seldate.getFullYear(),seldate.getMonth() + a,1);
	pd = MONTHS_LONG[seldate.getMonth()] + " " + seldate.getFullYear();
	selmonth = new Date(seldate);
	hilitedate = selmonth.getMonth() == origdate.getMonth() ? origdate.getDate() : -1;
	setCalendar()
}
function parseDate(a) {
	a = a.split(" ");
	if (2 != a.length)
		return null;
	var b = a[0].split("/");
	return 3 != b.length || 2 != a[1].split(":").length ? null : new Date(eval(b[2]),eval(b[0]) - 1,eval(b[1]))
}
function getSimpleDate(a) {
	return a.getMonth() + 1 + "/" + a.getDate() + "/" + a.getFullYear() + " "
}
;function _w_(a, b) {
	a = w_[a];
	if (b)
		for (var c = 1; c < b.length + 1; c++) {
			var e = a.indexOf("$$" + c);
			-1 != e && (a = a.substring(0, e) + b[c - 1] + a.substring(e + 3))
		}
	return a
}
var MONTHS = "Jan Feb Mar Apr May Jun Jul Aug Sept Oct Nov Dec".split(" ");
MONTHS_LONG = "January February March April May June July August September October November December".split(" ");
var WEEKDAYS_SHORT = "So Mo Tu We Th Fr Sa".split(" ")
  , STATES = "Alabama;Alaska;Arizona;Arkansas;California;Colorado;Connecticut;Delaware;Dist of Columbia;Florida;Georgia;Hawaii;Idaho;Illinois;Indiana;Iowa;Kansas;Kentucky;Louisiana;Maine;Maryland;Massachusetts;Michigan;Minnesota;Mississippi;Missouri;Montana;Nebraska;Nevada;New Hampshire;New Jersey;New Mexico;New York;North Carolina;North Dakota;Ohio;Oklahoma;Oregon;Pennsylvania;Rhode Island;South Carolina;South Dakota;Tennessee;Texas;Utah;Vermont;Virginia;Washington;West Virginia;Wisconsin;Wyoming;None;Alberta;British Columbia;Manitoba;New Brunswick;Newfoundland;Northwest Territory;Nova Scotia;Ontario;Prince Edward Island;Quebec;Saskatchewan;Yukon Territory;Australian Capital Territory;New South Wales;Northern Territory;Queensland;South Australia;Tasmania;Victoria;Western Australia".split(";")
  , AWMSORT = "date (new);date (old);status;title;dimensions;material;price;year;editions".split(";")
  , AWMHISTORYSTATUS = "In progress;Completed;Studio;Storage;Show;Gallery;Entered;Accepted;Not accepted;Waitlist;Sold;Discarded;Other".split(";")
  , AWMLIMIT = [50, 100, 250, 500, 1E3, 2E3];
w_["1"] = "Loading <a href=https://www.entrythingy.com>EntryThingy</a>";
w_.callforentries = "call for entries";
w_.Callforentries = "Call for Entries";
w_.callsforentries = "calls for entries";
w_.descriptionofwork = "Description of Work (media, technique, etc)";
w_.entrystatement = "Statement specific to entry";
w_.notificationofjuryresults = "Notification of Jury Results";
null == w_.scrollupto && (w_.scrollupto = 0);
w_.m1 = "Ooops. Your page must have a <head> element.";
w_.m2 = "piece";
w_.m3 = "Piece";
w_.m4 = "dimensions";
w_.m5 = "Dimensions";
w_.m6 = "running time";
w_.m7 = "Running Time";
w_.m8 = "document";
w_.m9 = "Document";
w_.m10 = "word count";
w_.m11 = "Word Count";
w_.m12 = "video";
w_.m13 = "Video";
w_.m14 = "file";
w_.m15 = "File";
var STATUS = "Not Submitted;Submitted;Show to Jury;Accepted;Not Accepted;Waitlist;Withdrawn/Refund;Withdrawn/No Ref;Fee Paid;;Group A;Group B;Group C;Group D;Group E".split(";")
  , REVISIONSTATUS = "Submitted;Accepted;Not Accepted;Waitlist;;Group A;Group B;Group C;Group D;Group E".split(";")
  , SHOWSTATUS = ["Do not show to entrants or jury", "Show to entrants and jury", "Show to jury only"]
  , SORT = "Default;Total Points;Date (newest);Date (oldest);First Name;Last Name;Nr of Votes;Status;Category;Space;Award;Custom ID;Size of Files;Use for Publicity".split(";")
  , REVISIONSORT = "Total Points;Date (newest);Date (oldest);First Name;Last Name;Status;Space;Award".split(";");
w_.m22 = "Ooops. The sitecode supplied with this page will not work with this domain. Please make sure you entered the correct domain when you grabbed the code for this EntryThingy at www.EntryThingy.com.";
w_.m23 = "Ooops. This EntryThingy has been deactivated.";
w_.m24 = 'Ooops. We are currently performing system maintenance and will be back shortly. <a href="javascript:window.location.reload(true);">Please click here to try again</a>.';
w_.m25 = "Ooops. Incorrect email or password. Please try again with your EntryThingy email and password.\n\nFor security reasons, you will be locked out after 10 bad logins. Please use the 'Forgot your password' link to request a new password.";
w_.m25a = "Ooops. You have reached the maximum number of invalid login attempts. Please contact us at <a href=mailto:hello@entrythingy.com>hello@entrythingy.com</a>.";
w_.m25b = "Ooops. You are trying to login with an admin or juror account through the wrong site/domain. Admin and juror accounts only work on the site/domain they were created on.";
w_.m26 = "Ooops. You are not a member of this item.";
w_.m27 = "Ooops. You are not the owner of this item.";
w_.m28 = "Ooops. That email has already been registered - you most probably already entered into another call for entries that's also using EntryThingy. You can use the same email and password to submit your entry here.\n\nClick Ok to login with your EntryThingy email and password or to request a new password - Click Cancel to register with a different email.";
w_.m29 = "Ooops. Something went wrong. Please try again. If this problem persists, please contact us at hello@entrythingy.com.";
w_.m30 = "Please check your email inbox for a message with your new password. It may take several minutes to get to you.";
w_.m30a = "Please click here to login with your new password.";
w_.m31 = "Ooops. Couldn't find that email address.";
w_.m32 = "The status of the entries has been updated.";
w_.m33 = "Done!";
w_.m34 = "Ooops. Download failed: ";
w_.m35 = "Main";
w_.m36 = "My Profile";
w_.m37 = "Admin";
w_.m38 = "https://www.entrythingy.com/faq.html";
w_.m39 = "Help";
w_.m40 = "Logout";
w_.m41 = "Hello";
w_.m42 = "gsJWgoicPQA";
w_.m43 = "gsJWga%2BwCQA";
w_.m44 = "more...";
w_.l1 = "Ooops. Please enter your email to login.";
w_.l2 = "Ooops. Please enter your password to login. It must be at least 5 characters long.";
w_.l3 = "Login with your <a href=https://www.entrythingy.com target=et><img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='EntryThingy. Click to learn more about EntryThingy.'></a> email and password.";
w_.l3a = "<br><br>Not sure how this works? <a href=# onclick=\"popupVideo('https://www.entrythingy.com/vtour_entrants.html');return false;\">Click here</a> to watch a short video that'll show you.";
w_.l4 = "Email";
w_.l5 = "Password";
w_.l6 = "Login";
w_.l7 = "Don't have a login?";
w_.l8 = "Click here to signup";
w_.l9 = "Forgot your password?";
w_.l10 = "Click here";
w_.l11 = "Ooops. Please enter a valid email address.";
w_.l12 = "Ooops. Please enter your first name.";
w_.l12a = "Ooops. Your first name may not be longer than 50 characters.";
w_.l12b = "Ooops. Your last name may not be longer than 50 characters.";
w_.l13 = "Ooops. Please enter your last name.";
w_.l14 = "Ooops. Your password must be at least 5 characters long.";
w_.l15 = "Ooops. You did not confirm your password correctly.";
w_.l16 = "Ooops. Please enter a valid email address.";
w_.l17 = "Enter the email from your <a href=https://www.entrythingy.com target=et><img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='EntryThingy. Click to learn more about EntryThingy.'></a> profile. We'll send you a new password.";
w_.l18 = "Email";
w_.l19 = "Request New Password";
w_.l20 = "Remember your password?";
w_.l21 = "Please click here to login";
w_.l22 = "Click here to signup and submit your entry</a> to the call(s) for entry shown below";
w_.l23 = "Already have an <img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='EntryThingy.'> login?";
w_.l24 = "Status";
w_.l25 = "Deadline for entries";
w_.l26 = "Show date";
w_.l27 = "thru";
w_.l28 = "There are no";
w_.l29 = "First Name";
w_.l30 = "Last Name";
w_.l31 = "Create a Password";
w_.l32 = "Confirm Password";
w_.l33 = "Signup";
w_.l34 = "<span style='font-size:130%; font-weight:bold'>Is this your first time using EntryThingy? Then enter your name, email address and create a password to signup and submit your entry.</span><br><br>You will use your email and password to login when you return. You can use this login wherever you see the <a href=https://www.entrythingy.com target=et><img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='Use your EntryThingy login here. Click to learn more about EntryThingy.'></a> symbol.";
w_.l35 = "Click here";
w_.l36 = "to watch a short video that will show you how to signup and submit an entry.<br><br><br><b>Have you used <img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='Use your EntryThingy login here.'> before?</b>";
w_.l37 = "Hello";
w_.l38 = "Please fill in the following information and click 'Submit' to continue. Required fields are marked with an asterisk (*). You can edit this and your other registration information later by clicking 'My Profile'.";
w_.l39 = "Click here to skip this step";
w_.l40 = "You can click 'My Profile' later to fill in the information if you wish.";
w_.l41 = "Business Name";
w_.l42 = "Partner";
w_.l43 = "Address";
w_.l44 = "City";
w_.l45 = "State/Province";
w_.l46 = "ZIP/Postal Code";
w_.l47 = "Country";
w_.l48 = "United States";
w_.l49 = "Main Phone";
w_.l50 = "(example: 555-555-5555)";
w_.l51 = "Alternate Phone";
w_.l52 = "Web site";
w_.l53 = "(example: www.mysite.com)";
w_.l54 = "Submit";
w_.l55 = "Please verify your information below. Click 'Submit' to continue or 'Back' to edit.";
w_.l56 = "Back";
w_.l57 = "Entrant Profile";
w_.l58 = "Juror Profile";
w_.l59 = "Admin Profile";
w_.l60 = "Call Admin Profile";
w_.l61 = "edit profile";
w_.l62 = "change password";
w_.l63 = "back to";
w_.l64 = "entry";
w_.l65 = "entries list";
w_.l66 = "This is your profile information that is associated with your entries. Please make sure all of the information is correct. Click [edit profile] above to make any changes to your profile and contact info or [change password] to change your password.";
w_.l67 = "<b>Note:</b> This email address has returned an error (";
w_.l68 = ") from a previous email alert and has therefore been excluded from receiving future email alerts. Please make sure this is a vaild email address and verify that your email account is active - then";
w_.l69 = "click here to re-enable this email for future email alerts";
w_.l70 = "Statement";
w_.l71 = "Resume";
w_.l72 = "Edit Profile";
w_.l73 = "Save";
w_.l74 = "Cancel";
w_.l75 = "Ooops. You didn't fill out all required fields.";
w_.l76 = "Change Password";
w_.l77 = "New Password";
w_.l78 = "Confirm New Password";
w_.l79 = "Ooops. Your new password must be at least 5 characters long.";
w_.l80 = "Ooops. You did not confirm your new password correctly.";
w_.s1 = "Ooops. This is currently disabled (tokens<=0).";
w_.s2 = "Please go to your admin area to purchase additional tokens.";
w_.s3 = "Please contact the call administrator - thanks!";
w_.s4 = "Settings";
w_.s5 = "delete this call";
w_.s6 = "Entries";
w_.s7 = "entries";
w_.s8 = "pieces";
w_.s9 = "settings";
w_.s10 = "stats";
w_.s11 = "downloads";
w_.s12 = "tools";
w_.s13 = "add entry";
w_.s14 = "overview";
w_.s15 = "edit";
w_.s16 = "Added by";
w_.s16a = "Show Location";
w_.s17 = "Status";
w_.s18 = "Jurors";
w_.s19 = "Categories";
w_.s20 = "Entry Instructions";
w_.s21 = "Default Instructions for Entrants After Entry is Submitted";
w_.s22 = "Instructions for Entrants After Entry is Submitted with Coupon Code";
w_.s23 = "Additional Instructions for Bottom of Printable Entry";
w_.s23a = "Instructions for Accepted Entrants";
w_.s24 = "Terms of Entry for Entrants";
w_.s25 = "Instructions for Jurors";
w_.s26 = "Call Description";
w_.s26a = "Replace 'SUBMIT THIS ENTRY' button with";
w_.s26b = "This will show under the call name on the Main EntryThingy page. This will not show in the <a href=https://www.entrythingy.com/forartists_calls target=facl>For Artists call list</a> if you use HTML markup. Also, this will be truncated to 400 characters in the call listing.";
w_.s27 = "Date Settings";
w_.s28 = "Deadline for Entries";
w_.s29 = "Deadline for Late Entries";
w_.s30 = "Show Date";
w_.s31 = "Show End Date";
w_.s32 = "Entries Settings";
w_.s33 = "Minimum pieces per Entry";
w_.s34 = "Maximum pieces per Entry";
w_.s35 = "Maximum entries per Entrant";
w_.s36 = "Allowed entry file types";
w_.s37 = "Maximum file size";
w_.s38 = "Minimum file size";
w_.s39 = "Minimum image width";
w_.s40 = "Ask for statement";
w_.s41 = "Ask for resume";
w_.s42 = "Ask for description of work";
w_.s42a = "Ask for statement specific to entry";
w_.s43 = "Ask for";
w_.s43a = "Ask for piece description";
w_.s44 = "Ask for art or booth/display";
w_.s45 = "Ask for material";
w_.s46 = "Ask for price";
w_.s47 = "Ask for year";
w_.s47b = "Allow up to 3 additional views per piece";
w_.s48 = "Maximum length of description of work";
w_.s48a = "characters";
w_.s48b = "Maximum length of statement specific to entry";
w_.s49 = "Ask if";
w_.s50 = "s may be used for show publicity (and gallery widget)";
w_.s51 = "Ask how entrant found out about this call for entries";
w_.s52 = "Show area for date & signature on printable entry";
w_.s53 = "Jury Settings";
w_.s54 = "Sort online and offline jury by";
w_.s55 = "Category, Entry submission date";
w_.s56 = "Category, Custom ID";
w_.s57 = "Sort jury overview by and show points";
w_.s58 = "yes";
w_.s59 = "no";
w_.s60 = "Show link to entrant profile";
w_.s60a = "Show price to jurors";
w_.s61 = "Vote for each";
w_.s62 = "Entry";
w_.s63 = "Piece";
w_.s64 = "Vote from";
w_.s65 = "to";
w_.s66 = "points, skipping";
w_.s67 = "none";
w_.s68 = "Voting Categories";
w_.s69 = "Jury Procedures";
w_.s70 = "All Categories";
w_.s71 = "All Statuses";
w_.s72 = "filter on entrant names (and parts of names) and entry numbers";
w_.s72a = "sort";
w_.s73 = "Please select a category to get started";
w_.s74 = "entry";
w_.s74a = "piece";
w_.s75 = "entries";
w_.s75a = "pieces";
w_.s76 = "click to edit";
w_.s76a = "Are you sure you want to change the category for this entry?";
w_.s77 = "space";
w_.s77c = "award";
w_.s77a = "on";
w_.s77b = "from";
w_.s78 = "no description";
w_.s78a = "$$1s";
w_.s79 = "points";
w_.s80 = "point";
w_.s81 = "votes";
w_.s82 = "vote";
w_.s83 = "avg.";
w_.s84 = "no votes yet";
w_.s85 = "publicity ok";
w_.s86 = "no publicity";
w_.s87 = "delete";
w_.s87a = "notes";
w_.s87b = "add note";
w_.s87c = "Ooops. You forgot to type something.";
w_.s88 = "No entries have been posted to this";
w_.s89 = "No entries match your filter.";
w_.s90 = "File";
w_.s91 = "Type";
w_.s92 = "art";
w_.s93 = "booth/display";
w_.s94 = "Material";
w_.s94a = "Description";
w_.s95 = "Price";
w_.s96 = "Year";
w_.s97 = "total points from";
w_.s98 = "votes";
w_.s99 = "No uploads have been posted to this";
w_.s100 = "No uploads match your filter.";
w_.d1 = "&raquo; There are no more tokens available. Entries are disabled until you purchase additional tokens. Go to the admin area and click";
w_.d2 = "to purchase tokens";
w_.d3 = "&raquo; There are only";
w_.d4 = "tokens left. Entries will be disabled when you reach 0 tokens. Go to the admin area and click";
w_.d5 = "Click the title of a";
w_.d6 = " below to submit and view the status of your entry / application.";
w_.d7 = " below to view the entries and submit your votes.";
w_.d8 = " below to view the entries and votes and edit and download data to your computer.";
w_.d9 = "Add a";
w_.d9a = "duplicate this call";
w_.d10 = "Ooops. Voting has ended for this";
w_.d11 = "(see entry instructions for further details)";
w_.d12 = "The latest news from EntryThingy";
w_.d12a = "Here's another Art of the Call video podcast - where we're asking artists, curators and directors to talk about the call for entries process";
w_.d13 = "Added";
w_.d14 = "Status";
w_.d15 = "My entry";
w_.d16 = "My entries";
w_.a1 = "Admin";
w_.a2 = "Users";
w_.a3 = "Entrants";
w_.a4 = "Preferences";
w_.a5 = "Emailer";
w_.a6 = "Tokens";
w_.a7 = "Gallery Widget";
w_.a8 = "users";
w_.a9 = "entrants";
w_.a10 = "preferences";
w_.a11 = "emailer";
w_.a11a = "membership";
w_.a12 = "gallery widgets";
w_.a13 = "tokens";
w_.a14 = "Sales";
w_.a15 = "comments";
w_.a16 = "Comments";
w_.a17 = "sales";
w_.a18 = "Find entrant";
w_.a19 = "Go";
w_.a20 = "Please enter at least 2 characters";
w_.a21 = "Ooops. Could not find any matching entrants.";
w_.a22 = "More than one entrant matches your search. Please select one to continue: ";
w_.a22a = "Added on";
w_.a22b = "Price";
w_.a23 = "Save";
w_.a24 = "Cancel";
w_.a25 = "Sold";
w_.a26 = "Ooops. No work found for this entrant.";
w_.a27 = "Are you sure you want to delete this email alert?";
w_.a28 = "create new";
w_.a29 = "delete";
w_.a30 = "sent";
w_.a31 = "not yet sent";
w_.a32 = "to";
w_.a33 = "with";
w_.a34 = "entry";
w_.a35 = "piece";
w_.a36 = "status";
w_.a37 = "using reply-to email";
w_.a38 = "There are no emails alerts.";
w_.a39 = "Click here";
w_.a40 = "to setup an email alert for your entrants.";
w_.a41 = "Your token account will be charged when you send alert emails as follows";
w_.a42 = "recipients";
w_.a43 = "Token";
w_.a44 = "Tokens";
w_.a45 = "Ooops. Please enter a valid test email address.";
w_.a46 = "Your test email alert is being sent to";
w_.a47 = "Ooops. You do not have enough tokens to send this email alert.  Please purchase additional tokens first.";
w_.a48 = "Are you sure you want to send this email alert to";
w_.a49 = "entrants?";
w_.a50 = "Ooops. Please select a call for entries for this email alert.";
w_.a51 = "Ooops. Please select an entry status for this email alert. Emails will only be sent to entrants with entries with the selected status.";
w_.a52 = "Ooops. Please enter a valid reply-to email address for this email alert.";
w_.a52a = "The reply to email may only be one email address.";
w_.a53 = "Ooops. Please enter a subject for your email alert.";
w_.a54 = "Ooops. Please reduce the number of capital letters in your subject. Using too many capital letters may cause the email to be marked as spam - and we want to avoid that!";
w_.a55 = "Ooops. Please enter the text for your email alert.";
w_.a56 = "<br><br>Ooops. There are no calls for entries. Please start a call for entries first.";
w_.a57 = "Call for Entries";
w_.a58 = "Entry Status";
w_.a59 = "Reply To Email";
w_.a60 = "Subject";
w_.a61 = "Text";
w_.a62 = "Hello FIRSTNAME LASTNAME,\n\nYour entry ENTRYNUMBER ...";
w_.a63 = "Save";
w_.a63a = "Your changes have been saved.";
w_.a64 = "Cancel";
w_.a65 = "* When recipients reply to an email alert, the reply will be sent to the 'Reply to Email' you enter here.</p><p class=ptp>** <i>FIRSTNAME</i> and <i>LASTNAME</i> (all caps!) are placeholders and are automatically replaced by the first and last name of each recipient when the alert emails are sent. <i>ENTRYNUMBER</i> is also a placeholder for the entry number and will be replaced for each recipient when the emails are sent. <i>CATEGORY</i> will be replaced by the category of the entry if categories were used in the call. <i>SPACE</i> will be replaced by the space code of the entry if you have entered space codes.<br><br>If you are voting per piece and have selected an piece status in the dropdown above, only one email will be sent per entrant - and <i>IMAGESINFO</i> will be replaced with the number, title and space for each piece, one line per piece.";
w_.a66 = "This email alert is being sent to";
w_.a67 = "entrants with";
w_.a68 = "email";
w_.a69 = "emails";
w_.a70 = "remaining in the queue...";
w_.a71 = "Click here";
w_.a72 = "to refresh this page and follow the progress.";
w_.a73 = "This email alert was sent to $$1 entrants $$2";
w_.a74 = "This email alert has not been sent yet.</b> Use the form on the left to edit the email alert subject, text and settings and click 'Save' to save your changes.";
w_.a75 = "Send Test Email Alert to";
w_.a76 = "Send Test";
w_.a76a = "Send Email Alert";
w_.a77 = "Click the following button to send this email alert to <i>$$1 entrants</i> with <i>$$2</i> in <i>$$3</i>";
w_.a78 = "Send to $$1 Entrants";
w_.a79 = "No entrants meet the criteria you have selected for this email alert. Please select a different call for entries or entry status.";
w_.a80 = "More Info";
w_.a81 = "Emails have not be sent to the following entrants because their email address has been marked as incorrect from errors received: (you might want to ask these entrants to check their email addresses and accounts and correct them in their profile) It can take several hours for these error messages to arrive - please ";
w_.a82 = "refresh";
w_.a83 = "this page to see if more emails have returned errors.";
w_.a84 = "Emails will not be sent to the following entrants because their email address has been marked as incorrect from errors received from a previous email alert: (you might want to ask these entrants to check their email addresses and accounts and correct them in their profile)";
w_.a85 = "The email addresses for all entrants targeted with this email alert seem to be ok - although this may change as emails are returned with errors";
w_.a86 = " - and it can take several hours for these error messages to arrive. Please";
w_.a87 = "this page to see if any emails have returned errors.";
w_.a88 = "after the emails have been sent.";
w_.a89 = "Click here";
w_.a90 = "for a list of all entrants targeted by this email alert.";
w_.a91 = "You are creating a new email alert.";
w_.a92 = "To get started, edit the form on the left and click 'Save'.";
w_.a93 = "To get started, please fill out the form on the left and click 'Save'.";
w_.a94 = "entries";
w_.a95 = "Entry";
w_.a96 = "pieces";
w_.a97 = "Piece";
w_.a98 = "Entrants that will recieve email alerts:";
w_.a99 = "Are you sure you want to delete this comment?";
w_.a100 = "says";
w_.a101 = "awaiting moderation";
w_.a102 = "show";
w_.a103 = "or";
w_.a104 = "delete";
w_.a105 = "posted";
w_.a105a = "to";
w_.a106 = "using email";
w_.a107 = "There are no gallery widget comments. To put a gallery widget on your site, click into a call for entries, select [downloads] and then [gallery widget]. Be sure to enable comments!";
w_.a108 = "Name";
w_.a108a = "First Name";
w_.a108b = "Last Name";
w_.a109 = "Email";
w_.a110 = "City";
w_.a111 = "State";
w_.a112 = "Last Seen";
w_.a113 = "delete";
w_.a113a = "Show";
w_.a113b = "With Entry Only";
w_.a113c = "All Registered Users (also without entry)";
w_.a113d = "Registered Users Without Entries";
w_.a113e = "Search";
w_.a114 = "contact info form on entrant signup";
w_.a114a = "Require";
w_.a114b = "Allow skip";
w_.a114c = "Do not show";
w_.a115 = "Ask for partner on entrant signup";
w_.a116 = "Ask for business name on entrant signup";
w_.a116a = "Add Javascript";
w_.a116b = "Sort Calls on Main page by";
w_.a116c = "Date created";
w_.a116d = "Deadline Date";
w_.a116e = "Show Date";
w_.a116f = "Manual";
w_.a117 = "Save Preferences";
w_.a118 = "Your changes have been saved.";
w_.a119 = "Name";
w_.a120 = "Permission";
w_.a121 = "Email";
w_.a122 = "Last Seen";
w_.a123 = "delete";
w_.a124 = "edit";
w_.a125 = "No access";
w_.a126 = "Juror";
w_.a127 = "Administrator";
w_.a127a = "Call Administrator";
w_.a128 = "+ add user";
w_.a129 = "Save";
w_.a130 = "Are you sure you want to delete the user";
w_.a131 = "Edit";
w_.a132 = "Add";
w_.a133 = "User";
w_.a134 = "First Name";
w_.a135 = "Last Name";
w_.a136 = "Email";
w_.a137 = "Create a ";
w_.a138 = "Password";
w_.a139 = "Confirm Password";
w_.a140 = "Cancel";
w_.a141 = "Ooops. Please enter a first name.";
w_.a142 = "Ooops. Please enter a last name.";
w_.a143 = "Ooops. The new password must be at least 5 characters long.";
w_.a144 = "Ooops. Please enter a valid email address.";
w_.a145 = "Ooops. The password must be at least 5 characters long.";
w_.a146 = "Ooops. You did not confirm the password correctly.";
w_.a146a = "Ooops. There has to be at least one admin.";
w_.a147 = "Tokens";
w_.a148 = "for your EntryThingy at";
w_.a148a = " for $$$1";
w_.a149 = "Purchase Tokens";
w_.a150 = "You currently have $$1 tokens remaining. To purchase additional tokens, select an option below and click the Paypal 'Buy Now' button.";
w_.a151 = "Each submitted entry requires one token. In addition, storing entries beyond one year after they are entered requires 1 token per 10 entries per year,  sending entrant email alerts costs 1 token per 100 emails and each artist gallery widget costs 9 tokens per calendar month while in use.";
w_.a152 = "Token History";
w_.a153 = "Here's a list of the last 50 transactions in your token account:";
w_.a153a = '<a href=# onclick="downloadTokenHistory(); return false; ">Click here</a> to download a CSV file with your token history from the last 365 days. ';
w_.a154 = "Reason";
w_.a154a = "Date";
w_.a155 = "Change";
w_.a156 = "Tokens";
w_.a157 = "Stats";
w_.a158 = "Total Entries";
w_.a159 = "Entries per status";
w_.a160 = "Pieces per status and entry status";
w_.a161 = "Entries per category";
w_.a161a = "Entries per week";
w_.a162 = "Total";
w_.a163 = "Entries per State";
w_.a164 = "Votes per Juror";
w_.a165 = "Votes per Points";
w_.a166 = "Save";
w_.a167 = "Cancel";
w_.a168 = "Are you sure you want to change the publicity setting for this entry?";
w_.a169 = "Are you sure you want to delete this $$1 '$$2'?";
w_.a170 = "Ooops. Please enter a name.";
w_.a170a = "Ooops. No HTML markup allowed in the name.";
w_.a170b = "Ooops. Please enter the location of your show.\n\nThis is for the For Artists page call listings.";
w_.a171 = "Ooops. Colons (:), new lines, apostrophes, quotes, double dashes (--) and hashes (#) are not allowed in categories.";
w_.a172 = "Ooops. Please enter a valid deadline for entries date or leave the field empty";
w_.a173 = "Ooops. Please enter a valid deadline for late entries date or leave the field empty";
w_.a174 = "Ooops. Please enter a valid show date or leave the field empty";
w_.a175 = "Ooops. Please enter a valid show end date or leave the field empty";
w_.a176 = "Ooops. Please enter a valid " + w_.notificationofjuryresults + " date or leave the field empty";
w_.a177 = "Ooops. The maximum number of pieces ($$1) must be greater or equal to the minimum number of pieces ($$2).";
w_.a178 = "Ooops. You have to accept at least one file type.";
w_.a179 = "Ooops. You have to have at least one voting category.";
w_.a180 = "Add a $$1";
w_.a181 = "Edit Settings";
w_.a182 = "Name";
w_.a183 = "(Leave this field blank to hide coupon code entry field on entry upload page)";
w_.a184 = "(leave blank to not use)";
w_.a185 = "Points";
w_.a186 = "Save";
w_.a187 = "Cancel";
w_.a188 = "select";
w_.a188a = "all";
w_.a188b = "none";
w_.a189 = "Click Ok to go to the Admin area and add users that you can then add as jurors to your $$1.\n\nClick Cancel to continue adding or editing your $$2. You can always add users later and come back here to add them as jurors";
w_.a190 = "Tools";
w_.a191 = "Update Status";
w_.a192 = "Select from the options below and click 'Go' to update the status of all $$2 in this $$1 that match your selections.";
w_.a193 = "Set $$1 status to";
w_.a194 = "where status is";
w_.a195 = "any";
w_.a197 = "greater";
w_.a198 = "less";
w_.a199 = "or equal to";
w_.a200 = "points";
w_.a201 = "Go";
w_.a202 = "Clear Jury Votes";
w_.a203 = "Click here</a> to clear (delete) all jury votes for this call.";
w_.a204 = "Are you sure you want to clear (delete) all the juror votes for this call? This cannot be undone!";
w_.a203a = "Click here</a> to clear (delete) all Facebook Voter votes for this call.";
w_.a204a = "Are you sure you want to clear (delete) all Facebook Voter votes for this call? This cannot be undone!";
w_.a205 = "You must set all options to continue.";
w_.a206 = "Are you sure you want to proceed? This cannot be undone.";
w_.a207 = "Ooops. That does not seem to be a valid Paypal account email address. Please double check this - the Paypal buttons will only work if you enter the email address associated with your Paypal account.";
w_.a208 = "Downloads";
w_.a209 = "gallery widget";
w_.a210 = "Gallery Widget";
w_.a211 = "downloads";
w_.a212 = "Use the links below to download data and uploads to your computer. Only generate and download one item at a time. Your current download will break if you request a different download before the current download has completed.";
w_.a213 = "download all";
w_.a214 = "Download ZIP file with all HTML, CSV* and uploads - this will take some time to generate and download, depending on the number and size of the uploads in this $$1.";
w_.a215 = "download all since";
w_.a216 = "Download ZIP file with all HTML, CSV* and uploads added since <span id=ddd>$$1</span> - this will take some time to generate and download, depending on the number and size of the uploads added since your last download. Simply extract the files in this ZIP over your previous 'all' download to update your offline files.";
w_.a217 = "download all except uploads";
w_.a218 = "Download ZIP file with all HTML and CSV* excluding uploads. Simply extract the files in this ZIP over your previous 'all' download to update your offline files.";
w_.a217a = "download uploads with status";
w_.a218a = "Download ZIP file with uploads with the selected status. The file names will be formatted FIRSTNAME_LASTNAME-ENTRYID.UPLOADID.EXTENSION . Example: Jim_Wagner-13456.192122.jpg .";
w_.a219 = "download entries csv";
w_.a220 = "Download CSV* file of entrants and entries only.";
w_.a221 = "download uploads csv";
w_.a222 = "Download CSV* file of entrants and uploads info only.";
w_.a221a = "download entrants csv";
w_.a222a = "Download CSV* file of entrants info including statement and resume.";
w_.a221b = "download votes csv";
w_.a222b = "Download CSV* file of juror votes.";
w_.a223 = "* CSV stands for Comma Separated Values. You can import the CSV downloads into Excel, Open Office, Access or whatever you're using to crunch data.";
w_.a224 = "Adjust the settings and then click, copy and paste the html code below into a page on your site to get a thumbnail image gallery of this show";
w_.a225 = "Gallery overview";
w_.a226 = "Show";
w_.a227 = "accepted";
w_.a228 = "entered";
w_.a229 = "entries with ";
w_.a230 = "one image";
w_.a230a = "all images";
w_.a230b = " from each entrant - ";
w_.a231 = "make the images ";
w_.a232 = "pixels wide, ";
w_.a233 = "show";
w_.a234 = "don't show";
w_.a234a = "entrant's ";
w_.a235 = "space codes. Sort by ";
w_.a235a = "category, last name";
w_.a235b = "last name";
w_.a235c = "space";
w_.a235d = "and start with category";
w_.a235e = "All";
w_.a236 = "Entrant details";
w_.a237 = "Enable";
w_.a238 = "Disable";
w_.a239 = "links to original image popups,";
w_.a240 = "show";
w_.a241 = "hide";
w_.a242 = "web site links, ";
w_.a242b = "street address and ";
w_.a242c = "phone number.";
w_.a242a = "Also, for each image,";
w_.a243 = "dimensions,";
w_.a244 = "material,";
w_.a245 = "price and";
w_.a246 = "year.";
w_.a246a = "Show";
w_.a246b = "all";
w_.a246c = "only accepted";
w_.a246d = "images.";
w_.a247 = "Commenting";
w_.a248 = "comments";
w_.a249 = "with";
w_.a250 = "without";
w_.a251 = "moderation* and";
w_.a252 = "recent comments in a column";
w_.a253 = "pixels wide.";
w_.a254 = "Art sales & Paypal";
w_.a255 = "Paypal payment buttons for artwork ** with payments going to this Paypal account email address:";
w_.a256 = ", charging $";
w_.a256a = " and ";
w_.a257 = "% for shipping and ";
w_.a257a = "% tax per order.";
w_.a258 = "* When you enable comment moderation, comments will not be posted immediately - they must first be approved through $$1comment moderation in the gallery widget admin area</a>.";
w_.a259 = "** When you enable Paypal payment buttons for artwork, you can mark items as sold and edit prices through the $$1gallery widget admin area</a>. The price charged for each item is the price entered by the entrant when uploading the image or whatever you change it to (as admin). Items sold through Paypal purchases are automatically marked as 'Sold'.";
w_.a260 = "Ooops. That is not a valid download date";
w_.a261 = "Your requested ZIP file is currently being generated. Please wait until it has completed before requesting another download";
w_.a262 = "This may take a while. Are you sure you want to proceed?";
w_.a263 = "click to download";
w_.a264 = "part";
w_.e2 = "Ooops. Please enter a first name, last name or email (or just part of a first name, last name or email) to find entrants.";
w_.e4 = "Add Entry";
w_.e5 = "Find &amp; Add &raquo;";
w_.e6 = "Cancel";
w_.e7 = "Select from the following entrants to add an entry for that entrant";
w_.e8 = "or";
w_.e9 = "Click here to add a new entrant and then add the entry.";
w_.e10 = "No entrants were found that match the name / email you entered.";
w_.e11 = "Note: Only showing the first 50 entrants that match the name / email you entered.";
w_.e12 = "You can edit the name and/or email on the left and click 'Find &amp; Add &raquo;' again to see if you can find an already existing entrant. You can also use parts of names if you're unsure of the spelling.";
w_.e13 = "Use the form on the left to add or find an entrant and then add an entry to this call. Enter a name, email or parts of a name or email.<br><br>If entrants with the first and last names or email that you enter here already exist, you will be able to select them from a list and add an entry for them. Otherwise you will be able to create a new entrant.";
w_.e14 = "entries";
w_.e15 = "Use the form on the left to add any contact information for this entrant. The entrant must have a first and last name. If you add an email and password, they will be able to login with that email and password. The entrant can always request that a new password be sent to that email - you as administrator can also add a password later.";
w_.e16 = "Next &raquo;";
w_.e17 = "Back";
w_.e18 = "Ooops. Please enter a first name.";
w_.e19 = "Ooops. Please enter a last name.";
w_.e20 = "Ooops. The password must be at least 5 characters long.\n\nA password is not manditory - but entrants will only be able to login to their account if they have a password. They can always request a new password via email.";
w_.e21 = "Ooops. You did not confirm the password correctly.";
w_.e22 = "Please verify the entrant's information below. Click 'Next &raquo;' to continue or 'Back' to edit.";
w_.e23 = "Ooops. That email has already been registered.\n\nPlease use another or go back and search for that email to use that entrant's existing profile for this entry.";
w_.e24 = "Add Entry for";
w_.e25 = "This entry's $$1s may be used for publicity.";
w_.e26 = "Ooops. Please select a category for the entry.";
w_.e27 = "Ooops. You didn't fill out all required fields";
w_.e28 = "Add Entry";
w_.i1 = "General Entry Information";
w_.i2 = "Add $$1 to this entry";
w_.i2a = "Add a different view of this piece";
w_.i3 = "Type";
w_.i4 = "Art";
w_.i5 = "Booth/Display";
w_.i6 = "Title";
w_.i7 = "Material";
w_.i7a = "Description";
w_.i8 = "Price";
w_.i9 = "Year";
w_.i10 = "Video Width";
w_.i11 = "Height";
w_.i12 = "The file: </b> (permitted types: ";
w_.i13 = "Upload";
w_.i14 = "Cancel";
w_.i15 = "Ooops. You forgot to select a file to upload.";
w_.i16 = "Ooops. That doesn't seem to be a valid file. Please make sure you've selected a valid file type";
w_.i17 = "Ooops. You forgot to enter a title.";
w_.i18 = "Ooops. You forgot to enter the $$1.";
w_.i19 = "Ooops. You forgot to enter the materials you used.";
w_.i20 = "Ooops. You forgot to enter the price.";
w_.i21 = "Ooops. You forgot to enter the year.";
w_.i22 = "Ooops. Please select the type (art or booth/display).";
w_.i23 = "Ooops. Please enter both the width and the height of your video in pixels";
w_.i24 = "Print Entry";
w_.i25 = "print this page";
w_.i26 = "Name";
w_.i27 = "Terms of Entry";
w_.i28 = "Signature";
w_.i29 = "Date";
w_.i30 = "My Entry in";
w_.i31 = "add another entry";
w_.i32 = "see jury view";
w_.i32a = "entry instructions";
w_.i33 = "print entry";
w_.i33a = "Print entry";
w_.i34 = "delete entry";
w_.i35 = "edit";
w_.i36 = "Entry Status";
w_.i36a = "Final Instructions";
w_.i36b = "More $$1s Required";
w_.i36c1 = "You have to upload at least $$1 more $$2(s) before you can submit this entry. See the entry instructions for details on $$3 requirements.";
w_.i36c2 = "You have to upload at least $$1 more $$2(s) (including your booth/display image) before you can submit this entry. See the entry instructions for details on $$3 requirements.";
w_.i37 = "If you have a coupon code, enter it here before you submit your entry";
w_.i38 = "If you have a coupon code enter it in the field above the submit button.";
w_.i39 = "SUBMIT THIS ENTRY";
w_.i40 = "When you're happy with the general information for this entry (see below), you've added your $$1s and sorted them the way you want them presented to the jury, click the 'SUBMIT THIS ENTRY' button to finalize and submit this entry.";
w_.i41 = "what's this?";
w_.i42 = "You have other entries in this $$1:";
w_.i43 = "select another entry";
w_.i44 = "Category";
w_.i44a = "Entry Number";
w_.i45 = "How I found out about this call for entries";
w_.i46 = "Submitted";
w_.i47 = "Entry Instructions";
w_.i48 = "Entry in";
w_.i49 = "entries";
w_.i50 = "pieces";
w_.i51 = "overview";
w_.i52 = "From";
w_.i53 = "Status";
w_.i54 = "next...";
w_.i54a = "...previous";
w_.i55 = "delete";
w_.i56 = "next entry needing my vote...";
w_.i57 = "Additional Info";
w_.i58 = "no votes yet";
w_.i59 = "total points from $$1 votes";
w_.i60 = "Ooops. You haven't added any $$1s yet. Click [add $$2] next to 'Pieces for this Entry' to add $$3s to your entry.";
w_.i60a = "Ooops. That is not the correct coupon code. Please clear the coupon code field or enter the correct coupon code to continue.";
w_.i61 = "Ooops. You haven't added the minimum number of $$1s ($$2) yet. Click [add $$3] next to '$$4s for this Entry' to add $$5s to your entry.";
w_.i62 = "Ooops. You've added more than the maximum number of $$1s ($$2). Please delete $$3s before submitting.";
w_.i63 = "Ooops. You haven't added a Booth/Display image yet. Please add another image and select the Booth/Display option.\n\nIf you've already added a booth/display image, please click the [set as booth/display] link next to the image to mark it as such and then submit your entry again.";
w_.i64 = "Ooops. You've added more than one Booth/Display. Please make sure that you've only marked one piece as Booth/Display.";
w_.i65 = "STOP!\n\nHave you added all of your pieces / artwork for this entry? You'll only need another entry if you want to apply in a different category.\n\nAre the pieces in the order you want them to be shown to the jury?\n\nHave you double checked your piece titles and other information?\n\nHave you double checked your profile information (My Profile link above) and your General Entry Information below?\n\nIf not, please click 'Cancel' and click [add piece] to continue adding pieces to this entry. You can use [move up] and [move down] to change the order of your pieces for the jury. You can click [edit] for each piece to edit the title and other piece information.\n\nOtherwise click 'Ok' to continue.";
w_.i66 = "Are you sure you want to finalize and submit this entry? \n\nPlease make sure you've added all of your $$1s and that they are in the order you want them to be shown to the jury.\n\nYou might also want to double check your profile information (My Profile link above) and your General Entry Information below.";
w_.i67 = "Save";
w_.i68 = "Cancel";
w_.i69 = "You can reuse $$1s that you've added to other $$2. However, you don't have any $$3s from other $$4 yet. $$5Click here</a> to upload $$6s to this $$7.";
w_.i70 = "You can reuse $$1s from your entries to other $$2. Just select the $$3s you'd like to use for this $$4 below and click 'Use Selected $$5s' below.";
w_.i70a = "<br><br><b>Note: </b> Pieces will be deleted when the associated calls are deleted by the organizations hosting them. You may want to consider using <a href=https://www.entrythingy.com/forartists_artworkmanagement target=awm>EntryThingy's Artwork management</a>.";
w_.i71 = "use this";
w_.i72 = "Use selected $$1s";
w_.i73 = "$$1s for this Entry";
w_.i74 = "Watch the Video";
w_.i74a = "Download original file";
w_.i75 = "Status";
w_.i76 = "move down";
w_.i77 = "move up";
w_.i78 = "edit";
w_.i79 = "delete";
w_.i80 = "You haven't added any $$1s yet. Click the <b>Add $$2</b> button above to upload your first $$3 from your computer.";
w_.i81 = '<br><br>You can also click <a href=# onclick="otherRevisions();return false;" class=ptbtn id=addfileslink>[reuse previous]</a> to reuse files that you\'ve added to other $$1.';
w_.i82 = "This is how it works:<ul><li>Click the Add $$1 button on the left (next to \\'$$2s for this Entry\\') to add $$3s to your entry. Use the [move up] and [move down] links for each $$4 to change the order of the $$5s for the jury view.</li><li>Click [edit] on the right (next to \\'General Entry Information\\') to edit the general information of your entry. </li><li>Click [see jury view] above to see how the jury will see your entry.</li></ul>When you\\'re happy with the general information entry (see below), you\\'ve added your $$6s and sorted them the way you want them to be presented to the jury, click the \\'SUBMIT THIS ENTRY\\' button.<br><br><b><font size=+1>Questions? Please click over to the <a href=https://www.entrythingy.com/faq.html#forartists target=faq>FAQ for Artists</a> for answers to frequently asked questions.</font></b>";
w_.i83 = "Add $$1";
w_.i83a = "Add view";
w_.i84 = "reuse previous";
w_.i84a = "select from my artwork";
w_.i85 = "how does this work?";
w_.i86 = "NEXT STEP: \n\n* Read and follow the Final Instructions.";
w_.i87 = "Thanks for submitting your entry!";
w_.i87a = "There are no final instructions. Thank you for submitting your entry!";
w_.i88 = "This call for entries is closed for new entries. You will only be able to view your entry.";
w_.i89 = "You are submitting a late entry. Click Ok to proceed with your entry.";
w_.i90 = "Click to show resizable original version.";
w_.i91 = "Download original file";
w_.i92 = "File size";
w_.i93 = "delete";
w_.i94 = "Show booth/display";
w_.i95 = "Drag window corner to enlarge image.";
w_.i96 = "Are you sure you want to delete this $$1?";
w_.i97 = "Ooops. Please enter a $$1.";
w_.i98 = "Ooops. The $$1 is longer than $$2 characters.";
w_.i99 = "Ooops. Please select a category for your entry.";
w_.i100 = "Ooops. You must agree with the terms of entry to continue.";
w_.i101 = "Ooops. Please let us know how you found out about this call for entries.";
w_.i102 = "Ooops. You didn't fill out all required fields";
w_.i103 = "Are you sure you want to delete this entry?";
w_.i104 = "Ooops. This $$1 is closed for new entries.";
w_.i106 = "My Entry in";
w_.i107 = "To get started with your entry, please fill out the form below.";
w_.i107a = "General Entry Information";
w_.i108 = "You must also agree to the terms of entry shown on the right.";
w_.i109 = "characters remaining";
w_.i110 = "I agree with the <a href=# onclick='showTerms(); return false;'>terms of entry</a>.";
w_.i111 = "How did you find out about this call for entries?";
w_.i112 = "My $$1s may be used for publicity.";
w_.i113 = "Save";
w_.i113a = " and Continue to Next Step";
w_.i114 = "Cancel";
w_.i115 = "$$1 Information";
w_.i116 = "$$1 Name";
w_.i117 = "Deadline for entry";
w_.i118 = "Deadline for late entry";
w_.i119 = "Show date";
w_.i120 = "Description";
w_.i121 = "Entry Instructions";
w_.i121a = "I have read and understand the entry instructions";
w_.i121b = "Continue to Next Step";
w_.i121c = "Ooops. Please indicate that you have read and understand the entry instructions before proceeding.";
w_.i122 = "Terms of Entry";
w_.i123 = "Your file is uploading. Please do not refresh or navigate away from this page until the upload is complete.</p><p class=ptp>$$1 &nbsp;Uploading... ";
w_.i124 = "Ooops. Server error uploading file. Please try again later.";
w_.i125 = "Ooops. Invalid upload authorization. Please try again.";
w_.i126 = "Ooops. The size of the file(s) you are uploading $$1 is larger than the maximum file size allowed $$2. Please try again.";
w_.i127 = "Ooops. That was not a valid image file.";
w_.i128 = "Ooops. Your upload has failed. \n\nReason: ";
w_.i129 = "% complete";
w_.i130 = "remaining time";
w_.i131 = "minutes";
w_.i132 = "seconds";
w_.i133 = "Ooops. No entry found for this category";
w_.i134 = "back to entry";
w_.i135 = "Ooops. This $$1 is closed for new entries.";
w_.i136 = "My Statement and Resume";
w_.i136a = "My Statement";
w_.i136b = "My Resume";
w_.i137 = "Please start by entering your $$1 below. You can type in your information or copy and paste from a Word document. You can always edit this information later by clicking 'My Profile' and then [edit profile].";
w_.i137a = "statement and resume";
w_.i137b = "statement";
w_.i137c = "resume";
w_.i138 = "Statement";
w_.i139 = "Resume";
w_.i140 = "Submit";
w_.i141 = "Cancel";
w_.i142 = "Ooops. Please enter your statement.";
w_.i143 = "Ooops. Please enter your resume.";
w_.i144 = "Click 'Submit' to confirm your information or 'Back' to edit.";
w_.i145 = "Back";
w_.t1 = "today";
w_.t2 = "yesterday";
w_.t3 = "tomorrow";
w_.t4 = "$$1 months ago on";
w_.t5 = "$$1 days ago on";
w_.t6 = "in $$1 months on";
w_.t7 = "in $$1 days on";
w_.t8 = "Ooops. Something must have gone wrong. Please try again.";
w_.t9 = "Loading via secure connection...";
w_.t10 = "Still working...";
w_.t11 = "$$1 $$2 $$3";
w_.t12 = "$$1/$$2/$$3";
w_.t13 = "mm/dd/yyyy";
w_.c1 = "Choose date";
w_.me2 = "Ooops. Please enter a first name, last name or email (or just part of a first name, last name or email) to find members.";
w_.me4 = "Add Member";
w_.me5 = "Find &amp; Add &raquo;";
w_.me6 = "Cancel";
w_.me7 = "Select from the following users to add as member";
w_.me8 = "or";
w_.me9 = "click here to add a new member.";
w_.me10 = "No users were found that match the name / email you entered.";
w_.me11 = "Note: Only showing the first 50 users that match the name / email you entered.";
w_.me12 = "You can edit the name and/or email on the left and click 'Find &amp; Add &raquo;' again to see if you can find an already existing user. You can also use parts of names if you're unsure of the spelling.";
w_.me13 = "Use the form on the left to add or find a user and then add them as a member. Enter a name, email or parts of a name or email.<br><br>If users with the first and last names or email that you enter here already exist, you will be able to select them from a list and add them as a member. Otherwise you will be able to create a new user.";
w_.me15 = "Use the form on the left to create a new user account. The account must have a first and last name. If you add an email and password, the user will be able to login with that email and password. The user can always request that a new password be sent to that email later.<br><br>After you create a new user account here, you'll be taken to that user's profile where you can edit their contact information, password and membership status.";
w_.me16 = "Next &raquo;";
w_.me17 = "Back";
w_.me18 = "Ooops. Please enter a first name.";
w_.me19 = "Ooops. Please enter a last name.";
w_.me20 = "Ooops. The password must be at least 5 characters long.\n\nA password is not manditory - but members will only be able to login to their account if they have a password. They can always request a new password via email.";
w_.me21 = "Ooops. You did not confirm the password correctly.";
w_.me22 = "Please verify the member's information below. Click 'Next &raquo;' to continue or 'Back' to edit.";
w_.me23 = "Ooops. That email has already been registered.\n\nPlease use another or go back and search for that email to use that user's existing profile for this membership.";
var dba, baseserverurl, baseserverip, oldhash = window.location.hash, hashcheck = setInterval("checkHash()", 500), signupinfo = [];
function includeCSS(a) {
	var b = document.getElementsByTagName("head").item(0);
	b || alert(w_.m1);
	if (null == document.getElementById(a)) {
		var c = document.createElement("link");
		c.setAttribute("rel", "stylesheet");
		c.setAttribute("type", "text/css");
		c.setAttribute("href", a);
		c.setAttribute("id", a);
		b.appendChild(c)
	}
}
function setCurrWidget(a) {
	if (a) {
		currwidget = a;
		if (!gEBI("headaddjs") && currwidget.addjs && 0 < currwidget.addjs.length) {
			(div = document.getElementsByTagName("head").item(0)) || alert("Ooops. Your page must have a <head> element.");
			var b = document.createElement("script");
			b.setAttribute("language", "javascript");
			b.setAttribute("type", "text/javascript");
			b.setAttribute("charset", "utf-8");
			b.setAttribute("id", "headaddjs");
			b.text = a.addjs.replace(/&quot;/g, '"');
			div.appendChild(b)
		}
		currwidget.swversion && eval(currwidget.swversion) > swversion && window.location.reload(!0)
	}
}
function setCurrShow(a) {
	currshow = a;
	setWords(currshow.filetypes);
	prepshow && prepshow(currshow.id)
}
function setWords(a) {
	var b = 0;
	Dimensions = dimensions = W_upload = w_upload = "";
	if ("1" == a.charAt(FILETYPE_JPG) || "1" == a.charAt(FILETYPE_PNG) || "1" == a.charAt(FILETYPE_GIF) || "1" == a.charAt(FILETYPE_STL))
		w_upload = w_.m2,
		W_upload = w_.m3,
		dimensions += w_.m4,
		Dimensions += w_.m5,
		b++;
	"1" == a.charAt(FILETYPE_MP3) && (w_upload = "mp3",
	W_upload = "MP3",
	0 < dimensions.length && (dimensions += "/",
	Dimensions += "/"),
	dimensions += w_.m6,
	Dimensions += w_.m7,
	b++);
	if ("1" == a.charAt(FILETYPE_PDF) || "1" == a.charAt(FILETYPE_DOC))
		w_upload += w_.m8,
		W_upload = w_.m9,
		0 < dimensions.length && (dimensions += "/",
		Dimensions += "/"),
		dimensions += w_.m10,
		Dimensions += w_.m11,
		b++;
	if ("1" == a.charAt(FILETYPE_MOV) || "1" == a.charAt(FILETYPE_MP4) || "1" == a.charAt(FILETYPE_WMV))
		w_upload = w_.m12,
		W_upload = w_.m13,
		"0" == a.charAt(FILETYPE_MP3) && (0 < dimensions.length && (dimensions += "/",
		Dimensions += "/"),
		dimensions += w_.m6,
		Dimensions += w_.m7),
		b++;
	1 < b && (w_upload = w_.m14,
	W_upload = w_.m15)
}
function checkHash() {
	oldhash != window.location.hash && -1 == window.location.hash.indexOf("scrollto") && (oldhash = window.location.hash,
	-1 == window.location.href.indexOf("arts-festival.com") && displayDashboard())
}
var w_upload = w_.m2, W_upload = w_.m3, dimensions = w_.m4, Dimensions = w_.m5, WIDGETPREF_SKIPSIGNUPINFO = 0, WIDGETPREF_ASKFORBUSINESS = 1, WIDGETPREF_SHOWSORT = 2, WIDGETPREF_JURYCOLS = 3, WIDGETPREF_ASKFORPARTNER = 6, SHOWPREF_JURYSORT = 1, SHOWPREF_VOTEFOR = 2, SHOWPREF_ASKFORARTBOOTH = 3, SHOWPREF_ASKFORMATERIAL = 4, SHOWPREF_ASKFORDIMENSIONS = 5, SHOWPREF_ASKFORPUBLICITY = 7, SHOWPREF_STATEMENTLENGTH = 8, SHOWPREF_POINTSSTART = 9, SHOWPREF_POINTSEND = 10, SHOWPREF_POINTSSKIP = 11, SHOWPREF_SHOWVOTESPREAD = 12, SHOWPREF_ASKFORPRICE = 13, SHOWPREF_ASKFORVOTENOTE = 14, SHOWPREF_PRINTSIGNATURE = 15, SHOWPREF_OVERVIEWSORTPOINTS = 16, SHOWPREF_ASKFORYEAR = 17, SHOWPREF_SHOWPROFILELINK = 18, SHOWPREF_ASKFORRESUME = 19, SHOWPREF_ASKFORSTATEMENT = 20, SHOWPREF_ASKHOWFIND = 21, SHOWPREF_ASKFORDESCRIPTIONOFWORK = 22, SHOWPREF_ASKFORENTRYSTATEMENT = 23, SHOWPREF_ENTRYSTATEMENTLENGTH = 24, SHOWPREF_ASKFORIMAGEDESCRIPTION = 25, SHOWPREF_FBSHOWSTATUS = 26, SHOWPREF_JURORNOTES = 27, SHOWPREF_ADMINNOTESFORJURORS = 28, SHOWPREF_JURORNOTESFORENTRANTS = 29, SHOWPREF_UPLOADOPTIONAL = 30, SHOWPREF_HASVIEWSOFPIECE = 31, SHOWPREF_SHOWPRICETOJURORS = 32, SHOWPREF_IMAGEVIEWS = 33, FILETYPE_JPG = 0, FILETYPE_PNG = 1, FILETYPE_GIF = 2, FILETYPE_MP3 = 3, FILETYPE_PDF = 4, FILETYPE_DOC = 5, FILETYPE_MOV = 6, FILETYPE_MP4 = 7, FILETYPE_WMV = 8, FILETYPE_STL = 9, FILETYPE_XLS = 10, FILETYPES = ".jpg .png .gif .mp3 .pdf .doc .mov .mp4 .wmv .stl .xls".split(" "), ALTFILETYPES = ".jpeg $x $x $x $x .docx $x $x $x $x .xlsx".split(" "), PERM_NOACCESS = 10, PERM_ARTIST = 30, PERM_JURY = 60, PERM_SHOWADMIN = 90, PERM_ADMIN = 100, JSC_UPLOADSTATUS = 0, JSC_LOGIN = 1, JSC_LOGOUT = 2, JSC_SIGNUP = 3, JSC_SIGNUPINFO = 4, JSC_FORGOTPASSWORD = 5, JSC_POSTCHECK = 6, JSC_STARTWITHLIST = 10, JSC_DASHBOARD_SHOWS = 12, JSC_DASHBOARD_ITEMS = 13, JSC_PROFILE = 16, JSC_ADMIN_USERS = 17, JSC_ITEM_ITEM = 18, JSC_ITEM_REVISIONS = 19, JSC_EDITRESUME = 20, JSC_ADMIN_PURCHASE = 21, JSC_DASHBOARD_WIDGET = 22, JSC_ITEM_ITEMBYCAT = 23, JSC_SHOW_SHOW = 24, JSC_SHOW_ITEMS = 25, JSC_SUBMITITEM = 26, JSC_ADMIN_WIDGETSALES = 27, JSC_ADMIN_WIDGETCOMMENTS = 28, JSC_CLEARVOTES = 29, JSC_ADMIN_ARTISTS = 30, JSC_ADMIN_PREFS = 31, JSC_SHOW_REVISIONS = 32, JSC_ITEM_VOTES = 33, JSC_SHOW_UPDATESTATUS = 34, JSC_SHOW_STATS = 35, JSC_SHOW_ENTRIESPERCAT = 36, JSC_ADMIN_WIDGETSALESSTART = 37, JSC_ITEM_PRINT = 38, JSC_ITEM_SAVECATEGORY = 39, JSC_ADMIN_ADDENTRY1 = 40, JSC_ADMIN_ADDENTRY2 = 41, JSC_ADMIN_ADDENTRY3 = 42, JSC_ADMIN_EMAILER = 45, JSC_ADMIN_EDITEMAILALERT = 46, JSC_ADMIN_ALLEMAILALERT = 47, JSC_SUBMITTOKEN = 48, JSC_VOTINGWALL = 49, JSC_ADMIN_SHOWADMININFO = 50, JSC_SHOW_UPLOADCSV = 51, JSC_ADDFILES = 101, JSC_EDITSHOW = 102, JSC_SAVEITEM = 103, JSC_DELETESHOW = 104, JSC_DELETEITEM = 106, JSC_ADDVIEW = 117, JSC_SAVEBOOKMARK = 118, JSC_BOOKMARKS = 119, JSC_DELETEREVISION = 107, JSC_OTHERREVISIONS = 108, JSC_AWMARTWORK = 109, JSC_BADDOWNLOAD = 110, JSC_EDITITEM = 111, JSC_SAVEVOTENOTE = 112, JSC_SAVEVOTE = 113, JSC_NEXTITEM = 114, JSC_DOWNLOADSHOW = 115, JSC_ITEM_NOTES = 116, JSC_NONE = 1E3, currjson, currpw, curruser, currmessages, curritems, currshow, curritem, currrevision, curruserid, currperm = 0, myprofilejson, currrevisions, currhistory, currwidget, isloggedin = !1, START = [];
function handleJSON(a, b, c, e) {
	0 >= --remainingcommands && (remainingcommands = 0,
	setHTML("et_loading", ""),
	null != commandchecker && clearTimeout(commandchecker),
	currcommands = commandchecker = null,
	retrying = !1);
	b.s ? (currjson = b,
	"badcode" == b.s ? (a = w_.m22,
	setHTML("et_apparea", a)) : "notactive" == b.s ? (a = w_.m23,
	setHTML("et_apparea", a)) : "nodb" == b.s ? (a = w_.m24,
	setHTML("et_apparea", a)) : "wrongdomain" == b.s ? (displayLogin(!1),
	displayError(w_.m25b)) : "noauth" == b.s || "maxbadlogins" == b.s ? (logout(!1),
	displayLogin(!1),
	displayError("noauth" == b.s ? w_.m25 : w_.m25a)) : "notfound" == b.s ? displayDashboard("k") : "notmember" == b.s ? (alert(w_.m26),
	window.location.hash = "",
	displayDashboard()) : "notowner" == b.s ? (alert(w_.m27),
	window.location.hash = "",
	displayDashboard()) : a == JSC_LOGIN ? "pending" == b.s ? (logout(!1),
	displayLogin(!1),
	alert("!")) : "ok" == b.s || "needsinfo" == b.s ? (curruserid = b.id,
	currperm = eval(b.permission),
	curruser = b,
	isloggedin = !0,
	"needsinfo" == b.s && "2" != b.prefs.charAt(WIDGETPREF_SKIPSIGNUPINFO) ? (signupinfo.first_name = b.first_name,
	signupinfo.last_name = b.last_name,
	displaySignupInfo(b.prefs)) : displayDashboard()) : (displayLogin(!1),
	displayError(w_.m29 + " (" + b.s + ")")) : a == JSC_LOGOUT ? (isloggedin = !1,
	displayLogin(!1)) : a == JSC_SIGNUP ? "ok" == b.s ? (curruserid = b.userid,
	currperm = PERM_ARTIST,
	"2" != b.prefs.charAt(WIDGETPREF_SKIPSIGNUPINFO) ? displaySignupInfo(b.prefs) : displayDashboard("f")) : confirm(w_.m28) ? displayLogin() : displaySignup(!1, !0) : a == JSC_SIGNUPINFO ? "ok" == b.s ? (curruser = b,
	displayDashboard("f")) : (displaySignupInfo(),
	displayError(w_.m29)) : a == JSC_FORGOTPASSWORD ? "ok" == b.s ? setHTML("et_apparea", w_.m30 + '<br><br><a href=# onclick="displayLogin(false);return false;">' + w_.m30a + "</a>.") : (displayForgotPassword(),
	displayError(w_.m31)) : a != JSC_NONE && alert(w_.m29)) : a == JSC_STARTWITHLIST ? displayStartWithList(b.data) : a == JSC_DASHBOARD_SHOWS ? displayDashboardShows(b.data) : a == JSC_DASHBOARD_ITEMS ? displayDashboardItems(b.data) : a == JSC_DASHBOARD_WIDGET ? displayDashboardDashboard(b) : a == JSC_DELETESHOW ? (window.location.hash = "",
	displayDashboard()) : a == JSC_DELETEITEM ? displayShow(b.show_id) : a == JSC_DELETEREVISION ? displayItem(b.id) : a == JSC_ADDFILES ? uploadFile(b, "revision") : a == JSC_ADDVIEW ? uploadFile(b, "view") : a == JSC_EDITRESUME ? displayEditResume(b) : a == JSC_EDITITEM ? displayEditItem(b) : a == JSC_ITEM_NOTES ? displayItemNotes(b.data) : a == JSC_SAVEITEM ? displayItem(null, b.id) : a == JSC_POSTCHECK ? postChecker(b.id) : a == JSC_SHOW_SHOW ? displayShowShow(b, c) : a == JSC_SHOW_ITEMS ? displayShowItems(b.data) : a == JSC_SHOW_STATS ? displayShowStats(b, c) : a == JSC_SHOW_ENTRIESPERCAT ? displayEntriesPerCat(b) : a == JSC_SHOW_REVISIONS ? displayShowRevisions(b.data) : a == JSC_VOTINGWALL ? displayVotingWall(b.data) : a == JSC_SHOW_UPDATESTATUS ? alert(w_.m32) : a == JSC_CLEARVOTES ? alert(w_.m33) : a == JSC_SUBMITITEM ? currperm == PERM_ARTIST ? displayItem(null, b.itemid) : displayShow(curritem.show_id) : a == JSC_SUBMITTOKEN ? submitEntryToken(b.submittoken) : a == JSC_ITEM_ITEM ? displayItemItem(b, c, e) : a == JSC_SAVEVOTE ? displayVote(b) : a == JSC_BOOKMARKS ? displayBookmarks(b.data) : a == JSC_SAVEBOOKMARK ? alert("Bookmark saved. Click the [bookmarks] link to view your bookmarked entries.") : a == JSC_ITEM_VOTES ? displayItemVotes(b.data) : a == JSC_ITEM_ITEMBYCAT ? displayJuryItem(b.itemid) : a == JSC_NEXTITEM ? b.message ? alert(b.message) : displayJuryItem(b.id) : a == JSC_ITEM_REVISIONS ? displayItemRevisions(b.data) : a == JSC_ITEM_PRINT ? printEntry(b) : a == JSC_ITEM_SAVECATEGORY ? savedCategory(b) : a == JSC_OTHERREVISIONS ? displayOtherRevisions(b.data) : a == JSC_AWMARTWORK ? displayArtwork(b.data, c.data2) : a == JSC_PROFILE ? displayProfileProfile(b) : a == JSC_EDITSHOW ? displayEditShow(b.data, c.data2) : a == JSC_ADMIN_USERS ? displayAdminUsers(b.data, c.data2) : a == JSC_ADMIN_ARTISTS ? displayAdminEntrants(b.data, c.data2) : a == JSC_ADMIN_WIDGETCOMMENTS ? displayAdminWidgetComments(b.data) : a == JSC_ADMIN_WIDGETSALES ? displayAdminWidgetSales(b.data, c.data2) : a == JSC_ADMIN_WIDGETSALESSTART ? displayAdminWidgetSales(null, null, b.data) : a == JSC_ADMIN_PREFS ? displayAdminPrefs(b) : a == JSC_ADMIN_PURCHASE ? displayAdminSubscription(b.data, c.data2) : a == JSC_ADMIN_ADDENTRY1 ? aae1(b.data) : a == JSC_ADMIN_ADDENTRY2 ? aae3(b) : a == JSC_ADMIN_ADDENTRY3 ? aae4(b) : a == JSC_ADMIN_SHOWADMININFO ? showShowAdminInfo(b.data) : a == JSC_SHOW_UPLOADCSV ? startUploadSpaceCSV(b) : a == JSC_ADMIN_EMAILER ? displayAdminEmailer(b.data) : a == JSC_ADMIN_EDITEMAILALERT ? displayEditEmailAlert(b) : a == JSC_ADMIN_ALLEMAILALERT ? displayAllEmailAlert(b.data) : a == JSC_UPLOADSTATUS ? uploadStatus(b) : a == JSC_BADDOWNLOAD ? alert(w_.m34 + b.reason) : a == JSC_DOWNLOADSHOW ? downloadShowStatus(b) : 500 <= a && handleMembershipJSON(a, b, c, e);
	0 >= --remainingcommands && (remainingcommands = 0,
	setHTML("et_loading", ""))
}
function expand(a, b, c, e) {
	null != b ? gEBI(c + b).innerHTML = doBRs(d(a[b][e])) : gEBI(c).innerHTML = doBRs(d(a[e]));
	gEBI(c + "_l" + b).innerHTML = ""
}
function getNav() {
	var a = "<table width=99%><tr valign=bottom><td style='width:99%'><p style='margin-bottom:12px;'><a href='javascript:void(0);' onclick=\"displayDashboard(0);return false;\" class=et_mainnavlink>" + w_.m35 + "</a>";
	a += " &nbsp; &nbsp;<a href=# onclick=\"displayProfile('mine');return false;\" class=et_mainnavlink>" + w_.m36 + "</a>";
	a += "<span id=mymembershiplink>";
	currwidget.membershipstatus && 1 == currwidget.membershipstatus && (a += " &nbsp; &nbsp;<a href=# onclick=\"displayMembershipProfile('mine');return false;\" class=et_mainnavlink>My Membership</a>");
	a += "</span>";
	currperm >= PERM_SHOWADMIN && (a += ' &nbsp; &nbsp;<a href=# onclick="displayAdmin();return false;" class=et_mainnavlink>' + w_.m37 + "</a>");
	a += " &nbsp; &nbsp;";
	a = currperm >= PERM_SHOWADMIN ? a + ('<a target=faq href="' + w_.m38) : currperm == PERM_JURY ? a + "<a href=# onclick=\"popupVideo('http://www.entrythingy.com/vtour_jurors.html');return false;" : a + '<a target=faq href="http://www.entrythingy.com/faq.html#forartists';
	a += '" class=et_mainnavlink>' + w_.m39 + '</a> &nbsp; &nbsp;<a href=# onclick="logout(true);return false;" class=et_mainnavlink>' + w_.m40 + "</a>";
	currperm == PERM_ARTIST && (a += " &nbsp;  &nbsp; &nbsp;<nobr><a href=https://www.entrythingy.com/forartists target=forartists  class=et_mainnavlink title='View a list and a map of all calls for entry hosted by EntryThingy, review all of your entries in EntryThingy, manage your artwork and more'><font size=-2>EntryThingy For Artists &raquo;</font></a></nobr>");
	a += "<span id=et_loading></span></p><span id=addnav></span></td><td align=right style='width:auto'>";
	curruser && (a += "<p style='margin-bottom:12px;' title='this is entrythingy v" + swversion + "!'><nobr>" + w_.m41 + " " + curruser.first_name + " " + curruser.last_name,
	a += "</nobr></p>");
	return a + "</td></tr></table>"
}
var VIDEOS = [];
VIDEOS.artist = w_.m42;
VIDEOS.jury = w_.m43;
function popupVideo(a) {
	window.open(a, "pv", "status=0,width=1024,height=700,toolbar=0,menubar=0,scrollbars=1,status=0,location=1,resizable=1").focus()
}
function et_load(a, b, c, e, f, g) {
	1 == e && setHTML(b + "morelink", loadimage);
	e = START[a + b] + 50 * e;
	START[a + b] = e;
	"items" == b ? c = itemcatfilter + ":" + itemstatusfilter + ":" + itemsort : "revisions" == b ? c = revisionstatusfilter + ":" + revisionsort + ":" + itemcatfilter + ":" + itemstatusfilter : "entrants" == b ? c = adminentrantsfilter + ":" + adminentrantssort : "votingwall" == b && (c = itemcatfilter);
	a = "/widget?c=" + sitecode + "&a=" + a + "&d=" + b + "&which=" + encodeURIComponent(c) + "&start=" + e;
	f && (a += "&showid=" + f);
	g && (a += "&itemid=" + g);
	searchwords && (a += "&searchwords=" + encodeURIComponent(searchwords));
	sendCommand(baseserverip, a)
}
function pagination(a, b, c, e, f) {
	if (0 == START[a + b] && 51 > c.length)
		return "";
	var g = "<span id=" + b + "list" + (START[a + b] + 50) + "><br><center><span id=" + b + "morelink>";
	"no" != w_.scrollupto && (g += '<a href=# onclick="window.scrollTo(0,' + w_.scrollupto + ');return false;">[top]</a>');
	51 == c.length && (g += " &nbsp; &nbsp; &nbsp <a href=# onclick=\"et_load('" + a + "', '" + b + "', 'all', 1," + e + "," + f + ');return false;">[' + w_.m44 + "]</a>");
	return g + "</span></center></span>"
}
function mouseList(a, b, c) {
	"in" == c ? (gEBI("ml_" + a + "_l" + b).style.display = "block",
	gEBI("ml_" + a + "_n" + b).style.display = "none") : "out" == c && (gEBI("ml_" + a + "_l" + b).style.display = "none",
	gEBI("ml_" + a + "_n" + b).style.display = "block")
}
function filterItems(a, b) {
	START.showitems = 0;
	gEBI("filteritemscat") && (itemcatfilter = gEBI("filteritemscat").value);
	itemstatusfilter = gEBI("filteritemsstatus").value;
	itemsort = gEBI("sortitems").value;
	et_load(a, b, "all", 0, currshow.id)
}
function filterRevisions(a, b) {
	START.showrevisions = 0;
	gEBI("filteritemscat") && (itemcatfilter = gEBI("filteritemscat").value);
	gEBI("filteritemsstatus") && (itemstatusfilter = gEBI("filteritemsstatus").value);
	gEBI("filterrevisionstatus") && (revisionstatusfilter = gEBI("filterrevisionstatus").value);
	gEBI("sortrevisions") && (revisionsort = gEBI("sortrevisions").value);
	et_load(a, b, "all", 0, currshow.id)
}
;loadimage = "<img src=https://entrythingy.s3.amazonaws.com/images/loading.gif width=15 height=15>";
function displayDate(a, b, c, e, f) {
	if (!a)
		return "n/a";
	if (2 > a.length)
		return "";
	var g = new Date;
	a = Date.parse(a);
	a = new Date(a);
	var k = "";
	!e && (e = new Date(a),
	e.setHours(23),
	e.setMinutes(59),
	g = new Date(g),
	g.setHours(23),
	g.setMinutes(59),
	g = Math.round((e - g.getTime()) / 864E5),
	k = 0 == g ? k + w_.t1 : -1 == g ? k + w_.t2 : 1 == g ? k + w_.t3 : -90 > g ? k + _w_("t4", [Math.round(-g / 30) + ""]) : -1 > g ? k + _w_("t5", [-g + ""]) : 90 < g ? k + _w_("t6", [Math.round(g / 30) + ""]) : k + _w_("t7", [g + ""]),
	k = c ? k + "<br>" : k + " ",
	-1 > g || 1 < g) && (f = !0);
	k += _w_("t11", [MONTHS[a.getMonth()], a.getDate(), a.getFullYear()]);
	f || (k += " ",
	"en" == et_lang ? (c = a.getHours(),
	f = "am",
	12 < c ? (c -= 12,
	f = "pm") : 12 == c && (f = "pm"),
	k += c + ":",
	10 > a.getMinutes() && (k += "0"),
	k += a.getMinutes() + f) : (k += a.getHours() + ":",
	10 > a.getMinutes() && (k += "0"),
	k += a.getMinutes()));
	b && (k = a < new Date ? "<font color=" + (w_.date_red ? w_.date_red : "red") + ">" + k + "</font>" : "<font color=" + (w_.date_green ? w_.date_green : "green") + ">" + k + "</font>");
	return k
}
function displayError(a, b, c) {
	b || (b = "errorarea");
	c || (c = 280);
	gEBI(b).innerHTML = "<br><div style='background-color:white; color:red; width:" + c + "px; padding:10px;'>" + a + "</div><br>"
}
function displaySimpleDate(a) {
	if (!a)
		return "n/a";
	if (2 > a.length)
		return "";
	a = Date.parse(a);
	a = new Date(a);
	return _w_("t12", [a.getMonth() + 1, a.getDate(), a.getFullYear()])
}
function checkDate(a) {
	if (-1 != a.indexOf("/"))
		return a;
	try {
		if (-1 != a.indexOf(".")) {
			var b = a.substring(0, a.indexOf("."));
			a = a.substring(a.indexOf(".") + 1)
		}
		if (-1 != a.indexOf(".")) {
			var c = a.substring(0, a.indexOf("."));
			var e = a.substring(a.indexOf(".") + 1)
		}
	} catch (f) {}
	b && c && e && (a = c + "/" + b + "/" + e);
	return a
}
function setHTML(a, b) {
	if (document.getElementById(a))
		document.getElementById(a).innerHTML = b;
	else
		try {
			"et_loading" != a && parent && parent.document && parent.document.getElementById(a) && (parent.document.getElementById(a).innerHTML = b)
		} catch (c) {
			console.log("setHTML ex: " + c)
		}
}
String.prototype.setCharAt = function(a, b) {
	return b > this.length - 1 ? this : this.substr(0, b) + a + this.substr(b + 1)
}
;
function xPos(a) {
	var b = 0;
	if (a.offsetParent)
		for (; ; ) {
			b += a.offsetTop;
			if (!a.offsetParent)
				break;
			a = a.offsetParent
		}
	else
		a.y && (b += a.y);
	return b
}
function setAppArea(a) {
	setHTML("et_apparea", a);
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
}
String.prototype.trim = function() {
	return this.replace(/^[\s\xA0]+/, "").replace(/[\s\xA0]+$/, "")
}
;
String.prototype.startsWith = function(a) {
	return this.match("^" + a) == a
}
;
String.prototype.endsWith = function(a) {
	return this.match(a + "$") == a
}
;
function d(a) {
	a = unescape(a);
	a = a.replace(/\+/g, " ");
	return a.replace(/'/g, "&#39;")
}
function doBRs(a) {
	return a ? a.replace(/\n/g, "<br>") : ""
}
function undoBRs(a) {
	return a ? a.replace(/<br>/g, "\n") : ""
}
function $(a) {
	return document.getElementById(a)
}
function gEBI(a) {
	return document.getElementById(a)
}
function cd() {
	return document.createElement("div")
}
function empty(a) {
	if (a)
		for (; a.hasChildNodes(); )
			a.removeChild(a.firstChild)
}
function trim(a) {
	return a.replace(/^\s+|\s+$/g, "")
}
function checkAmp(a) {
	return a.replace(/&/g, "&amp;")
}
function charClean(a) {
	return a.replace(/[\u00A0-\u9999<>&]/gim, function(a) {
		return "&#" + a.charCodeAt(0) + ";"
	})
}
var postchecker, postcheckercnt = 0, posting = null;
function postChecker(a, b) {
	posting && (a && "na" != a ? (postchecker && clearTimeout(postchecker),
	postchecker = null,
	postcheckercnt = 0,
	-1 != a.indexOf("show:") ? displayShow(a.substring(5)) : -1 != a.indexOf("profile:") ? displayProfile(a.substring(8)) : -1 != a.indexOf("uploadcsv:") ? (gEBI("uploadspacecsvbutton").disabled = !1,
	gEBI("uploadspacecsvbutton").value = "Upload",
	alert("Updated " + a.substring(10) + " entries with new space codes")) : -1 != a.indexOf("adminprefs:") ? displayAdmin("prefs") : -1 != a.indexOf("resume:") ? displayItem(a.substring(7)) : -1 != a.indexOf("emailalert:") ? editEmailAlert(a.substring(11)) : -1 != a.indexOf("err:") ? alert(a.substring(4)) : -1 != a.indexOf("awmwebsite:") ? sendCommand(baseserverip, "/awmjson?d=website&userid=" + curruser.id, null, "entrythingyawm") : membershipPostChecker(a),
	posting = null) : 20 < ++postcheckercnt ? (alert(w_.t8),
	postcheckercnt = 0,
	window.location.reload(!0)) : (b || (b = "entrythingy"),
	postchecker = setTimeout("sendCommand('" + baseserverip + "','/widget?c=" + sitecode + "&a=checkpost', true, '" + b + "')", 500)))
}
var commandcnt = Math.ceil(1E7 * Math.random()), ccbase = (new Date).getTime() - 1231877E6, dataareacnt = 0, remainingcommands = 0, commandchecker, currcommands, checkcommandcnt = 0, retrying = !1;
function sendCommand(a, b, c, e) {
	null == c && (setHTML("et_loading", " &nbsp; &nbsp; &nbsp;" + loadimage + " &nbsp;" + w_.t9),
	remainingcommands++,
	null == commandchecker && (currcommands = [],
	checkcommandcnt = 0,
	commandchecker = setTimeout("checkCommands()", 1E3)),
	null != currcommands && (currcommands[currcommands.length] = b));
	e || (e = "entrythingy");
	(c = readCookie(e)) && 3 < c.length && (b += "&ck=" + c);
	b += "&lang=" + et_lang;
	c = document.createElement("script");
	c.src = a + b + "&cnt=" + ccbase + "." + commandcnt + "&dba=" + dba;
	empty(document.getElementById("et_dataarea" + dataareacnt));
	document.getElementById("et_dataarea" + dataareacnt).appendChild(c);
	4 < ++dataareacnt && (dataareacnt = 0);
	commandcnt++
}
function checkCommands() {
	if (null != currcommands) {
		var a = "Loading...";
		retrying && (a = w_.t10);
		if (20 > ++checkcommandcnt) {
			for (var b = 0; b < checkcommandcnt; b++)
				a += ".";
			setHTML("et_loading", " &nbsp; &nbsp; &nbsp;" + loadimage + " &nbsp;" + a);
			commandchecker = setTimeout("checkCommands()", 1E3)
		} else {
			retrying = !0;
			for (b = 0; 5 > b; b++)
				empty(document.getElementById("et_dataarea" + b));
			commandchecker = null;
			remainingcommands = 0;
			a = [];
			for (b = 0; b < currcommands.length; b++)
				a[b] = currcommands[b];
			for (b = 0; b < a.length; b++)
				sendCommand(baseserverip, a[b])
		}
	}
}
function readCookie(a) {
	console.log("readCookie " + document.cookie);
	try {
		a += "=";
		for (var b = document.cookie.split(";"), c = 0; c < b.length; c++) {
			for (var e = b[c]; " " == e.charAt(0); )
				e = e.substring(1, e.length);
			if (0 == e.indexOf(a))
				return e.substring(a.length, e.length)
		}
	} catch (f) {
		console.log("ex readCookie " + f)
	}
	return currpw
}
function expandspan(a) {
	"inline" == document.getElementById(a).style.display ? document.getElementById(a).style.display = "none" : document.getElementById(a).style.display = "inline"
}
function baseConvert(a, b, c) {
	return parseInt(a, b).toString(c)
}
function base36Convert(a) {
	return parseInt(a, 10).toString(36)
}
function checkEmail(a) {
	return 7 > a.length ? "Ooops. That is not a valid email - it is too short." : -1 == a.indexOf("@") ? "Ooops. That is not a valid email - it does not have an @ sign." : -1 == a.indexOf(".") ? "Ooops. That is not a valid email - it does not have a period." : -1 != a.indexOf(" ") ? "Ooops. That is not a valid email - it has a space in it." : -1 != a.indexOf(",") ? "Ooops. That is not a valid email - it has a comma in it." : -1 != a.indexOf("\\") ? "Ooops. That is not a valid email - it has a backslash in it." : -1 != a.indexOf("/") ? "Ooops. That is not a valid email - it has a slash in it." : -1 != a.indexOf(";") ? "Ooops. That is not a valid email - it has a semicolon in it." : null
}
function addTableRow(a, b, c, e, f, g, k) {
	a = document.getElementById(a);
	var l = document.createElement("TR");
	e && l.setAttribute("align", e);
	c && l.setAttribute("valign", c);
	g && l.setAttribute("id", g);
	for (c = 0; c < b.length; c++)
		null != b[c] && (e = document.createElement("TD"),
		f && e.setAttribute("colspan", f),
		k && e.setAttribute("id", k[c]),
		e.innerHTML = b[c] + "&nbsp;",
		l.appendChild(e));
	a.appendChild(l)
}
;function displayAdmin(a) {
	remainingcommands = 0;
	if (!(currperm < PERM_SHOWADMIN)) {
		window.location.hash = "admin=" + (null != a ? a : "users");
		oldhash = window.location.hash;
		var b = getNav();
		b += "<p class=ptp><span class=et_title150bold>" + w_.a1 + ": ";
		null == a && (a = currperm == PERM_ADMIN ? "users" : "emailer");
		"users" == a ? b += w_.a2 : "entrants" == a ? (START.adminentrants = 0,
		b += w_.a3) : "prefs" == a ? b += w_.a4 : "emailer" == a ? b += w_.a5 : "purchase" == a ? b += w_.a6 : -1 != a.indexOf("widget") && (b += w_.a7);
		b += "</span>";
		currperm == PERM_ADMIN && (b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('users');return false;\" class=ptbtn>[" + w_.a8 + "]</a>");
		currperm == PERM_ADMIN && (b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('entrants');return false;\" class=ptbtn>[" + w_.a9 + "]</a>");
		currperm == PERM_ADMIN && (b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('prefs');return false;\" class=ptbtn>[" + w_.a10 + "]</a>");
		b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('emailer');return false;\" class=ptbtn>[" + w_.a11 + "]</a>";
		currperm >= PERM_ADMIN && -1 != sitecode.indexOf("NDlzcGFya3MuY29t") && (b += ' &nbsp; &nbsp;<a href=# onclick="displayMembershipAdmin();return false;" class=ptbtn>[' + w_.a11a + "]</a>");
		currperm == PERM_ADMIN && (b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('widgetsales');return false;\" class=ptbtn>[" + w_.a12 + "]</a>");
		b += " &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('purchase');return false;\" class=ptbtn>[" + w_.a13 + "]</a>";
		b += "</p>";
		"widgetsales" == a ? b += "<p class=ptp><span class=et_title150bold>" + w_.a14 + "</span> &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('widgetcomments');return false;\" class=ptbtn>[" + w_.a15 + "]</a>" : "widgetcomments" == a && (b += "<p class=ptp><span class=et_title150bold>" + w_.a16 + "</span> &nbsp; &nbsp;<a href=# onclick=\"displayAdmin('widgetsales');return false;\" class=ptbtn>[" + w_.a17 + "]</a>");
		b += "<br><div id=adminarea>";
		"widgetsales" == a && (b += "<p class=ptp>" + w_.a18 + ": <input type=text id=findentrant> <input type=button value='" + w_.a19 + '\' onclick=\'if (gEBI("findentrant").value.length<2) alert("' + w_.a20 + '"); else { findentrant=gEBI("findentrant").value; sendCommand(baseserverip,"/widget?c=' + sitecode + "&a=admin&d=widgetsales&action=find&username=\"+encodeURIComponent(findentrant)); } '></p>");
		setAppArea(b + "</div>");
		"widgetsales" != a && et_load("admin", a, "all", 0)
	}
}
function savePrice(a) {
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=widgetsales&action=saveprice&revisionid=" + a + "&price=" + encodeURIComponent(gEBI("price" + a).value))
}
var findentrant = "", currshows;
function displayAdminWidgetSales(a, b, c) {
	c && (currshows = c);
	c = "<p class=ptp>" + w_.a18 + ": <input type=text id=findentrant value='" + findentrant + "'> <input type=button value='" + w_.a19 + '\' onclick=\'if (gEBI("findentrant").value.length<2) alert("' + w_.a20 + '"); else { findentrant=gEBI("findentrant").value; sendCommand(baseserverip,"/widget?c=' + sitecode + "&a=admin&d=widgetsales&action=find&username=\"+encodeURIComponent(findentrant)); }'>";
	c += "</p><br>";
	if (a && 0 == a.length)
		c += w_.a21;
	else if (a && 1 < a.length) {
		c += w_.a22;
		for (var e = 0; e < a.length; e++)
			0 < e && (c += ", "),
			c += "<a href=# onclick='sendCommand(baseserverip,\"/widget?c=" + sitecode + "&a=admin&d=widgetsales&action=find&userid=" + a[e].owner_id + "\"); return false;'>" + a[e].owner_name + "</a>"
	} else if (a)
		if (c += "<p class=ptp><span class=et_title150bold>" + a[0].owner_name + "</span></p><br>",
		0 < b.length) {
			c += "<table>";
			a = null;
			for (e = 0; e < b.length; e++) {
				a != b[e].showtitle && (c += "<tr><td colspan=3><span class=et_title120bold>" + b[e].showtitle + "</span><br><br></td></tr>",
				a = b[e].showtitle);
				c += "<tr valign=top><td>";
				c += "<img src=" + S3IMAGESPATH + b[e].widget_id + "." + b[e].item_id + "." + b[e].id + "_thumb.jpg border=0 width=100></a>";
				c += "</td><td width=15>&nbsp;</td><td>";
				c += b[e].show_id + "." + b[e].item_id + "." + b[e].id + " " + b[e].title;
				c += "<br>" + w_.a22a + " " + displaySimpleDate(b[e].create_date);
				var f = "";
				b[e].price && (f = b[e].price);
				c += "<br>" + w_.a22b + ": ";
				b[e].sold_date ? c += f : (c += "<input type=text id=price" + b[e].id + " value='" + f + "' onclick=\"gEBI('pricebuttons" + b[e].id + "').style.display='inline'\" style='width:60px'>",
				c += "<span id=pricebuttons" + b[e].id + " style='display:none'><input type=button value='" + w_.a23 + "' onclick='savePrice(" + b[e].id + ");'><input type=button value='" + w_.a24 + "' onclick='gEBI(\"price" + b[e].id + '").value="' + f + '"; gEBI("pricebuttons' + b[e].id + '").style.display="none";\'></span>');
				f.replace("$", " ").trim();
				c += "<br>";
				c += "<input type=checkbox " + (null != b[e].sold_date ? "checked" : "") + " onclick='sendCommand(baseserverip,\"/widget?c=" + sitecode + "&a=admin&d=widgetsales&action=sold&revisionid=" + b[e].id + "&sold=\"+this.checked);'> " + w_.a25;
				b[e].sold_date && (c += " on " + displaySimpleDate(b[e].sold_date));
				c += "</td></tr><tr><td colspan=3>&nbsp;</td></tr>"
			}
			c += "</table>"
		} else
			c += w_.a26;
	setHTML("adminarea", c)
}
START.adminwidget = 0;
START.adminemailer = 0;
function emailerAction(a, b) {
	("del" != b || confirm(w_.a27)) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=emailer&action=" + b + "&emailalertid=" + a)
}
function displayAdminEmailer(a) {
	for (var b = "", c = 0; c < a.length && !(49 < c); c++) {
		b += "<p class=ptp>";
		b += '<a href=# onclick="editEmailAlert(' + a[c].id + ');return false;">';
		b += a[c].subject;
		b += '</a> &nbsp; &nbsp; <a href=# onclick="emailerAction(' + a[c].id + ", 'new');return false;\">[" + w_.a28 + ']</a> &nbsp; &nbsp; <a href=# onclick="emailerAction(' + a[c].id + ", 'del');return false;\">[" + w_.a29 + "]</a><br>";
		var e = a[c].bodytext;
		150 < e.length && (e = e.substring(0, 150) + "...");
		b += e;
		b += "<br><font size=-1>";
		b = a[c].send_date ? b + (w_.a30 + " " + displayDate(a[c].send_date)) : b + (w_.a31 + " ");
		b += " " + w_.a32 + ' <a href=# onclick="displayShow(' + a[c].show_id + ');return false;"><font size=-1>' + a[c].title + "</font></a>";
		b += " " + w_.a33 + " " + (0 > a[c].entrystatus ? w_.a34 : w_.a35) + " " + w_.a36 + " '";
		b = 0 > a[c].entrystatus ? b + STATUS[-a[c].entrystatus - 1].toLowerCase() : b + REVISIONSTATUS[a[c].entrystatus].toLowerCase();
		b += "' " + w_.a37 + " <a href=mailto:" + a[c].replytoemail + "><font size=-1>" + a[c].replytoemail + "</font></a>";
		b += "</font></p><br>"
	}
	b += pagination("admin", "emailer", a);
	if (0 == a.length && 0 == START.adminemailer) {
		b += "<br>" + w_.a38 + " <a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=editemailalert'); return false;\">" + w_.a39 + "</a> " + w_.a40;
		b += "<br><br>" + w_.a41 + ":<br><br><table cellpadding=0 cellspacing=0>";
		for (c = 1; 400 > c; c += 100)
			a = c + 99,
			e = Math.ceil(a / 100),
			b += "<tr align=right><td style='width:auto'>" + c + " - " + a + " " + w_.a42 + ":</td><td style='width:auto'>&nbsp;&nbsp;&nbsp;</td><td style='width:auto'>" + e + " ",
			b = 1 == e ? b + w_.a43 : b + w_.a44,
			b += " = $" + 2 * e + "</td></tr>";
		b += "<tr align=center><td colspan=3>etc.</td></tr></table>"
	}
	0 == START.adminemailer ? setHTML("adminarea", b) : setHTML("emailerlist" + START.adminemailer, b)
}
function sendEmailAlert(a) {
	"test" == a ? 7 > gEBI("testemail").value.length || -1 == gEBI("testemail").value.indexOf("@") || -1 == gEBI("testemail").value.indexOf(".") ? alert(w_.a45) : (sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=sendtestemailalert&emailalertid=" + curremailalert.id + "&email=" + encodeURIComponent(gEBI("testemail").value)),
	alert(w_.a46 + " " + gEBI("testemail").value + "."),
	gEBI("testemail").value = "") : currwidget.tokens < Math.ceil(curremailalert.nrofrecipients / 100) ? alert(w_.a47) : confirm(w_.a48 + " " + curremailalert.nrofrecipients + " " + w_.a49) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=sendemailalert&emailalertid=" + curremailalert.id)
}
var curremailalert, selectedalertshow, selectedalertstatus = "", alertshows, savingemailalert = !1;
function saveEmailAlert() {
	for (var a = null, b = gEBI("subject").value, c = 0, e = 0; e < b.length; e++)
		65 <= b.charCodeAt(e) && 90 >= b.charCodeAt(e) && c++;
	"no" == gEBI("shownr").value ? a = w_.a50 : "no" == gEBI("entrystatus").value ? a = w_.a51 : 7 > gEBI("replytoemail").value.length || -1 == gEBI("replytoemail").value.indexOf("@") || -1 == gEBI("replytoemail").value.indexOf(".") ? a = w_.a52 : -1 != gEBI("replytoemail").value.indexOf(",") || -1 != gEBI("replytoemail").value.indexOf(" ") ? a = w_.a52a : 0 == gEBI("subject").value.length ? a = w_.a53 : .3 < c / b.length ? a = w_.a54 : 0 == gEBI("bodytext").value.length && (a = w_.a55);
	if (null != a)
		return displayError(a),
		!1;
	gEBI("showid").value = alertshows[gEBI("shownr").value][0];
	setHTML("et_loading", " &nbsp; &nbsp; &nbsp;" + loadimage + " Loading...");
	postcheckercnt = 0;
	posting = "emailalert";
	postChecker();
	return savingemailalert = !0
}
function editEmailAlert(a) {
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=editemailalert&emailalertid=" + a)
}
function displayEditEmailAlert(a) {
	curremailalert = a;
	savingemailalert && (savingemailalert = !1);
	var b = "";
	a.send_date && (b = " disabled");
	alertshows = [];
	for (var c = 0, e, f = 0; -1 != (e = a.shows.indexOf("\t", c)); ) {
		var g = a.shows.substring(c, e);
		c = e + 1;
		alertshows[f] = [g.substring(0, g.indexOf("=")), g.substring(g.indexOf("=") + 1, g.lastIndexOf("=")), g.substring(g.lastIndexOf("=") + 1)];
		f++
	}
	if (0 == alertshows.length)
		setHTML("adminarea", w_.a56);
	else {
		var k = "<span id=emailerinfo></span><div style='float:left; margin:0px 30px 0px 0px; min-width:350px; max-width:450px;'><form accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' method='post' action='" + (baseserverip + "/widget' target='et_uploadtarget' onsubmit=\"return saveEmailAlert();\">");
		k += "<input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveemailalert value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">";
		a.id && (k += "<input type=hidden name=emailalertid value=" + a.id + ">");
		k += "<input type=hidden id=showid name=showid value=" + a.id + ">";
		k += "<p class=ptp><b>" + w_.a57 + ": </b><br><select id=shownr style='width:350px'" + b + " onchange='updateAlertShow()'>";
		k += "<option value='no'>";
		for (c = 0; c < alertshows.length; c++)
			k += '<option value="' + c + '"',
			a && a.show_id == alertshows[c][0] && (k += " selected",
			selectedalertshow = alertshows[c]),
			k += ">" + alertshows[c][1];
		k += "</select></p><p class=ptp><b><span id=statusselecttitle>" + w_.a58 + "</span>: </b><br><select id=entrystatus name=entrystatus style='width:350px'" + b + ">";
		k += "</select></p><p class=ptp><b>" + w_.a59 + ": </b>*<br><input type=text style='width:350px' id=replytoemail name=replytoemail value=\"";
		a && a.replytoemail && (k += a.replytoemail);
		k = k + ('"' + b + "></p><p class=ptp><b>") + (w_.a60 + ": </b><br><input type=text style='width:350px;' id=subject name=subject value=\"");
		a && a.subject && (k += a.subject);
		k = k + ('"' + b + "></p><p class=ptp><b>") + (w_.a61 + ": </b>**<br><textarea style='width:350px; height:200px;' id=bodytext name=bodytext" + b + ">");
		k = a && a.bodytext ? k + a.bodytext : k + w_.a62;
		k += "</textarea></p><p class=ptp><span id=errorarea></span>";
		a.send_date || (k += "<input class=et_savebutton type=submit value=" + w_.a63 + "> &nbsp; ");
		k += "<input class=et_cancelbutton type=button value=" + w_.a64 + " onclick=\"displayAdmin('emailer');\"></form></p>";
		k += "</div><div style='float:left; min-width:300px; max-width:50%;'>";
		if (a.id) {
			if (updateAlertShow(curremailalert),
			k += "<p class=ptp>",
			a.send_date ? k = a.queuesize && 0 < a.queuesize ? k + ("<b>" + w_.a66 + " " + a.nrofrecipients + " " + w_.a67 + " " + a.queuesize + " " + (1 < a.queuesize ? w_.a69 : w_.a68) + " " + w_.a70 + "</b> <a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=editemailalert&emailalertid=" + a.id + "');return false;\">" + w_.a71 + "</a> " + w_.a72) : a.queuesize && 0 > a.queuesize ? k + ("<b>" + w_.a66 + " " + a.nrofrecipients + " entrants...</b> <a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=editemailalert&emailalertid=" + a.id + "');return false;\">" + w_.a71 + "</a> " + w_.a72) : k + ("<b>" + _w_("a73", [a.nrofrecipients, displayDate(a.send_date)]) + "</b>") : (k += "<b>" + w_.a74,
			k += "</p>",
			0 < a.nrofrecipients ? (k += "<p class=ptp><b>" + w_.a75 + ": </b><br><input type=text style='width:200px' id=testemail> <input class=et_submitbutton type=button value='" + w_.a76 + "' onclick=\"sendEmailAlert('test')\"></p>",
			k += "<p class=ptp><b>" + w_.a76a + ": </b><br>" + _w_("a77", [a.nrofrecipients, selectedalertstatus.toLowerCase(), selectedalertshow[1]]) + ": <input class=et_submitbutton type=button value='" + _w_("a78", [a.nrofrecipients]) + "' onclick=\"sendEmailAlert('real')\"></p>") : k += "<br><p class=ptp>" + w_.a79 + "</p>"),
			0 < a.nrofrecipients) {
				k += "<p class=ptp><b>" + w_.a80 + "</b><br>";
				if (0 < a.bademails.length)
					for (k = a.send_date ? k + (w_.a81 + " <a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=editemailalert&emailalertid=" + a.id + "');return false;\">" + w_.a82 + "</a> " + w_.a83) : k + w_.a84,
					f = c = 0; -1 != (e = a.bademails.indexOf("\t", c)); )
						g = a.bademails.substring(c, e),
						c = e + 1,
						k += '<br><a href=# onclick="displayProfile(' + g.substring(0, g.indexOf("=")) + ');return false;">' + g.substring(g.indexOf("=") + 1) + "</a>",
						f++;
				else
					k += w_.a85,
					k = a.send_date ? k + (w_.a86 + " <a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=editemailalert&emailalertid=" + a.id + "');return false;\">" + w_.a82 + "</a> " + w_.a87) : k + (" " + w_.a88);
				k += "</p><p class=ptp id=allemailalertslist><a href=# onclick=\"sendCommand(baseserverip,'/widget?c=" + sitecode + "&a=admin&d=allemailalert&emailalertid=" + a.id + "');return false;\">" + w_.a89 + "</a> " + w_.a90 + "</p>"
			}
		} else
			k += "<p class=ptp><b>" + w_.a91 + "</b><br><br>",
			k = a.subject ? k + (w_.a92 + "</p>") : k + (w_.a93 + "</p>");
		k = k + "</div><div style='clear:both'></div><br><p class=ptp>" + (w_.a65 + "</p>");
		setHTML("adminarea", k);
		updateAlertShow(curremailalert)
	}
}
function updateAlertShow(a) {
	var b = gEBI("entrystatus");
	b && (b.options.length = 0,
	b.options[0] = new Option("","no",!0,!1));
	gEBI("shownr") && (selectedalertshow = "no" != gEBI("shownr").value ? alertshows[gEBI("shownr").value] : null);
	if (selectedalertshow) {
		var c = 1;
		gEBI("emailerinfo") && setHTML("emailerinfo", "");
		for (var e = 0; e < STATUS.length; e++) {
			var f = !1;
			a && a.entrystatus == -e - 1 && (f = !0,
			selectedalertstatus = STATUS[e] + " " + w_.a94);
			b && (b.options[c] = new Option(w_.a95 + ": " + STATUS[e],-e - 1,!1,f));
			c++
		}
		if ("1" == selectedalertshow[2])
			for (e = 0; e < REVISIONSTATUS.length; e++)
				f = !1,
				a && a.entrystatus == e && (f = !0,
				selectedalertstatus = REVISIONSTATUS[e] + " " + w_.a96),
				b && (b.options[c] = new Option(w_.a97 + ": " + REVISIONSTATUS[e],e,!1,f)),
				c++
	}
}
function displayAllEmailAlert(a) {
	for (var b = w_.a98, c = 0; c < a.length; c++)
		b += '<br><a href=# onclick="displayProfile(' + a[c].id + ');return false;">' + a[c].first_name + " " + a[c].last_name + " (" + a[c].email + ")</a>";
	setHTML("allemailalertslist", b)
}
function commentAction(a, b) {
	("del" != b || confirm(w_.a99)) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=widget&action=" + b + "&commentid=" + a)
}
function displayAdminWidgetComments(a) {
	for (var b = "", c = 0; c < a.length && !(49 < c); c++)
		b += "<p class=ptp>",
		a[c].website && 0 < a[c].website.length && (b += "<a href=http://" + a[c].website + ">"),
		b += "<b>" + a[c].name + "</b>",
		a[c].website && 0 < a[c].website.length && (b += "</a>"),
		b += "<b> " + w_.a100 + "... </b> &nbsp; &nbsp; ",
		"0" == a[c].showcomment && (b += w_.a101 + ': <a href=# onclick="commentAction(' + a[c].id + ", 'show');return false;\">[" + w_.a102 + "]</a> " + w_.a103 + " "),
		b += ' <a href=# onclick="commentAction(' + a[c].id + ", 'del');return false;\">[" + w_.a104 + "]</a>",
		b += "<br>" + doBRs(a[c].comment) + "<br><font size=-1>" + w_.a105 + " " + displayDate(a[c].create_date),
		b += " " + w_.a105a + ' <a href=# onclick="displayProfile(' + a[c].user_id + ');return false;"><font size=-1>' + a[c].first_name + " " + a[c].last_name + "</font></a> ",
		b += w_.a106 + " <a href=mailto:" + a[c].email + "><font size=-1>" + a[c].email + "</font></a>",
		b += "</font></p><br>";
	b += pagination("admin", "widget", a);
	0 == a.length && 0 == START.adminwidget && (b = b + "<br><br>" + w_.a107);
	0 == START.adminwidget ? setHTML("adminarea", b) : setHTML("widgetlist" + START.adminwidget, b)
}
var currusers;
function displayAdminEntrants(a, b) {
	currusers = a;
	var c = "";
	b = 5;
	0 == START.adminentrants ? (c += w_.a113a + ':<select id=filteradminentrants onchange="filterAdminEntrants();">',
	c += "<option value=all" + ("all" == adminentrantsfilter ? " selected" : "") + ">" + w_.a113b,
	c += "<option value=registered" + ("registered" == adminentrantsfilter ? " selected" : "") + ">" + w_.a113c,
	c += "<option value=registeredonly" + ("registeredonly" == adminentrantsfilter ? " selected" : "") + ">" + w_.a113d,
	c += "</select> &nbsp; <input type=text id=searchwords",
	null != searchwords && (c += ' value="' + searchwords + '"'),
	c += ' style=\'width:60px\' ><input type=button onclick="filterAdminEntrants()" value="' + w_.a113e + '">',
	c += " &nbsp;" + w_.s72a + ':<select id=sortadminentrants onchange="filterAdminEntrants();">',
	c += "<option value=first_name" + ("first_name" == adminentrantssort ? " selected" : "") + ">" + w_.a108a,
	c += "<option value=last_name" + ("last_name" == adminentrantssort ? " selected" : "") + ">" + w_.a108b,
	c += "<option value=email" + ("email" == adminentrantssort ? " selected" : "") + ">" + w_.a109,
	c += "<option value=city" + ("city" == adminentrantssort ? " selected" : "") + ">" + w_.a110,
	STATES && (c += "<option value=state" + ("state" == adminentrantssort ? " selected" : "") + ">" + w_.a111),
	c += "<option value='last_use desc'" + ("last_use desc" == adminentrantssort ? " selected" : "") + ">" + w_.a112,
	c = c + "</select><br><br><table cellpadding=0 cellspacing=0><tbody id=adminentrantslist><tr style='font-weight:bold; padding-bottom:3px;'><td>" + (w_.a108 + "</td><td>" + w_.a109 + "</td><td>" + w_.a110 + "</td>"),
	STATES && (c += "<td>" + w_.a111 + "</td>",
	b++),
	c += "<td>" + w_.a112 + "</td></tr>",
	setHTML("adminarea", c + "</tbody></table>")) : gEBI("adminentrantslist").removeChild(gEBI("moreentrants"));
	for (c = 0; c < a.length && !(49 < c); c++)
		addTableRow("adminentrantslist", ['<a href=# onclick="displayProfile(' + a[c].id + ');return false;">' + d(a[c].first_name) + " " + d(a[c].last_name) + "</a>", "<a href='mailto:" + d(a[c].email) + "'>" + d(a[c].email) + "</a>", d(a[c].city), null != STATES ? d(a[c].state) : null, displaySimpleDate(a[c].last_use)], "top");
	addTableRow("adminentrantslist", [pagination("admin", "entrants", a)], null, "center", b, "moreentrants")
}
var adminentrantsfilter = "all"
  , adminentrantssort = "last_name";
function filterAdminEntrants() {
	START.adminentrants = 0;
	gEBI("searchwords") && (searchwords = gEBI("searchwords").value);
	gEBI("filteradminentrants") && (adminentrantsfilter = gEBI("filteradminentrants").value);
	adminentrantssort = gEBI("sortadminentrants").value;
	et_load("admin", "entrants", null, 0)
}
function updateFileType(a) {
	for (var b = 0, c = 0; c < FILETYPES.length; c++)
		gEBI("filetype" + c).checked && b++;
	if (0 < b) {
		for (c = 0; c < FILETYPES.length; c++)
			useshow.filetypes = useshow.filetypes.setCharAt(gEBI("filetype" + c).checked ? "1" : "0", c);
		setCurrShow(useshow);
		setHTML("voteforeachimage", W_upload);
		setHTML("usewhatforpub", w_upload);
		setHTML("askfordimensionsshow", dimensions)
	} else
		gEBI("filetype" + a).checked = !0
}
function displayAdminPrefs(a) {
	setCurrWidget(a);
	a = "<form accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' method='post' action='" + baseserverip + "/widget' target='et_uploadtarget' onsubmit=\"return savePrefs();\">";
	a += "<input type=hidden name=c value=" + sitecode + "><input type=hidden id=saveadminprefs name=saveadminprefs value='yes'><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">";
	a = a + "<div style='float:left; margin:0 30 30 0; min-width:350px; max-width:50%'><p class=ptp><select id=skipcontactinfo><option value=0 " + (("0" == currwidget.prefs.charAt(WIDGETPREF_SKIPSIGNUPINFO) ? " selected" : "") + ">" + w_.a114a);
	a += "<option value=1 " + ("1" == currwidget.prefs.charAt(WIDGETPREF_SKIPSIGNUPINFO) ? " selected" : "") + ">" + w_.a114b;
	a += "<option value=2 " + ("2" == currwidget.prefs.charAt(WIDGETPREF_SKIPSIGNUPINFO) ? " selected" : "") + ">" + w_.a114c;
	a += "</select> " + w_.a114 + "</p>";
	a += "<p class=ptp><input type=checkbox id=askforpartner";
	"0" == currwidget.prefs.charAt(WIDGETPREF_ASKFORPARTNER) && (a += " checked");
	a += ">" + w_.a115 + "</p><p class=ptp><input type=checkbox id=askforbusiness";
	"0" == currwidget.prefs.charAt(WIDGETPREF_ASKFORBUSINESS) && (a += " checked");
	a += ">" + w_.a116 + "</p>";
	a += "<p class=ptp>" + w_.a116b + " <select id=showsort>";
	a += "<option value=a" + ("a" == currwidget.prefs.charAt(WIDGETPREF_SHOWSORT) ? " selected" : "") + ">" + w_.a116c;
	a += "<option value=b" + ("b" == currwidget.prefs.charAt(WIDGETPREF_SHOWSORT) ? " selected" : "") + ">" + w_.a116d;
	a += "<option value=c" + ("c" == currwidget.prefs.charAt(WIDGETPREF_SHOWSORT) ? " selected" : "") + ">" + w_.a116e;
	a += "<option value=d" + ("d" == currwidget.prefs.charAt(WIDGETPREF_SHOWSORT) ? " selected" : "") + ">" + w_.a116f;
	a += "</select></p><p class=ptp><select id=jurycols>";
	var b = 3;
	1 < eval(currwidget.prefs.charAt(WIDGETPREF_JURYCOLS)) && (b = eval(currwidget.prefs.charAt(WIDGETPREF_JURYCOLS)) - 4);
	for (var c = 5; 10 > c; c++)
		a += "<option value=" + c + (c - 4 == b ? " selected" : "") + ">" + (c - 4);
	a = a + "</select> admin/jury view image columns</p><br><p class=ptp>Name of your organization for your call listings on the <a href=https://www.entrythingy.com/forartists_calls target=forartists>call list</a>:<br><input type=text style='width:300px;' name=orgname value='" + ((currwidget.name ? currwidget.name : "") + "'></p>");
	a = a + "</div><div style='float:left; max-width:50%;'><p class=ptp>Send email alert to <input type=text style='width:200px;' name=entryalert value='" + ((currwidget.entryalert ? currwidget.entryalert : "") + "'> when new entries are submitted. <font size=-2>Notes: up to 5 emails, separate with commas - you will be charged 1 token per 100 emails sent.</font></p>");
	a += "<p class=ptp>" + w_.a116a + "<br><textarea id=addjs name=addjs style='width:400px; height:250px'>";
	currwidget.addjs && (b = currwidget.addjs.replace(/</g, "&lt;"),
	b = b.replace(/>/g, "&gt;"),
	a += b);
	a = a + "</textarea></p></div><div style='clear:both'></div><br><input id=savebutton class=et_savebutton type=submit value='" + (w_.a117 + "' >");
	setHTML("adminarea", a + "</form>");
	console.log("displayAdminPrefs end ")
}
function savePrefs() {
	currwidget.prefs = currwidget.prefs.setCharAt(gEBI("skipcontactinfo").value, WIDGETPREF_SKIPSIGNUPINFO);
	currwidget.prefs = currwidget.prefs.setCharAt(gEBI("askforpartner").checked ? "0" : "1", WIDGETPREF_ASKFORPARTNER);
	currwidget.prefs = currwidget.prefs.setCharAt(gEBI("askforbusiness").checked ? "0" : "1", WIDGETPREF_ASKFORBUSINESS);
	currwidget.prefs = currwidget.prefs.setCharAt(gEBI("showsort").value, WIDGETPREF_SHOWSORT);
	currwidget.prefs = currwidget.prefs.setCharAt(gEBI("jurycols").value, WIDGETPREF_JURYCOLS);
	gEBI("saveadminprefs").value = currwidget.prefs;
	gEBI("addjs").value = gEBI("addjs").value.replace(/"/g, "&quot;");
	gEBI("savebutton").value = "Saving...";
	gEBI("savebutton").disabled = !0;
	setHTML("savebutton", loadimage + " &nbsp;Loading...");
	postcheckercnt = 0;
	posting = "adminprefs";
	postChecker();
	return !0
}
function displayAdminUsers(a, b) {
	currusers = a;
	for (var c = "<table cellpadding=0 cellspacing=0><tr style='font-weight:bold; padding-bottom:3px;'><td></td><td>" + w_.a119 + "</td><td>&nbsp;&nbsp;</td><td>" + w_.a120 + "</td><td>&nbsp;&nbsp;</td><td>" + w_.a121 + "</td><td>&nbsp;&nbsp;</td><td>" + w_.a122 + "</td></tr>", e = 0, f = 0, g = 0; g < a.length; g++)
		eval(a[g].permission) >= PERM_ADMIN && e++;
	for (g = 0; g < a.length; g++)
		c += "<tr>",
		c += "<td align=right>",
		eval(a[g].permission) < PERM_ADMIN && (c += '<a href=# onclick="deleteUser(' + g + ');return false;">[' + w_.a123 + "]</a> &nbsp;"),
		c += '<a href=# onclick="editUser(' + g + ');return false;">[' + w_.a124 + "]</a>&nbsp;&nbsp;</td>",
		c += '<td><a href=# onclick="displayProfile(' + a[g].id + ');return false;">' + d(a[g].first_name) + " " + d(a[g].last_name) + "</a></td><td></td>",
		c += "<td>",
		eval(a[g].permission) == PERM_NOACCESS ? c += w_.a125 : eval(a[g].permission) == PERM_JURY ? (c += w_.a126 + " *",
		f++) : eval(a[g].permission) == PERM_SHOWADMIN ? c += w_.a127a : eval(a[g].permission) == PERM_ADMIN && (c += w_.a127),
		e = "n/a",
		null != a[g].email && 0 < a[g].email.length && (e = a[g].email),
		c += "</td><td></td><td>" + e + "</td>",
		c += "<td></td><td>" + displayDate(a[g].last_use) + "</td></tr>";
	c += '</table><div id=edituser><br><a href=# onclick="editUser();return false;">[' + w_.a128 + "]</a></div>";
	0 < f && (c += "<br><br><font size=-1>* Jurors will only see calls they are assigned to. Click into a call, click [settings], [edit], scroll down to the Jury section on the right and select the jurors for that call.</font>");
	setHTML("adminarea", c);
	b[0] && b[0].dupemail && alert("Ooops. The email " + b[0].dupemail + " is already registered to another user. You can make up an email for your jurors, eg juror@myartcenter.org.")
}
function deleteUser(a) {
	confirm(w_.a130 + " " + d(currusers[a].first_name) + " " + d(currusers[a].last_name) + "?") && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=admin&d=deluser&userid=" + currusers[a].id)
}
function getShowAdminInfo(a) {
	if (gEBI("et.newpermission").value != PERM_SHOWADMIN)
		setHTML("showadmininfo", "");
	else {
		setHTML("showadmininfo", loadimage + " loading...");
		var b = "/widget?c=" + sitecode + "&a=admin&d=showadmininfo";
		currusers[a] && (b += "&userid=" + currusers[a].id);
		sendCommand(baseserverip, b)
	}
}
function showShowAdminInfo(a) {
	currshows = a;
	var b = "";
	if (gEBI("et.newpermission").value == PERM_SHOWADMIN) {
		b += "<br>Please select which calls this administrator will see: ";
		for (var c = 0; c < a.length; c++)
			b += "<label><input id=showadmin" + a[c].id + " type=checkbox " + ("yes" == a[c].isshowadmin ? "checked" : "") + ">" + a[c].title + "</label> &nbsp; "
	}
	setHTML("showadmininfo", b)
}
function editUser(a) {
	var b = "<form onsubmit=\"saveAdminUser(); return false;\" style='display:inline;margin:0px;padding:0px;'><br><span class=et_title150bold>";
	b = null != a ? b + w_.a131 : b + w_.a132;
	b += " " + w_.a133 + "</span><br><br><p class=ptp>";
	b += w_.a134 + ":<br><input type=text style='width:300px' id=et.first_name value=\"";
	null != a && (b += currusers[a].first_name);
	b = b + '"></p><p class=ptp>' + (w_.a135 + ":<br><input type=text style='width:300px' id=et.last_name value=\"");
	null != a && (b += currusers[a].last_name);
	b += '"></p><p class=ptp>' + w_.a136 + ":<br><input type=text style='width:300px' id=et.email value='";
	null != a && currusers[a].email && (b += currusers[a].email);
	b += "'></p><p class=ptp>";
	null == a && (b += w_.a137 + " ");
	b += w_.a138 + ":<br><input type=password style='width:300px' id=et.password></p><p class=ptp>" + w_.a139 + ":<br><input type=password style='width:300px' id=et.confirmpassword></p>";
	b += "<p class=ptp>" + w_.a120 + ": <select id=et.newpermission onchange='getShowAdminInfo(" + a + ")'>";
	null == a ? (b += "<option value=" + PERM_JURY + " selected> " + w_.a126,
	b += "<option value=" + PERM_SHOWADMIN + "> " + w_.a127a,
	b += "<option value=" + PERM_ADMIN + "> " + w_.a127) : (b += "<option value=" + PERM_NOACCESS + " " + (eval(currusers[a].permission) == PERM_NOACCESS ? "selected" : "") + "> " + w_.a125,
	b += "<option value=" + PERM_JURY + " " + (eval(currusers[a].permission) == PERM_JURY ? "selected" : "") + "> " + w_.a126,
	b += "<option value=" + PERM_SHOWADMIN + " " + (eval(currusers[a].permission) == PERM_SHOWADMIN ? "selected" : "") + "> " + w_.a127a,
	b += "<option value=" + PERM_ADMIN + " " + (eval(currusers[a].permission) == PERM_ADMIN ? "selected" : "") + "> " + w_.a127);
	b += "</select> <span id=showadmininfo></span></p>";
	null != a && (b += "<input type=hidden id=et.userid value=" + currusers[a].id + ">");
	b += "<br><span id=errorarea></span><input class=et_savebutton type=submit value='" + w_.a129 + "'> <span id=canceledit><input class=et_cancelbutton type=button onclick=\"setHTML('edituser', '<br><a href=javascript:editUser()>[" + w_.a128 + "]</a>'); setHTML('canceledit','');\" value='" + w_.a140 + "'></span></form>";
	setHTML("edituser", b);
	null != a && eval(currusers[a].permission) == PERM_SHOWADMIN && getShowAdminInfo(a)
}
function saveAdminUser() {
	var a = "/widget?c=" + sitecode + "&a=admin&d=saveusers"
	  , b = gEBI("et.password").value
	  , c = null;
	1 > gEBI("et.first_name").length ? c = w_.a141 : 1 > gEBI("et.last_name").length && (c = w_.a142);
	7 > gEBI("et.email").value.length || -1 == gEBI("et.email").value.indexOf("@") || -1 == gEBI("et.email").value.indexOf(".") ? c = w_.a144 : null != gEBI("et.userid") && 0 < b.length && 5 > b.length ? c = w_.a143 : null == gEBI("et.userid") && 5 > b.length ? c = w_.a145 : b != gEBI("et.confirmpassword").value && (c = w_.a146);
	for (var e = b = 0; e < currusers.length; e++)
		currusers[e].email == gEBI("et.email").value && (currusers[e].permission = gEBI("et.newpermission").value),
		eval(currusers[e].permission) >= PERM_ADMIN && b++;
	0 == b && (c = w_.a146a);
	if (null != c)
		displayError(c);
	else {
		a += "&first_name=" + encodeURIComponent(gEBI("et.first_name").value);
		a += "&last_name=" + encodeURIComponent(gEBI("et.last_name").value);
		a += "&email=" + encodeURIComponent(gEBI("et.email").value);
		0 < gEBI("et.password").value.length && (a += "&pw=" + encodeURIComponent(gEBI("et.password").value) + "&cpw=" + encodeURIComponent(gEBI("et.confirmpassword").value));
		gEBI("et.userid") && (a += "&userid=" + gEBI("et.userid").value);
		a += "&newpermission=" + gEBI("et.newpermission").value;
		if (gEBI("et.newpermission").value == PERM_SHOWADMIN)
			for (a += "&showadminids=",
			e = 0; e < currshows.length; e++)
				gEBI("showadmin" + currshows[e].id).checked && (a += currshows[e].id + ",");
		sendCommand(baseserverip, a)
	}
}
var pricing = [];
pricing[0] = [20, "10 " + w_.a147, 0];
pricing[1] = [50, "25 " + w_.a147, 0];
pricing[2] = [100, "50 " + w_.a147, 0];
pricing[3] = [200, "100 " + w_.a147, 0];
pricing[4] = [400, "200 " + w_.a147, 0];
pricing[5] = [950, "500 " + w_.a147, 50];
pricing[6] = [1800, "1000 " + w_.a147, 200];
pricing[7] = [3400, "2000 " + w_.a147, 600];
pricing[8] = [6400, "4000 " + w_.a147, 1600];
pricing[9] = [12E3, "8000 " + w_.a147, 4E3];
function setPrice(a) {
	gEBI("price").value = pricing[a][0];
	gEBI("item_name").value = pricing[a][1] + " " + w_.a148 + " " + currwidget.url
}
function displayAdminSubscription(a, b) {
	setCurrWidget(a[0]);
	var c = "<div style='float:left; min-width:300px; max-width:300px; margin:0px 30px 30px 0px;'><span class=et_title120bold>" + w_.a149 + "</span><br><br>" + _w_("a150", [currwidget.tokens]) + "<br><br>";
	c += "<select id=priceselect onchange=\"setPrice(gEBI('priceselect').value);\">";
	for (var e = 0; e < pricing.length; e++)
		c += "<option value=" + e,
		3 == e && (c += " selected"),
		c += ">" + pricing[e][1] + _w_("a148a", [pricing[e][0]]),
		0 < pricing[e][2] && (c += ", you save $" + pricing[e][2]);
	c += "</select><br><br><form action='https://www.paypal.com/cgi-bin/webscr' method='post'><input type='image' src='https://www.paypal.com/";
	c = "en" == et_lang ? c + "en_US" : c + (et_lang + "_" + et_lang.toUpperCase());
	c = c + "/i/btn/btn_buynowCC_LG.gif' border='0' name='submit' alt='Buy now.'><img alt='' border='0' src='https://www.paypal.com/en_US/i/scr/pixel.gif' width='1' height='1'><input type='hidden' name='cmd' value='_xclick'><input type='hidden' name='business' value='paypal@49pm.com'><input type='hidden' id='item_name' name='item_name' value='" + (pricing[3][1] + " " + w_.a148 + " " + a[0].url + "'>");
	c += "<input type='hidden' name='item_number' value='entrythingy-" + sitecode + "'>";
	c = c + "<input type='hidden' name='image_url' value='https://entrythingy.s3.amazonaws.com/images/logo_70.png'><input type='hidden' name='no_shipping' value='1'><input type='hidden' name='return' value='http://" + (a[0].url + "'>");
	c += "<input type='hidden' name='cancel_return' value='http://" + a[0].url + "'>";
	c += "<input type='hidden' name='no_note' value='1'><input type='hidden' name='currency_code' value='";
	c = "en" == et_lang ? c + "USD" : c + "EUR";
	c = c + "'><input type='hidden' name='bn' value='PP-BuyNowBF'><input id='price' type='hidden' name='amount' value='" + (pricing[3][0] + "'>");
	c += "<input type='hidden' name='notify_url' value='https://www.entrythingy.com'></form><br><br> " + w_.a151 + "</div><div style='float:left; min-width:350px; max-width:50%;'><span class=et_title120bold>" + w_.a152 + "</span><br><br>" + w_.a153a + w_.a153 + "<br><br>";
	c += "<table width=100%><tr valign=top><td><b>" + w_.a154a + "</b></td><td><b>" + w_.a154 + "</b></td><td><b>" + w_.a155 + "</b> &nbsp;</td><td><b>" + w_.a156 + "</b></td></tr>";
	for (e = 0; e < b.length; e++)
		c += "<tr valign=top><td>",
		c += displaySimpleDate(b[e].create_date),
		c += "&nbsp;</td><td>",
		c += b[e].reason,
		c += "&nbsp;</td><td>",
		0 < eval(b[e].token_change) && (c += "+"),
		c += b[e].token_change,
		c += "&nbsp;</td><td>",
		c += b[e].tokens,
		c += "&nbsp;</td></tr>";
	setHTML("adminarea", c + "</table><br><br></div><div style='clear:both'></div>")
}
function downloadTokenHistory() {
	var a = "/widget?c=" + sitecode + "&a=admin&d=downloadtokenhistory&ck=" + readCookie("entrythingy");
	window.location = LOCAL ? "http://localhost" + a : "https://www.entrythingy.com" + a
}
function showStats() {
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=stats&showid=" + currshow.id)
}
function displayShowStats(a, b) {
	var c = getNav();
	c += "<p class=ptp id=showname><table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	c += getShowNav();
	c = c + "</td></tr></table></p><p class=ptp><span class=et_title150bold>" + (w_.a157 + "</span></p>");
	for (var e = 0, f = 0; f < STATUS.length; f++)
		a["status" + f] && (e += eval(a["status" + f]));
	c += "<p class=ptp><b>" + w_.a158 + ": &nbsp;</b>" + e + "</p>";
	c += "<p class=ptp><b>" + w_.a159 + ":</b></p><br><table>";
	for (f = 0; f < STATUS.length; f++)
		0 != STATUS[f].length && (c += "<tr valign=top><td nowrap align=right style='padding:3px;'>" + STATUS[f] + ": &nbsp;</td><td nowrap  style='padding:2px;'>",
		c = a["status" + f] ? c + a["status" + f] : c + "0",
		c += "</td></tr>");
	c = c + "</table><p class=ptp><b>" + (w_.a161a + ":</b></p><br><table>");
	for (f = 0; 52 > f && null != a["week" + f]; f++) {
		e = a["week" + f];
		var g = e.substring(e.indexOf("_") + 1);
		e = e.substring(0, e.indexOf("_"));
		c += "<tr valign=top><td nowrap style='padding:3px;' align=right>" + e + ": &nbsp;</td><td nowrap style='padding:3px;'>" + g + "</td></tr>"
	}
	c += "</table>";
	if ("1" == currshow.prefs.charAt(SHOWPREF_VOTEFOR)) {
		c += "<p class=ptp><b>" + w_.a160 + ":</b></p><br><table><tr><td></td><td style='padding:3px;'>Total</td><td style='padding:3px;'>" + STATUS[0] + "</td><td style='padding:3px;'>" + STATUS[1] + "</td><td style='padding:3px;'>" + STATUS[2] + "</td></tr>";
		for (f = 0; f < REVISIONSTATUS.length; f++)
			0 != REVISIONSTATUS[f].length && (c += "<tr><td nowrap style='padding:3px;' align=right>" + REVISIONSTATUS[f] + ": &nbsp;</td><td nowrap align=center style='padding:3px;'>",
			c = a["revisionstatus" + f] ? c + a["revisionstatus" + f] : c + "0",
			c += "</td><td align=center>",
			c = a["revisionitem0status" + f] ? c + a["revisionitem0status" + f] : c + "0",
			c += "</td><td align=center>",
			c = a["revisionitem1status" + f] ? c + a["revisionitem1status" + f] : c + "0",
			c += "</td><td align=center>",
			c = a["revisionitem2status" + f] ? c + a["revisionitem2status" + f] : c + "0",
			c += "</td></tr>");
		c += "</table>"
	}
	if (0 < currcategories.length) {
		c += "<p class=ptp><b>" + w_.a161 + ":</b></p><br><table><tr valign=bottom align=center><td>&nbsp;</td><td nowrap style='padding:3px;'>" + w_.a162 + " &nbsp;</td>";
		for (f = 3; 6 > f; f++)
			c += "<td style='padding:3px;'>" + STATUS[f].replace("/", "/<br>") + "</td><td> &nbsp;</td>";
		c += "</tr>";
		for (f = 0; f < currcategories.length; f++) {
			c += "<tr\tvalign=top><td nowrap style='padding:3px;' align=right>" + currcategories[f] + ": &nbsp;</td><td align=center style='padding:3px;'>";
			c = a[currcategories[f]] ? c + a[currcategories[f]] : c + "0";
			c += "</td>";
			for (e = 3; 6 > e; e++)
				c += "<td align=center style='padding:3px;'>",
				c = a["cat" + e + currcategories[f]] ? c + a["cat" + e + currcategories[f]] : c + "0",
				c += "</td><td> &nbsp;</td>";
			c += "</tr>"
		}
		c += "</table>"
	}
	if (STATES) {
		c += "<p class=ptp><b>" + w_.a163 + ":</b></p><br><table>";
		for (f = 0; f < STATES.length; f++)
			a["state" + STATES[f]] && (c += "<tr valign=top><td nowrap style='padding:3px;' align=right>" + STATES[f] + ": &nbsp;</td><td nowrap style='padding:3px;'>",
			c = a["state" + STATES[f]] ? c + a["state" + STATES[f]] : c + "0",
			c += "</td></tr>");
		c += "</table>"
	}
	c += "<p class=ptp><b>" + w_.a164 + ":</b></p><br><table>";
	g = 0;
	for (key in b)
		c += "<tr valign=top><td nowrap style='padding:3px;' align=right>" + key + ": &nbsp;</td><td nowrap style='padding:3px;'>",
		c = b[key] ? c + b[key] : c + "0",
		c += "</td></tr>",
		g++;
	c = c + "</table><p class=ptp><b>" + (w_.a165 + ":</b></p><br><table>");
	for (f = 10; 0 < f; f--)
		a["vote" + f] && 0 < eval(a["vote" + f]) && (c += "<tr valign=top><td nowrap style='padding:3px;' align=right>" + f + " " + w_.s79 + ": &nbsp;</td><td nowrap style='padding:3px;'>",
		a["vote" + f] ? (c += a["vote" + f] + " ",
		c = 1 == eval(a["vote" + f]) ? c + w_.s82 : c + w_.s81) : c += "0 " + w_.s81,
		c += "</td></tr>");
	setAppArea(c + "</table>")
}
function editStatus(a, b, c) {
	c = " <select id=selectstatus" + b + "status" + c + " onchange=\"saveStatus('" + b + "'," + c + ');">';
	var e = STATUS;
	"revision" == b && (e = REVISIONSTATUS);
	for (b = 0; b < e.length; b++)
		c += "<option name=status" + b + " value=" + b,
		a == b && (c += " selected"),
		c += ">" + e[b];
	return c + "</select> "
}
function saveStatus(a, b) {
	saveforjuryitem = null;
	var c = "/widget?c=" + sitecode + "&a=" + a + "&d=savestatus"
	  , e = gEBI("selectstatus" + a + "status" + b).value;
	c += "&status=" + e;
	"item" == a ? (c += "&itemid=" + b,
	gEBI("itemdescriptionlink" + b) && (0 == e ? (gEBI("itemdescriptionlink" + b).style.display = "none",
	gEBI("itemdescription" + b).style.display = "inline") : (gEBI("itemdescriptionlink" + b).style.display = "inline",
	gEBI("itemdescription" + b).style.display = "none"))) : c += "&revisionid=" + b;
	if (gEBI("editspacearea" + b)) {
		var f = 1;
		"item" == a && (f = 3);
		e != f && 8 != e ? (gEBI("editspacearea" + b).style.display = "none",
		gEBI("editawardarea" + b).style.display = "none") : (gEBI("editspacearea" + b).style.display = "inline",
		gEBI("editawardarea" + b).style.display = "inline")
	}
	sendCommand(baseserverip, c)
}
function editCategory(a, b) {
	if (confirm(w_.s76a)) {
		for (var c = " <select id=selectcategory" + a + ' onchange="saveCategory(' + a + ');">', e = 0; e < currcategories.length; e++)
			c += "<option value='" + currcategories[e] + "'",
			b == currcategories[e] && (c += " selected"),
			c += ">" + currcategories[e];
		setHTML("editcategory" + a, c + "</select> ")
	}
}
function saveCategory(a) {
	var b = "/widget?c=" + sitecode + "&a=item&d=savecategory";
	gEBI("selectcategory" + a);
	b += "&newcategory=" + encodeURIComponent(gEBI("selectcategory" + a).value);
	b += "&itemid=" + a;
	setHTML("editcategory" + a, loadimage);
	sendCommand(baseserverip, b)
}
function savedCategory(a) {
	setHTML("editcategory" + a.id, '<span onclick="editCategory(' + a.id + ", '" + a.category + "')\">" + a.category + "</span>")
}
function editUserID(a) {
	var b = gEBI("edituserid" + a).innerHTML;
	setHTML("edituserid" + a, "");
	setHTML("edituseridentry" + a, "<input type=text id=newuserid" + a + " value='" + b + "' style='width:60px'>  ");
	setHTML("edituseridbuttons" + a, "<input type=button value='" + w_.a166 + "' onclick=\"saveUserID(" + a + ");\"> <input type=button value='" + w_.a167 + "' onclick=\"setHTML('edituserid" + a + "', '" + b + "'); setHTML('edituseridbuttons" + a + "', ''); setHTML('edituseridentry" + a + "', '');\">")
}
function saveUserID(a) {
	var b = gEBI("newuserid" + a).value;
	setHTML("edituserid" + a, b);
	setHTML("edituseridbuttons" + a, "");
	setHTML("edituseridentry" + a, "");
	var c = "/widget?c=" + sitecode + "&a=item&d=saveuseritemid";
	sendCommand(baseserverip, c + ("&newitemid=" + b) + ("&itemid=" + a))
}
function editSpace(a, b) {
	var c = gEBI("editspace" + a).innerHTML.trim();
	c = c.substring(c.indexOf(": ") + 2);
	"?" == c && (c = "");
	setHTML("editspace" + a, "");
	setHTML("editspaceentry" + a, "<input type=text id=newspace" + a + " value='" + c + "' style='width:160px' maxlength=200>  ");
	setHTML("editspacebuttons" + a, "<input type=button value='" + w_.a166 + "' onclick=\"saveSpace(" + a + ",'" + b + "');\"> <input type=button value='" + w_.a167 + "' onclick=\"setHTML('editspace" + a + "', '" + w_.s77 + ": " + (0 == c.length ? "?" : c) + "'); setHTML('editspacebuttons" + a + "', ''); setHTML('editspaceentry" + a + "', '');\">");
	gEBI("newspace" + a).focus();
	gEBI("newspace" + a).setSelectionRange(0, 0)
}
function saveSpace(a, b) {
	var c = gEBI("newspace" + a).value.trim();
	setHTML("editspace" + a, "space: " + (0 == c.length ? "?" : c));
	setHTML("editspacebuttons" + a, "");
	setHTML("editspaceentry" + a, "");
	var e = "/widget?c=" + sitecode + "&a=" + b + "&d=savespace";
	e += "&newspace=" + encodeURIComponent(c);
	sendCommand(baseserverip, "item" == b ? e + ("&itemid=" + a) : e + ("&revisionid=" + a))
}
function editAward(a, b) {
	var c = gEBI("editaward" + a).innerHTML.trim();
	c = c.substring(c.indexOf(": ") + 2);
	"?" == c && (c = "");
	setHTML("editaward" + a, "");
	setHTML("editawardentry" + a, "<input type=text id=newaward" + a + " value='" + c + "' style='width:150px' maxlength=100>  ");
	setHTML("editawardbuttons" + a, "<input type=button value='" + w_.a166 + "' onclick=\"saveAward(" + a + ",'" + b + "');\"> <input type=button value='" + w_.a167 + "' onclick=\"setHTML('editaward" + a + "', '" + w_.s77c + ": " + (0 == c.length ? "?" : c) + "'); setHTML('editawardbuttons" + a + "', ''); setHTML('editawardentry" + a + "', '');\">");
	gEBI("newaward" + a).focus();
	gEBI("newaward" + a).setSelectionRange(0, 0)
}
function saveAward(a, b) {
	var c = gEBI("newaward" + a).value.trim();
	setHTML("editaward" + a, "award: " + (0 == c.length ? "?" : c));
	setHTML("editawardbuttons" + a, "");
	setHTML("editawardentry" + a, "");
	var e = "/widget?c=" + sitecode + "&a=" + b + "&d=saveaward";
	e += "&newaward=" + encodeURIComponent(c);
	sendCommand(baseserverip, "item" == b ? e + ("&itemid=" + a) : e + ("&revisionid=" + a))
}
function togglePublicity(a) {
	if (confirm(w_.a168)) {
		if ("publicity ok" == gEBI("togglepublicity" + a).innerHTML) {
			var b = 0;
			setHTML("togglepublicity" + a, "no publicity")
		} else
			b = 1,
			setHTML("togglepublicity" + a, "publicity ok");
		sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=savepublicity&value=" + b + "&itemid=" + a)
	}
}
function editShow(a) {
	var b = getNav();
	setAppArea(b + "<span id=editshow></span>");
	b = "/widget?c=" + sitecode + "&a=show&d=edit";
	useshow = null;
	a ? b += "&copyfromid=" + a : currshow && (b += "&showid=" + currshow.id);
	sendCommand(baseserverip, b)
}
function deleteShow(a) {
	a = _w_("a169", [w_.callforentries, currshow.title]);
	confirm(a) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=delete&showid=" + currshow.id)
}
function saveShow() {
	var a = null;
	0 == gEBI("show_title").value.length ? a = w_.a170 : -1 != gEBI("show_title").value.indexOf("<") || -1 != gEBI("show_title").value.indexOf(">") ? a = w_.a170a : -1 != gEBI("show_title").value.indexOf('"') ? a = "Oops. No quotes allowed in the title" : 3 > gEBI("show_location").value.length || "unable to determine location" == gEBI("show_location").value || "undefined" == gEBI("show_location").value ? a = w_.a170b : -1 != gEBI("et_categories").value.indexOf(":") || -1 != gEBI("et_categories").value.indexOf("\n") || -1 != gEBI("et_categories").value.indexOf("'") || -1 != gEBI("et_categories").value.indexOf('"') || -1 != gEBI("et_categories").value.indexOf("--") || -1 != gEBI("et_categories").value.indexOf("#") ? a = w_.a171 : 0 < gEBI("submit_end_date").value.length && gEBI("submit_end_date").value != w_.t13 && !Date.parse(checkDate(gEBI("submit_end_date").value)) ? a = w_.a172 : 0 < gEBI("late_submit_end_date").value.length && gEBI("late_submit_end_date").value != w_.t13 && !Date.parse(checkDate(gEBI("late_submit_end_date").value)) ? a = w_.a173 : 0 < gEBI("show_date").value.length && gEBI("show_date").value != w_.t13 && !Date.parse(checkDate(gEBI("show_date").value)) ? a = w_.a174 : 0 < gEBI("show_end_date").value.length && gEBI("show_end_date").value != w_.t13 && !Date.parse(checkDate(gEBI("show_end_date").value)) ? a = w_.a175 : 0 < gEBI("jury_end_date").value.length && gEBI("jury_end_date").value != w_.t13 && !Date.parse(checkDate(gEBI("jury_end_date").value)) && (a = w_.a176);
	eval(gEBI("min_images").value) > eval(gEBI("max_images").value) && (a = _w_("a177", [gEBI("max_images").value, gEBI("min_images").value]));
	for (var b = "00000000000000000000", c = "0000000000000000000000000000000000000000", e = 0, f = 0; f < FILETYPES.length; f++)
		gEBI("filetype" + f).checked && e++,
		b = b.setCharAt(gEBI("filetype" + f).checked ? "1" : "0", f);
	gEBI("filetypes").value = b;
	0 == e && (a = w_.a178);
	for (f = e = 0; 10 > f; f++)
		0 < gEBI("votecat" + f).value.trim().length && e++;
	0 == e && (a = w_.a179);
	if (null != a)
		return displayError(a, "toperrorarea"),
		displayError(a, "bottomerrorarea"),
		!1;
	gEBI("topsavebutton").value = "Saving...";
	gEBI("topsavebutton").disabled = !0;
	gEBI("bottomsavebutton").value = "Saving...";
	gEBI("bottomsavebutton").disabled = !0;
	c = c.setCharAt(gEBI("sortjury").value, SHOWPREF_JURYSORT);
	c = c.setCharAt(gEBI("votefor").value, SHOWPREF_VOTEFOR);
	c = c.setCharAt(gEBI("uploadoptional").value, SHOWPREF_UPLOADOPTIONAL);
	c = c.setCharAt(gEBI("askforstatement").checked ? "1" : "0", SHOWPREF_ASKFORSTATEMENT);
	c = c.setCharAt(gEBI("askforresume").checked ? "1" : "0", SHOWPREF_ASKFORRESUME);
	c = c.setCharAt(gEBI("askfordescriptionofwork").checked ? "0" : "1", SHOWPREF_ASKFORDESCRIPTIONOFWORK);
	c = c.setCharAt(gEBI("askforentrystatement").checked ? "1" : "0", SHOWPREF_ASKFORENTRYSTATEMENT);
	c = c.setCharAt(gEBI("askforimagedescription").checked ? "1" : "0", SHOWPREF_ASKFORIMAGEDESCRIPTION);
	c = c.setCharAt(gEBI("askfordimensions").checked ? "0" : "1", SHOWPREF_ASKFORDIMENSIONS);
	c = c.setCharAt(gEBI("askforartbooth").checked ? "0" : "1", SHOWPREF_ASKFORARTBOOTH);
	gEBI("imageviews") && (c = c.setCharAt(gEBI("imageviews").checked ? "1" : "0", SHOWPREF_IMAGEVIEWS));
	c = c.setCharAt(gEBI("askformaterial").checked ? "1" : "0", SHOWPREF_ASKFORMATERIAL);
	c = c.setCharAt(gEBI("askforpublicity").checked ? "1" : "0", SHOWPREF_ASKFORPUBLICITY);
	c = c.setCharAt(gEBI("askhowfind").checked ? "1" : "0", SHOWPREF_ASKHOWFIND);
	c = c.setCharAt(gEBI("showprintsignature").checked ? "1" : "0", SHOWPREF_PRINTSIGNATURE);
	c = c.setCharAt(gEBI("askforprice").checked ? "1" : "0", SHOWPREF_ASKFORPRICE);
	c = c.setCharAt(gEBI("askforyear").checked ? "1" : "0", SHOWPREF_ASKFORYEAR);
	c = c.setCharAt(gEBI("pointsstart").value, SHOWPREF_POINTSSTART);
	c = c.setCharAt(gEBI("pointsend").value, SHOWPREF_POINTSEND);
	c = c.setCharAt(gEBI("pointsskip").value, SHOWPREF_POINTSSKIP);
	c = c.setCharAt(gEBI("statementlength").value, SHOWPREF_STATEMENTLENGTH);
	c = c.setCharAt(gEBI("entrystatementlength").value, SHOWPREF_ENTRYSTATEMENTLENGTH);
	c = c.setCharAt(gEBI("overviewsortpoints").checked ? "1" : "0", SHOWPREF_OVERVIEWSORTPOINTS);
	c = c.setCharAt(gEBI("showprofilelink").checked ? "1" : "0", SHOWPREF_SHOWPROFILELINK);
	c = c.setCharAt(gEBI("showpricetojurors").checked ? "1" : "0", SHOWPREF_SHOWPRICETOJURORS);
	gEBI("fb_showstatus") && (c = c.setCharAt(gEBI("fb_showstatus").value, SHOWPREF_FBSHOWSTATUS));
	c = c.setCharAt(gEBI("jurornotes").checked ? "1" : "0", SHOWPREF_JURORNOTES);
	c = c.setCharAt(gEBI("adminnotesforjurors").checked ? "1" : "0", SHOWPREF_ADMINNOTESFORJURORS);
	c = c.setCharAt(gEBI("jurornotesforentrants").checked ? "1" : "0", SHOWPREF_JURORNOTESFORENTRANTS);
	gEBI("prefs").value = c;
	f = 0;
	for (a = ""; gEBI("memberslist" + f); )
		gEBI("memberslist" + f).checked && (a += currmemberusers[f].id + ","),
		f++;
	gEBI("members").value = a;
	0 < gEBI("submit_end_date").value.length && gEBI("submit_end_date").value != w_.t13 && (gEBI("submit_end_date").value = (new Date(Date.parse(checkDate(gEBI("submit_end_date").value)))).toUTCString());
	0 < gEBI("late_submit_end_date").value.length && gEBI("late_submit_end_date").value != w_.t13 && (gEBI("late_submit_end_date").value = (new Date(Date.parse(checkDate(gEBI("late_submit_end_date").value)))).toUTCString());
	0 < gEBI("show_date").value.length && gEBI("show_date").value != w_.t13 && (gEBI("show_date").value = (new Date(Date.parse(checkDate(gEBI("show_date").value)))).toUTCString());
	0 < gEBI("show_end_date").value.length && gEBI("show_end_date").value != w_.t13 && (gEBI("show_end_date").value = (new Date(Date.parse(checkDate(gEBI("show_end_date").value)))).toUTCString());
	0 < gEBI("jury_end_date").value.length && gEBI("jury_end_date").value != w_.t13 && (gEBI("jury_end_date").value = (new Date(Date.parse(checkDate(gEBI("jury_end_date").value)))).toUTCString());
	gEBI("printinstructions").value = charClean(gEBI("printinstructions").value);
	gEBI("terms").value = charClean(gEBI("terms").value);
	gEBI("juryprocedure").value = charClean(gEBI("juryprocedure").value);
	setHTML("et_loading", " &nbsp; &nbsp; &nbsp;" + loadimage + " Loading...");
	postcheckercnt = 0;
	posting = "show";
	postChecker();
	return !0
}
var useshow;
function checkFBIMessage() {
	"on" == gEBI("forartistspage").value ? gEBI("FBImessage").style.display = "inline" : gEBI("FBImessage").style.display = "none"
}
function displayEditShow(a, b) {
	currmemberusers = a;
	currshow ? useshow = currshow : b && b[0] && (useshow = b[0]);
	h = "<form method='post' accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' action='" + baseserverip + "/widget' target='et_uploadtarget' onsubmit=\"return saveShow();\">";
	h += "<input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveshow value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">";
	h += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>";
	h = currshow ? h + currshow.title : h + _w_("a180", [w_.Callforentries]);
	h += "</span></td>";
	currshow && (h += "<td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>" + getShowNav() + "</td>");
	h += "</tr></table></p>";
	currshow && (h += "<p class=ptp><span class=et_title150bold>" + w_.a181 + "</span></p>");
	h += "<br><input id=topsavebutton class=et_savebutton type=submit value='" + w_.a186 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.a187 + "' onclick=\"";
	h = currshow ? h + ("displayShow(" + currshow.id + ");") : h + "displayDashboard(0);";
	h += '"><br><span id=toperrorarea></span><br>';
	h += "<div style='float:left; margin:0 30 0 0; min-width:360px; max-width:360px'>";
	h += "<p class=ptp><b>" + w_.a182 + ":</b> <br><input type=text style='width:350px' id=show_title name=title value='";
	currshow && (h += d(currshow.title));
	h += "'";
	currshow && currshow.create_date && new Date(Date.parse(currshow.create_date)) < (new Date).getTime() - 2592E6 && (h += " readonly onclick='alert(\"Ooops. You cannot edit the name of a call that is older than 1 month. If you are trying to create a new call, click Main and then the Add a call for entries button. Contact us at hello@entrythingy.com if you have any questions on this.\")'");
	h += " maxlength=100></p>";
	h += "<p class=ptp><b>Location of show: </b><font size=-2>(City, State - For <a href=https://www.entrythingy.com/forartists_calls target=cl>call list</a>)</font><br><input type=text style='width:350px;' id=show_location name=location value='" + (useshow ? useshow.location : "") + "'></p>";
	h += "<p class=ptp><label><input type=hidden name=hasforartistspagecheckbox><b>Publish to <a href=https://www.entrythingy.com/forartists_calls target=cl>our call list</a>, <a href=https://www.facebook.com/EntryThingy target=sm>Facebook</a> and <a href=https://www.instagram.com/entrythingy/ target=sm>Instagram</a>";
	h += " for free: </b></label><select onchange='checkFBIMessage()' id=forartistspage name=forartistspage><option value=off>No<option value=on";
	if (!useshow || useshow && 1 != useshow.forartistspage)
		h += " selected";
	h += ">Yes</select></p>";
	a = null;
	currshow && (a = currshow.fb_text);
	if (null == a || 10 > a.length)
		a = "0000000000";
	h += "<span id=FBImessage style='line-height:1;display:";
	h = !useshow || useshow && 1 != useshow.forartistspage ? h + "inline" : h + "none";
	h += "'><font size=-2>";
	h = "0" == a.charAt(0) ? h + "Please send us a square(ish) higher quality photo that we can use to promote this call on Facebook and Instagram via email to <a href=mailto:hello@entrythingy.com target=em>hello@entrythingy.com</a>. Don't forget to include the title of the call in your email.</p>" : h + "This call has been scheduled to be published on Facebook and Instagram.";
	h += "</font></span>";
	h += "<p class=ptp><b>" + w_.s17 + ":</b> <select id=status name=status>";
	a = 1;
	currshow && currshow.status && (a = currshow.status);
	for (b = 0; b < SHOWSTATUS.length; b++)
		h += "<option value=" + b,
		a == b && (h += " selected"),
		h += ">" + SHOWSTATUS[b];
	h += "</select></p>";
	h += "<p class=ptp><b>" + w_.s26 + ":</b> <font size=-2>(" + w_.s26b + ")</font><br><textarea id=description name=description style='width:350px; height:100px' >";
	useshow && (h += checkAmp(useshow.description));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s19 + ":</b> <font size=-2>(Separate categories with commas)</font> <br><textarea id=et_categories name=categories style='width:350px; height:100px'>";
	useshow && (h += useshow.categories);
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s20 + ":</b> <br><textarea id=instructions name=instructions style='width:350px; height:150px'>";
	useshow && (h += checkAmp(useshow.instructions));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s26a + ":</b> <font size=-2>(Please <a href=https://www.entrythingy.com/faq.html#paypal target=paypal>click over to the FAQ</a> for details on how to use this.)</font><br><textarea id=replacesubmit name=replacesubmit style='width:350px; height:150px'>";
	useshow && useshow.replacesubmit && (h += checkAmp(useshow.replacesubmit));
	h += "</textarea></p><br><a href=https://www.entrythingy.com/faq.html#paypal target=paypal><font size=-1>Learn about and get a customized Paypal payment button here.</font></a>";
	h += "<p class=ptp><b>" + w_.s21 + ":</b> <br><textarea id=addinstructions name=addinstructions style='width:350px; height:150px'>";
	useshow && (h += checkAmp(useshow.addinstructions));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s22 + ":</b> <input type=text id=couponcode name=couponcode style='width:50px' value='";
	useshow && useshow.couponcode && (h += useshow.couponcode);
	h += "'><br><textarea id=couponinstructions name=couponinstructions style='width:350px; height:150px'>";
	useshow && useshow.couponinstructions && (h += checkAmp(useshow.couponinstructions));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s23 + ":</b> <br><textarea id=printinstructions name=printinstructions style='width:350px; height:150px'>";
	useshow && useshow.printinstructions && (h += checkAmp(useshow.printinstructions));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s23a + ":</b> <br><textarea id=acceptedinstructions name=acceptedinstructions style='width:350px; height:150px'>";
	useshow && useshow.acceptedinstructions && (h += checkAmp(useshow.acceptedinstructions));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s24 + ":</b> <br><textarea id=terms name=terms style='width:350px; height:150px'>";
	useshow && (h += checkAmp(useshow.terms));
	h += "</textarea></p>";
	h += "<p class=ptp><b>" + w_.s25 + ":</b> <br><textarea id=juryprocedure name=juryprocedure style='width:350px; height:150px'>";
	useshow && useshow.juryprocedure && (h += checkAmp(useshow.juryprocedure));
	h += "</textarea></p>";
	h += "</div><div style='float:left; min-width:300px; max-width:50%;'>";
	h += "<p class=ptp><span class=et_title120bold>" + w_.s27 + "</span></p>";
	h += "<p class=ptp><b>" + w_.s28 + ":</b> <table cellpadding=0 cellspacing=0><tr valign=center><td><input id=submit_end_date name='submit_end_date' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" value='";
	h = currshow && currshow.submit_end_date ? h + displaySimpleDate(currshow.submit_end_date) : h + w_.t13;
	h += "'> ";
	h += '</td><td>&nbsp;<a href=# onclick="showCalendar(\'submit_end_date\');return false;"><img src="https://entrythingy.s3.amazonaws.com/images/calendar.gif"  title="Select date" width="20" height="20" border="0"></a>';
	h += '</td></tr></table></p><div style=\'position:relative\' class="yui-skin-sam"><div id="submit_end_datecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><div id=caljs></div>';
	h += "<p class=ptp><b>" + w_.s29 + ":</b> <table cellpadding=0 cellspacing=0><tr valign=center><td><input id=late_submit_end_date name='late_submit_end_date' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" value='";
	h = currshow && currshow.late_submit_end_date ? h + displaySimpleDate(currshow.late_submit_end_date) : h + w_.t13;
	h += "'> ";
	h += '</td><td>&nbsp;<a href=# onclick="showCalendar(\'late_submit_end_date\');return false;"><img src="https://entrythingy.s3.amazonaws.com/images/calendar.gif"  title="Select date" width="20" height="20" border="0"></a>';
	h += '</td></tr></table></p><div style=\'position:relative\' class="yui-skin-sam"><div id="late_submit_end_datecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><div id=caljs></div>';
	h += "<p class=ptp><b>" + w_.notificationofjuryresults + ":</b> <table cellpadding=0 cellspacing=0><tr valign=center><td><input id=jury_end_date name='jury_end_date' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" value='";
	h = currshow && currshow.jury_end_date ? h + displaySimpleDate(currshow.jury_end_date) : h + w_.t13;
	h += "'> ";
	h += '</td><td>&nbsp;<a href=# onclick="showCalendar(\'jury_end_date\');return false;"><img src="https://entrythingy.s3.amazonaws.com/images/calendar.gif"  title="Select date" width="20" height="20" border="0"></a>';
	h += '</td></tr></table></p><div style=\'position:relative\' class="yui-skin-sam"><div id="jury_end_datecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><div id=caljs></div>';
	h += "<p class=ptp><b>" + w_.s30 + ":</b> <table cellpadding=0 cellspacing=0><tr valign=center><td><input id=show_date name='show_date' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" value='";
	h = currshow && currshow.show_date ? h + displaySimpleDate(currshow.show_date) : h + w_.t13;
	h += "'> ";
	h += '</td><td>&nbsp;<a href=# onclick="showCalendar(\'show_date\');return false;"><img src="https://entrythingy.s3.amazonaws.com/images/calendar.gif"  title="Select date" width="20" height="20" border="0"></a>';
	h += '</td></tr></table></p><div style=\'position:relative\' class="yui-skin-sam"><div id="show_datecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><div id=caljs></div>';
	h += "<p class=ptp><b>" + w_.s31 + ":</b> <table cellpadding=0 cellspacing=0><tr valign=center><td><input id=show_end_date name='show_end_date' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" value='";
	h = currshow && currshow.show_end_date ? h + displaySimpleDate(currshow.show_end_date) : h + w_.t13;
	h += "'> ";
	h += '</td><td>&nbsp;<a href=# onclick="showCalendar(\'show_end_date\');return false;"><img src="https://entrythingy.s3.amazonaws.com/images/calendar.gif"  title="Select date" width="20" height="20" border="0"></a>';
	h += '</td></tr></table></p><div style=\'position:relative\' class="yui-skin-sam"><div id="show_end_datecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><div id=caljs></div>';
	h += "<br><p class=ptp><span class=et_title120bold>Upload Settings</span></p>";
	h += "<p class=ptp><b>" + w_.s33 + ":</b> <select id=min_images name=min_images >";
	for (b = 0; 21 > b; b++)
		h += "<option value=" + b,
		useshow && useshow.min_images && useshow.min_images == b ? h += " selected" : useshow || 1 != b || (h += " selected"),
		h += ">" + b;
	h += "</select></p>";
	h += "<p class=ptp><b>" + w_.s34 + ":</b> <select id=max_images name=max_images >";
	for (b = 1; 26 > b; b++)
		h += "<option value=" + b,
		useshow && useshow.max_images && useshow.max_images == b ? h += " selected" : useshow || 4 != b || (h += " selected"),
		h += ">" + b;
	h += "</select></p>";
	h += "<p class=ptp><b>" + w_.s35 + ":</b> <select id=max_entries name=max_entries>";
	for (b = 1; 21 > b; b++)
		h += "<option value=" + b,
		null != useshow && useshow.max_entries && useshow.max_entries == b ? h += " selected" : null == useshow && 4 == b && (h += " selected"),
		h += ">" + b;
	h += "</select></p>";
	h += "<p class=ptp><label><input type=checkbox id=imageviews";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_IMAGEVIEWS) && (h += " checked");
	h += "><b>" + w_.s47b + "</b></label></p>";
	h += "<p class=ptp><b>" + w_.s36 + ":</b> ";
	for (b = 0; b < FILETYPES.length; b++)
		h += "<label><input id=filetype" + b + " type=checkbox ",
		useshow && "1" == useshow.filetypes.charAt(b) ? h += "checked" : !useshow && 3 > b && (h += "checked"),
		h += " onchange='updateFileType(" + b + ");'>" + FILETYPES[b] + " &nbsp; </label> ";
	h += "</p><p class=ptp><b>" + w_.s37 + ":</b> <input type=text id=maxfilesize name=maxfilesize style='width:50px;' value='" + (useshow ? useshow.maxfilesize : 500) + "'> mb";
	h += "</p><p class=ptp><b>" + w_.s38 + ":</b> <input type=text id=minfilesize name=minfilesize style='width:50px;' value='" + (useshow ? useshow.minfilesize : 0) + "'> kb";
	h += "</p><p class=ptp><b>" + w_.s39 + ":</b> <input type=text id=minimagewidth name=minimagewidth style='width:50px;' value='" + (useshow ? useshow.minimagewidth : 0) + "'> px</p>";
	h += "<p class=ptp><b>File upload: </b><select id=uploadoptional>";
	h += "<option value=0 " + (useshow && "0" == useshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) ? " selected" : "") + ">Required</option>";
	h += "<option value=1 " + (useshow && "1" == useshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) ? " selected" : "") + ">Optional</option>";
	h += "<option value=2 " + (useshow && "2" == useshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) ? " selected" : "") + ">Either file upload or web page link</option>";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (h += " checked");
	h += "></select></p>";
	h += "<br><p class=ptp><span class=et_title120bold>" + w_.s32 + "</span></p>";
	h += "<p class=ptp><label><input type=checkbox id=askforstatement";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORSTATEMENT) && (h += " checked");
	h += "><b>" + w_.s40 + "</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=askforresume";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORRESUME) && (h += " checked");
	h += "><b>" + w_.s41 + "</b></label></p><p class=ptp><label><input type=checkbox id=askfordescriptionofwork";
	useshow && "0" == useshow.prefs.charAt(SHOWPREF_ASKFORDESCRIPTIONOFWORK) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s42 + "</b></label></p>";
	h += "<p class=ptp><b>" + w_.s48 + ":</b> <select id=statementlength name=statementlength>";
	for (b = 0; 10 > b; b++)
		h += "<option value=" + b,
		null != useshow && useshow.prefs.charAt(SHOWPREF_STATEMENTLENGTH) == b ? h += " selected" : null == useshow && 0 == b && (h += " selected"),
		h += ">" + (80 + 20 * b);
	h += "</select> " + w_.s48a + "</p>";
	h += "<p class=ptp><label><input type=checkbox id=askforentrystatement";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) && (h += " checked");
	h += "><b>" + w_.s42a + "</b></label></p>";
	h += "<p class=ptp><b>" + w_.s48b + ":</b> <select id=entrystatementlength name=entrystatementlength>";
	for (b = 0; 10 > b; b++)
		h += "<option value=" + b,
		null != useshow && useshow.prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH) == b ? h += " selected" : null == useshow && 0 == b && (h += " selected"),
		h += ">" + (80 + 50 * b);
	h += "</select> " + w_.s48a + "</p>";
	h += "<p class=ptp><label><input type=checkbox id=askforimagedescription";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s43a + "</span></b></label></p><p class=ptp><label><input type=checkbox id=askfordimensions";
	useshow && "0" == useshow.prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s43 + " <span id=askfordimensionsshow>" + dimensions + "</span></b></label></p><p class=ptp><label><input type=checkbox id=askforartbooth";
	useshow && "0" == useshow.prefs.charAt(SHOWPREF_ASKFORARTBOOTH) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s44 + "</b></label></p><p class=ptp><label><input type=checkbox id=askformaterial";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORMATERIAL) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s45 + "</b></label></p><p class=ptp><label><input type=checkbox id=askforprice";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORPRICE) && (h += " checked");
	h += "><b>" + w_.s46 + "</b></label></p><p class=ptp><label><input type=checkbox id=askforyear";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORYEAR) && (h += " checked");
	h += "><b>" + w_.s47 + "</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=askforpublicity";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKFORPUBLICITY) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s49 + " <span id=usewhatforpub>" + w_upload + "</span>" + w_.s50 + "</b></label></p><p class=ptp><label><input type=checkbox id=askhowfind";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ASKHOWFIND) ? h += " checked" : useshow || (h += " checked");
	h += "><b>" + w_.s51 + "</b></label></p><p class=ptp><label><input type=checkbox id=showprintsignature";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_PRINTSIGNATURE) && (h += " checked");
	h += "><b>" + w_.s52 + "</b></label></p>";
	h += "<br><p class=ptp><span class=et_title120bold>" + w_.s53 + "</span></p>";
	h += getMembers(currshow);
	h += "<input type=hidden id=members id=members name=members>";
	h += "<p class=ptp><b>" + w_.s54 + " </b><select id=sortjury><option value=0" + (useshow && "0" == useshow.prefs.charAt(SHOWPREF_JURYSORT) ? " selected" : "") + ">" + w_.s55 + "<option value=1" + (useshow && "1" == useshow.prefs.charAt(SHOWPREF_JURYSORT) ? " selected" : "") + ">" + w_.s56 + "</select></p>";
	h += "<p class=ptp><label><input type=checkbox id=overviewsortpoints";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_OVERVIEWSORTPOINTS) && (h += " checked");
	h += "><b>" + w_.s57 + "</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=showprofilelink";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_SHOWPROFILELINK) && (h += " checked");
	h += "><b>" + w_.s60 + "</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=showpricetojurors";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_SHOWPRICETOJURORS) && (h += " checked");
	h += "><b>" + w_.s60a + "</b></label></p>";
	h += "<p class=ptp><b>" + w_.s61 + " </b><select id=votefor><option value=0" + (useshow && "0" != useshow.prefs.charAt(SHOWPREF_VOTEFOR) ? "" : " selected") + ">" + w_.s62 + "<option value=1" + (useshow && "1" == useshow.prefs.charAt(SHOWPREF_VOTEFOR) ? " selected" : "") + " id=voteforeachimage>" + W_upload + "</select> <font size=-2>For more information on how this works, please click over to the <a href=https://www.entrythingy.com/faq.html target=faq>FAQ</a> and scroll down to 'Jury: What's the difference between voting per entry and voting per piece?'</font> </p>";
	h += "<p class=ptp><b>" + w_.s64 + " </b><select id=pointsstart>";
	for (b = 0; 2 > b; b++)
		h += "<option value=" + b,
		useshow && useshow.prefs.charAt(SHOWPREF_POINTSSTART) == b ? h += " selected" : useshow || 0 != b || (h += " selected"),
		h += ">" + b;
	h += "</select> <b>" + w_.s65 + "</b> <select id=pointsend>";
	for (b = 0; 10 > b; b++)
		h += "<option value=" + b,
		useshow && useshow.prefs.charAt(SHOWPREF_POINTSEND) == b ? h += " selected" : useshow || 4 != b || (h += " selected"),
		h += ">" + (b + 1);
	h += "</select><b> " + w_.s66 + " </b><select id=pointsskip>";
	for (b = 0; 10 > b; b++)
		h += "<option value=" + b,
		useshow && useshow.prefs.charAt(SHOWPREF_POINTSSKIP) == b ? h += " selected" : useshow || 0 != b || (h += " selected"),
		h += ">",
		h = 0 == b ? h + w_.s67 : h + b;
	h += "</select></p>";
	h += "<p class=ptp><b>" + w_.s68 + ": </b><font size=-2>" + w_.a184 + "</font><br><br><table cellpadding=0 cellspacing=0>";
	for (b = 0; 10 > b; b++)
		h += "<tr><td>" + (b + 1) + ":&nbsp;</td><td><input id=votecat" + b + " name=vc" + b + " type=text maxlength=30 style='width:200px;' value=\"",
		useshow && useshow["votecat" + b] && 0 < useshow["votecat" + b].length ? h += useshow["votecat" + b] : useshow || 0 != b || (h += w_.a185),
		h += '"></td></tr>';
	h += "</table></p>";
	h += "<br><p class=ptp><span class=et_title120bold>Notes Settings</span></p>";
	h += "<p class=ptp><label><input type=checkbox id=adminnotesforjurors";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_ADMINNOTESFORJURORS) && (h += " checked");
	h += "><b>Show admin notes to jurors</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=jurornotes";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_JURORNOTES) && (h += " checked");
	h += "><b>Enable juror notes</b></label></p>";
	h += "<p class=ptp><label><input type=checkbox id=jurornotesforentrants";
	useshow && "1" == useshow.prefs.charAt(SHOWPREF_JURORNOTESFORENTRANTS) && (h += " checked");
	h += "><b>Show juror notes to entrants</b></label></p>";
	h += "<input type=hidden id=prefs name=prefs>";
	h += "<input type=hidden id=filetypes name=filetypes>";
	currshow && (h += "<input type=hidden id=showid name=showid value=" + currshow.id + ">");
	h += "</div><div style='clear:both;'></div>";
	h += "<br><span id=bottomerrorarea></span><p class=ptp><input id=bottomsavebutton class=et_savebutton type=submit value='" + w_.a186 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.a187 + "' onclick=\"";
	h = currshow ? h + ("displayShow(" + currshow.id + ");") : h + "displayDashboard(0);";
	h += '">';
	h += "</form>";
	setHTML("editshow", h)
}
function selectMembers(a, b) {
	for (b = 0; b < currmemberusers.length; b++)
		"all" == a ? null != gEBI("memberslist" + b) && (gEBI("memberslist" + b).checked = !0) : null != gEBI("memberslist" + b) && (gEBI("memberslist" + b).checked = !1)
}
function getMembers() {
	for (var a = "<p class=ptp><b>" + w_.s18 + ":</b> ", b = 0; b < currmemberusers.length; b++)
		0 < b && (a += ", "),
		a += "<label><input type=checkbox id=memberslist" + b + " name=" + currmemberusers[b].id,
		"y" == currmemberusers[b].ismember && (a += " checked"),
		a += ">" + currmemberusers[b].first_name + " " + currmemberusers[b].last_name + "</label>";
	a += " &nbsp; <span class=ptbtn>" + w_.a188 + ": <a href=# onclick=\"selectMembers('all', 'team');return false;\">[" + w_.a188a + "]</a> &nbsp; <a href=# onclick=\"selectMembers('none', 'team');return false;\">[" + w_.a188b + "]</a>";
	currperm >= PERM_SHOWADMIN && 0 == currmemberusers.length && (a += ' &nbsp; <a href=# onclick="addMemberUsers();return false;">[' + w_.a128 + "]</a>");
	return a + "</p>"
}
function addMemberUsers() {
	confirm(_w_("a189", [w_.callsforentries, w_.callforentries])) && displayAdmin("users")
}
function displayTools(a, b, c, e, f, g) {
	a || (a = eval(currshow.prefs.charAt(SHOWPREF_VOTEFOR)));
	b || (b = eval(currshow.prefs.charAt(SHOWPREF_VOTEFOR)));
	0 == a && (b = 0);
	c || (c = "");
	e || (e = "");
	f || (f = "");
	g || (g = "t");
	for (var k = [], l = 0; 10 > l; l++)
		currshow["votecat" + l] && 0 < currshow["votecat" + l].length && k.push(currshow["votecat" + l]);
	var m = getNav();
	m += "<p class=ptp id=showname><table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>" + getShowNav() + "</td></tr></table></p>";
	m += "<p class=ptp><span class=et_title150bold>" + w_.a190 + "</span></p>";
	m += "<p class=ptp><span class=et_title120bold>" + w_.a191 + "</span><br>" + _w_("a192", [w_.callforentries, "entries or images"]) + "</p>";
	var n = STATUS;
	1 == a && (n = REVISIONSTATUS);
	m += "<p class=ptp>Set <select id=newtype onchange=\"displayTools(this.value, gEBI('currtype').value, gEBI('which').value, gEBI('points').value, gEBI('updatecat').value, gEBI('votecat').value)\"><option value=0" + (0 == a ? " selected" : "") + ">entry<option value=1" + (1 == a ? " selected" : "") + ">image</select> status to  <select id=newstatus><option value=n>";
	for (l = 0; l < n.length; l++)
		m += "<option value=" + l + ">" + n[l].toLowerCase();
	m = m + ("</select> where <select id=currtype " + (0 == a ? "disabled" : "") + " onchange=\"displayTools(gEBI('newtype').value, this.value, gEBI('which').value, gEBI('points').value, gEBI('updatecat').value, gEBI('votecat').value)\"><option value=0" + (0 == b ? " selected" : "") + ">entry<option value=1" + (1 == b ? " selected" : "") + ">image</select> status is <select id=currstatus><option value=n><option value=-1>") + w_.a195;
	n = STATUS;
	1 == b && (n = REVISIONSTATUS);
	for (l = 0; l < n.length; l++)
		m += "<option value=" + l + ">" + n[l].toLowerCase();
	m += "</select> and " + (1 == a ? "image" : "entry") + " jury ";
	if (1 < k.length) {
		m += "<select id=votecat><option value=t>total";
		for (l = 0; l < k.length; l++)
			m += "<option value=" + l + (g == l ? " selected" : "") + ">" + currshow["votecat" + l].toLowerCase();
		m += "</select>"
	} else
		m += " total<input type=hidden id=votecat value=t>";
	m += " points is <select id=which><option value=n><option value=greater" + ("greater" == c ? " selected" : "") + ">" + w_.a197 + "<option value=less" + ("less" == c ? " selected" : "") + ">" + w_.a198 + "</select> " + w_.a199 + " <input type=text id=points style='width:30px' value=" + e + "> " + w_.a200;
	if (currcategories && 0 < currcategories.length) {
		m += " and the entry category is &nbsp;<select id=updatecat><option value=any>any";
		for (l = 0; l < currcategories.length; l++)
			m += '<option value="' + currcategories[l] + '"' + (f == currcategories[l] ? " selected" : "") + ">" + currcategories[l].toLowerCase();
		m += "</select>"
	} else
		m += "<input type=hidden id=updatecat value=any>";
	m += " <input class=et_submitbutton type=button onclick='updateStatus()' value='" + w_.a201 + "'>";
	m = m + "</p><span id=errorarea></span><br><p class=ptp><span class=et_title120bold>" + (w_.a202 + "</span></p><p><a href=# onclick=\"clearVotes('jury');return false;\">" + w_.a203 + "</p>");
	m = m + "<br><p class=ptp><span class=et_title120bold>Upload Space CSV</span><br>Choose a CSV formatted file to upload space codes to this call for entries or pieces. The CSV file must have 2 values in each line, separated by a comma: the entry or piece ID and the space code.</p><p><form method='post' action='" + (baseserverip + "/widget' enctype='multipart/form-data' id='uploadcsvform' name='uploadcsvform' target='et_uploadtarget'>");
	m = m + "<label><input type=radio name=uploadtype value=entry checked>Entries</label> &nbsp; <label><input type=radio name=uploadtype value=piece selected>Pieces</label> &nbsp; <input type=file id=csvfile name='csvfile'><input type=hidden name=c value=" + (sitecode + "><input type=hidden name=suploadspacecsv value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">");
	m += "<input type=hidden name=showid value=" + currshow.id + ">";
	m += " <input class=et_savebutton id=uploadspacecsvbutton type=button onclick='uploadSpaceCSV(" + currshow.id + ")' value='Upload'></form></p>";
	setAppArea(m)
}
function uploadSpaceCSV(a) {
	if (0 == gEBI("csvfile").value.length)
		return alert("Ooops. Please select a CSV file."),
		!1;
	if (!confirm("Are you sure?"))
		return !1;
	gEBI("uploadspacecsvbutton").disabled = !0;
	gEBI("uploadspacecsvbutton").value = "Uploading...";
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=uploadcsv&showid=" + currshow.id + "&ck=" + readCookie("entrythingy"))
}
function startUploadSpaceCSV(a) {
	gEBI("uploadcsvform").action = baseserverurl + "/cire?uploadcode=" + a.authcode;
	postcheckercnt = 0;
	posting = "uploadcsv";
	postChecker();
	gEBI("uploadcsvform").submit()
}
function clearVotes(a) {
	"jury" == a && confirm(w_.a204) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=clearvotes&showid=" + currshow.id + "&ck=" + readCookie("entrythingy"))
}
function updateStatus() {
	if (!(currperm < PERM_SHOWADMIN))
		if ("n" == gEBI("newstatus").value || "n" == gEBI("currstatus").value || "n" == gEBI("which").value || 0 == gEBI("points").value.length)
			displayError(w_.a205);
		else if (isNaN(gEBI("points").value))
			displayError("Ooops. Only numbers allowed in the points field.");
		else if (confirm(w_.a206)) {
			var a = "/widget?c=" + sitecode + "&a=show&d=updatestatus&newstatus=" + gEBI("newstatus").value + "&currstatus=" + gEBI("currstatus").value + "&currtype=" + gEBI("currtype").value + "&newtype=" + gEBI("newtype").value + "&points=" + gEBI("points").value + "&votecat=" + gEBI("votecat").value + "&which=" + gEBI("which").value + "&showid=" + currshow.id + "&ck=" + readCookie("entrythingy");
			gEBI("updatecat") && "any" != gEBI("updatecat").value && (a += "&category=" + encodeURIComponent(gEBI("updatecat").value));
			sendCommand(baseserverip, a)
		}
}
function checkDownloadDate() {
	gEBI("ddd").innerHTML = gEBI("downloaddate").value
}
var gw_type = "accepted"
  , gw_groupuser = "true";
gw_detailrevisions = "all";
gw_names = !0;
gw_namebusiness = "name";
gw_spaces = "false";
gw_sort = "et_item.category, et_user.last_name";
gw_startcat = "all";
gw_width = 220;
gw_comments = !0;
gw_moderation = !1;
gw_recentcomments = !0;
gw_rcwidth = 200;
gw_sales = !1;
gw_paypalemail = "";
gw_showphone = gw_showaddress = !1;
gw_tax_rate = gw_shipping_percent = gw_shipping = 0;
gw_originals = !1;
gw_links = !0;
gw_revyear = gw_revprice = gw_revmaterial = gw_revdimensions = !1;
function gw() {
	gEBI("errorarea").innerHTML = "";
	gw_type = gEBI("gw_type").value;
	gw_groupuser = gEBI("gw_groupuser").value;
	gw_width = gEBI("gw_width").value;
	gw_names = gEBI("gw_names").value;
	gw_namebusiness = gEBI("gw_namebusiness").value;
	gw_spaces = gEBI("gw_spaces").value;
	gw_sort = gEBI("gw_sort").value;
	gEBI("gw_startcat") && (gw_startcat = gEBI("gw_startcat").value);
	gw_sales = eval(gEBI("gw_sales").value);
	gw_comments = gEBI("gw_comments").value;
	"false" == gw_comments && (gEBI("gw_recentcomments").value = "false",
	gEBI("gw_moderation").value = "false");
	gw_recentcomments = gEBI("gw_recentcomments").value;
	gw_moderation = gEBI("gw_moderation").value;
	gw_paypalemail = gEBI("gw_paypalemail").value;
	gw_sales && null != checkEmail(gw_paypalemail) && displayError(checkEmail(gw_paypalemail));
	isNaN(gEBI("gw_shipping").value) || 0 == gEBI("gw_shipping").value.trim().length ? displayError("Ooops. That is not a valid shipping charge") : gw_shipping = gEBI("gw_shipping").value.trim();
	isNaN(gEBI("gw_shipping_percent").value) || 0 == gEBI("gw_shipping_percent").value.trim().length ? displayError("Ooops. That is not a valid shipping percentage") : gw_shipping_percent = gEBI("gw_shipping_percent").value.trim();
	isNaN(gEBI("gw_tax_rate").value) || 0 == gEBI("gw_tax_rate").value.trim().length ? displayError("Ooops. That is not a valid tax rate") : gw_tax_rate = gEBI("gw_tax_rate").value.trim();
	gw_originals = gEBI("gw_originals").value;
	gw_links = gEBI("gw_links").value;
	gw_showaddress = gEBI("gw_showaddress").value;
	gw_showphone = gEBI("gw_showphone").value;
	gw_revdimensions = gEBI("gw_revdimensions").value;
	gw_revmaterial = gEBI("gw_revmaterial").value;
	gw_revprice = gEBI("gw_revprice").value;
	gw_revyear = gEBI("gw_revyear").value;
	gw_detailrevisions = gEBI("gw_detailrevisions").value;
	gEBI("gallerycode").value = getGalleryCode()
}
function checkGalleryCode() {
	gEBI("gallerycode").select()
}
function getGalleryCode() {
	var a = "<script src=\"https://entrythingy.s3.amazonaws.com/resources/entrythingy_gallery.js\" type=\"text/javascript\" language=\"Javascript\">\x3c/script>\n<span id='et_dataarea0'></span><span id='et_dataarea1'></span><span id='et_dataarea2'></span><span id='et_dataarea3'></span><span id='et_dataarea4'></span>\n<div id='et_apparea' style='text-align:left;'><p><img src=https://entrythingy.s3.amazonaws.com/images/loading.gif> &nbsp; <a href=https://www.entrythingy.com>Loading ...</a></p></div>\n<script type=\"text/javascript\" language=\"Javascript\">\nvar sitecode=\"" + (sitecode + '"; ');
	a += 'et_lang="' + et_lang + '";\n';
	a += 'var showid="' + currshow.id + '"; ';
	a += 'typefilter="' + gw_type + '"; ';
	"false" == gw_groupuser && (a += "groupuser=false;");
	a = a + '\nimagewidth="' + (gw_width + '"; ');
	a += "shownames=" + gw_names + "; ";
	a += 'namebusiness="' + gw_namebusiness + '"; ';
	a += "showspaces=" + gw_spaces + "; ";
	a += 'sort="' + gw_sort + '";\n';
	a += 'catfilter="' + gw_startcat + '";\n';
	a += "comments=" + gw_comments + "; ";
	a += "moderation=" + gw_moderation + "; ";
	a += "recentcomments=" + gw_recentcomments + "; ";
	a += "rcwidth=" + gw_rcwidth + ";\n";
	a += "originals=" + gw_originals + "; ";
	a += "links=" + gw_links + "; ";
	a += "showaddress=" + gw_showaddress + "; ";
	a += "showphone=" + gw_showphone + ";\n";
	a += "revdimensions=" + gw_revdimensions + "; ";
	a += "revmaterial=" + gw_revmaterial + "; ";
	a += "revprice=" + gw_revprice + "; ";
	a += "revyear=" + gw_revyear + "; ";
	a += 'detailrevisions="' + gw_detailrevisions + '";\n';
	gw_sales && (a += "sales=" + gw_sales + "; ",
	a += "pe='" + gw_paypalemail + "'; ",
	a += "shipping='" + gw_shipping + "';\n",
	a += "shippingpercent='" + gw_shipping_percent + "';\n",
	a += "taxrate='" + gw_tax_rate + "';\n");
	return a + "entryThingyGallery();\n\x3c/script>\n"
}
function displayDownload(a) {
	var b = getNav()
	  , c = null
	  , e = "";
	downloading = null;
	null == a && (a = "downloads");
	"downloads" == a ? (c = w_.a208,
	e = "<a href=# onclick=\"displayDownload('widget');return false;\">[" + w_.a209 + "]</a>") : "widget" == a && (c = w_.a210,
	e = "<a href=# onclick=\"displayDownload('downloads');return false;\">[" + w_.a211 + "]</a>");
	b += "<p class=ptp id=showname><table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>" + getShowNav() + "</td></tr></table></p>";
	b += "<p class=ptp><span class=et_title150bold>" + c + "</span> &nbsp;" + e + "</p>";
	if ("downloads" == a) {
		b += "<p class=ptp>" + w_.a212;
		b = b + " For the HTML files, use <select id=html_bgcolor><option value=black selected>black<option value=#333>dark gray<option value=gray>gray<option value=lightgray>light gray<option value=white>white</select> for the background and <select id=html_color><option value=black>black<option value=#333>dark gray<option value=gray>gray<option value=lightgray selected>light gray<option value=white>white</select> for the text.</p><br><table cellpadding=0 cellspacing=0><tr valign=top><td nowrap><p class=ptp><span id=downloadalllink><a href=# onclick=\"downloadShow('start', 'all');return false;\" class=ptbtn>[" + (w_.a213 + "]</a></span></p></td><td width=20> &nbsp; </td><td><p class=ptp>" + _w_("a214", [w_.callforentries]) + ".</p></td></tr>");
		currshow.lastdownload_date && (b += "<tr valign=top><td nowrap><p class=ptp><span id=downloadnewlink><a href=# onclick=\"downloadShow('start', 'new');return false;\" class=ptbtn>[" + w_.a215 + "</a> <input type=text id=downloaddate style='width:90px'; value='" + displaySimpleDate(currshow.lastdownload_date) + "' onkeyup=checkDownloadDate();>]</span></p></td><td width=20> &nbsp; </td><td><p class=ptp>" + _w_("a216", [displaySimpleDate(currshow.lastdownload_date)]) + "</p></td></tr>");
		b += "<tr valign=top><td nowrap><p class=ptp><span id=downloadnoimageslink><a href=# onclick=\"downloadShow('start', 'noimages');return false;\" class=ptbtn>[" + w_.a217 + "]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a218 + "</p></td></tr>";
		b += "<tr valign=top><td nowrap><p class=ptp><span id=downloadbystatuslink><a href=# onclick=\"downloadShow('start', 'bystatus');return false;\" class=ptbtn>[" + w_.a217a + "</a><br><select id=bystatus><option value=na></option>";
		for (a = 0; a < STATUS.length; a++)
			b += "<option value=" + a + ">Entry: " + STATUS[a];
		for (a = 0; a < REVISIONSTATUS.length; a++)
			b += "<option value=" + (a + 15) + ">Image: " + REVISIONSTATUS[a];
		b += "</select>]</span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a218a + "</p></td></tr>";
		b += "<tr valign=top><td nowrap><p class=ptp><a href=# onclick=\"downloadText('csv', 'items');return false;\" class=ptbtn>[" + w_.a219 + "]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a220 + "</p></td></tr>";
		b += "<tr valign=top><td nowrap><p class=ptp><a href=# onclick=\"downloadText('csv', 'revisions');return false;\" class=ptbtn>[" + w_.a221 + "]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a222 + "</p></td></tr>";
		b += "<tr valign=top><td nowrap><p class=ptp><a href=# onclick=\"downloadText('csv', 'entrants');return false;\" class=ptbtn>[" + w_.a221a + "]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a222a + "</p></td></tr>";
		b += "<tr valign=top><td nowrap><p class=ptp><a href=# onclick=\"downloadText('text', 'checklist');return false;\" class=ptbtn>[download checklist]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>Download a text file with a checklist of the uploads in this call. The file will show one listing per upload with status <select id=statusfilter><option value=any>Any";
		for (a = 0; a < REVISIONSTATUS.length; a++)
			b += "<option value=" + a + ">" + REVISIONSTATUS[a];
		b = b + "</select> and include <label><input type=checkbox checked id=checklist_number>a running number</label>, the entrant's name, title, <label><input type=checkbox checked id=checklist_year>year</label>, <label><input type=checkbox checked id=checklist_material>material</label>, <label><input type=checkbox checked id=checklist_dimensions>dimensions</label>, <label><input type=checkbox checked id=checklist_price>price</label> and the <label><input type=checkbox checked id=checklist_statement>entrant's statement</label> and sort by <select id=checklist_sort><option value='last_name, category'>Last Name, Category<option value='category, last_name'>Category, Last Name<option value='et_item.create_date'>Entry Date<option value='et_revision.space'>Space</select>. Open this file in any text editor to further format the text.</p></td></tr><tr valign=top><td nowrap><p class=ptp><a href=# onclick=\"downloadText('csv', 'votes');return false;\" class=ptbtn>[" + (w_.a221b + "]</a></span></p></td><td> &nbsp; </td><td><p class=ptp>" + w_.a222b + "</p></td></tr>");
		b += "</table><br><div id=csvtest></div><p class=ptp>" + w_.a223 + "</p>"
	} else if ("widget" == a) {
		b += "<p class=ptp>" + w_.a224 + "</p>";
		b += "<br><p class=ptp><b>" + w_.a225 + ":</b> " + w_.a226 + " <select id=gw_type onchange='gw();'>";
		b += "<option value=accepted" + ("accepted" == gw_type ? " selected" : "") + ">" + w_.a227;
		b += "<option value=feepaid" + ("feepaid" == gw_type ? " selected" : "") + ">fee paid";
		b += "<option value=acceptedorfeepaid" + ("acceptedorfeepaid" == gw_type ? " selected" : "") + ">accepted or fee paid";
		b += "<option value=entered" + ("entered" == gw_type ? " selected" : "") + ">" + w_.a228;
		b += "<option value=showtojury" + ("showtojury" == gw_type ? " selected" : "") + ">show to jury";
		b += "<option value=hasaward" + ("hasaward" == gw_type ? " selected" : "") + ">award";
		b += "</select> " + w_.a229 + " ";
		b = b + "<select id=gw_groupuser onchange='gw();'><option value='true'" + (("true" == gw_groupuser ? " selected" : "") + ">" + w_.a230);
		b += "<option value='false'" + ("false" == gw_groupuser ? " selected" : "") + ">" + w_.a230a;
		b += "</select> " + w_.a230b + " ";
		b += w_.a231 + "<select id=gw_width onchange='gw();'>";
		for (a = 80; 220 >= a; a += 20)
			b += "<option value=" + a + (gw_width == a ? " selected" : "") + ">" + a;
		b += "</select> " + w_.a232 + " <select id=gw_names onchange='gw();'>";
		b += "<option value=true" + ("true" == gw_names ? " selected" : "") + ">" + w_.a233;
		b += "<option value=false" + ("false" == gw_names ? " selected" : "") + ">" + w_.a234;
		b += "</select> " + w_.a234a + "<select id=gw_namebusiness onchange='gw();'>";
		b += "<option value=name" + ("name" == gw_namebusiness ? " selected" : "") + ">names";
		b += "<option value=business" + ("business" == gw_namebusiness ? " selected" : "") + ">businesses";
		b = b + "</select> and <select id=gw_spaces onchange='gw();'><option value=true" + (("true" == gw_spaces ? " selected" : "") + ">" + w_.a233);
		b += "<option value=false" + ("false" == gw_spaces ? " selected" : "") + ">" + w_.a234;
		b += "</select> " + w_.a235 + " <select id=gw_sort onchange='gw();'>";
		b += "<option value='et_item.category, et_user.last_name'" + ("et_item.category, et_user.last_name" == gw_sort ? " selected" : "") + ">" + w_.a235a;
		b += "<option value='et_user.last_name'" + ("et_user.last_name" == gw_sort ? " selected" : "") + ">" + w_.a235b;
		b += "<option value='et_user.business'" + ("et_user.business" == gw_sort ? " selected" : "") + ">business";
		b = "1" == currshow.prefs.charAt(SHOWPREF_VOTEFOR) ? b + ("<option value='et_revision.space'" + ("true" == gw_sort ? " selected" : "") + ">" + w_.a235c) : b + ("<option value='et_item.space'" + ("true" == gw_sort ? " selected" : "") + ">" + w_.a235c);
		b += "</select>";
		if (currcategories && 0 < currcategories.length) {
			b += " " + w_.a235d + " &nbsp;<select id=gw_startcat onchange='gw();'><option value=all" + ("all" == gw_sort ? " selected" : "") + ">" + w_.a235e;
			for (a = 0; a < currcategories.length; a++)
				b += '<option value="' + currcategories[a] + '"',
				gw_sort == currcategories[a] && (b += " selected"),
				b += ">" + currcategories[a];
			b += "</select>"
		}
		b = b + ".</p><p class=ptp><b>" + (w_.a236 + ":</b> <select id=gw_originals onchange='gw();'>");
		b += "<option value=true" + (gw_originals ? " selected" : "") + ">" + w_.a237;
		b += "<option value=false" + (gw_originals ? "" : " selected") + ">" + w_.a238;
		b += "</select> " + w_.a239 + " <select id=gw_links onchange='gw();'>";
		b += "<option value=true" + (gw_links ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_links ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a242 + " <select id=gw_showaddress onchange='gw();'>";
		b += "<option value=true" + (gw_showaddress ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_showaddress ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a242b + " <select id=gw_showphone onchange='gw();'>";
		b += "<option value=true" + (gw_showphone ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_showphone ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a242c + " <select id=gw_revdimensions onchange='gw();'>";
		b += "<option value=true" + (gw_revdimensions ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_revdimensions ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a243 + " <select id=gw_revmaterial onchange='gw();'>";
		b += "<option value=true" + (gw_revmaterial ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_revmaterial ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a244 + " <select id=gw_revprice onchange='gw();'>";
		b += "<option value=true" + (gw_revprice ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_revprice ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a245 + " <select id=gw_revyear onchange='gw();'>";
		b += "<option value=true" + (gw_revyear ? " selected" : "") + ">" + w_.a240;
		b += "<option value=false" + (gw_revyear ? "" : " selected") + ">" + w_.a241;
		b += "</select> " + w_.a246 + " " + w_.a246a + " <select id=gw_detailrevisions onchange='gw();'>";
		b += "<option value=all" + ("all" == gw_detailrevisions ? " selected" : "") + ">" + w_.a246b;
		b += "<option value=accepted" + ("accepted" == gw_detailrevisions ? " selected" : "") + ">" + w_.a246c;
		b += "</select> " + w_.a246d + "</p>";
		b += "<p class=ptp><b>" + w_.a247 + ":</b> <select id=gw_comments onchange='gw();'>";
		b += "<option value=true" + ("true" == gw_comments ? " selected" : "") + ">" + w_.a237;
		b += "<option value=false" + ("false" == gw_comments ? " selected" : "") + ">" + w_.a238;
		b += "</select> " + w_.a248 + " <select id=gw_moderation onchange='gw();'>";
		b += "<option value=true" + ("true" == gw_moderation ? " selected" : "") + ">" + w_.a249;
		b += "<option value=false" + ("false" == gw_moderation ? " selected" : "") + ">" + w_.a250;
		b += "</select> " + w_.a251 + " <select id=gw_recentcomments onchange='gw();'>";
		b += "<option value=true" + ("true" == gw_recentcomments ? " selected" : "") + ">" + w_.a233;
		b += "<option value=false" + ("false" == gw_recentcomments ? " selected" : "") + ">" + w_.a234;
		b += "</select> " + w_.a252 + " <select id=gw_width onchange='gw();'>";
		for (a = 100; 500 >= a; a += 50)
			b += "<option value=" + a + (gw_rcwidth == a ? " selected" : "") + ">" + a;
		b += "</select> " + w_.a253 + "</p><p class=ptp><b>" + w_.a254 + ":</b> <select id=gw_sales onchange='gw();'>";
		b += "<option value=true" + (gw_sales ? " selected" : "") + ">" + w_.a237;
		b += "<option value=false" + (gw_sales ? "" : " selected") + ">" + w_.a238;
		b += "</select> " + w_.a255 + " <input type=text id=gw_paypalemail onkeyup='gw()' value='" + gw_paypalemail + "' style='width:100px'>";
		b += w_.a256 + "<input type=text id=gw_shipping onkeyup='gw()' value='" + gw_shipping + "' style='width:30px'>";
		b += w_.a256a + "<input type=text id=gw_shipping_percent onkeyup='gw()' value='" + gw_shipping_percent + "' style='width:30px'>";
		b += w_.a257 + "<input type=text id=gw_tax_rate onkeyup='gw()' value='" + gw_tax_rate + "' style='width:30px'>";
		b += w_.a257a + "</p><br><span id=errorarea></span>";
		b = b + "<textarea id=gallerycode style='border-color:#999999; border-width:1px; border-style:solid; background:#ffffff; width:600px; margin-top:3px; margin-bottom:10px; height:100px' onclick='checkGalleryCode()'>" + getGalleryCode();
		b = b + "</textarea><br><br><p class=ptp>" + (_w_("a258", ["<a href=# onclick=\"displayAdmin('widget');return false;\">"]) + "</p>");
		b += "<p class=ptp>" + _w_("a259", ["<a href=# onclick=\"displayAdmin('widgetsales');return false;\">"]) + "</p>"
	}
	setAppArea(b);
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
}
var downloading;
function downloadText(a, b) {
	currperm < PERM_SHOWADMIN || (a = "/widget?c=" + sitecode + "&a=show&d=download" + a + "&which=" + b + "&showid=" + currshow.id + "&ck=" + readCookie("entrythingy"),
	"checklist" == b && ("any" != gEBI("statusfilter").value && (a += "&statusfilter=" + gEBI("statusfilter").value),
	gEBI("checklist_year").checked && (a += "&year=y"),
	gEBI("checklist_material").checked && (a += "&material=y"),
	gEBI("checklist_dimensions").checked && (a += "&dimensions=y"),
	gEBI("checklist_price").checked && (a += "&price=y"),
	gEBI("checklist_statement").checked && (a += "&statement=y"),
	gEBI("checklist_number").checked && (a += "&number=y"),
	a += "&sort=" + gEBI("checklist_sort").value),
	window.location = LOCAL ? "http://localhost" + a : "https://www.entrythingy.com" + a)
}
function downloadShow(a, b) {
	if (!(currperm < PERM_SHOWADMIN))
		if (gEBI("html_bgcolor").value == gEBI("html_color").value)
			alert("Ooops. You may not use the same color for the background and the text");
		else {
			var c = null;
			if (b && "new" == b && (c = Date.parse(gEBI("downloaddate").value),
			isNaN(c))) {
				alert(w_.a260);
				return
			}
			if (b && "bystatus" == b) {
				if ("na" == gEBI("bystatus").value) {
					alert("Please select a status");
					return
				}
				var e = gEBI("bystatus").value
			}
			if (a) {
				if (downloading) {
					alert(w_.a261);
					return
				}
				if (!confirm(w_.a262))
					return;
				setHTML("download" + b + "link", loadimage);
				"noimages" != b && setHTML("downloadnoimageslink", "<a href=# onclick=\"downloadShow('start', 'noimages');return false;\" class=ptbtn>[" + w_.a217 + "]</a>");
				"bystatus" != b && setHTML("downloadbystatuslink", "<a href=# onclick=\"downloadShow('start', 'all');return false;\" class=ptbtn>[" + w_.a217a + "]</a>");
				"all" != b && setHTML("downloadalllink", "<a href=# onclick=\"downloadShow('start', 'all');return false;\" class=ptbtn>[" + w_.a213 + "]</a>");
				"new" != b && setHTML("downloadnewlink", "<a href=# onclick=\"downloadShow('start', 'new');return false;\" class=ptbtn>[" + w_.a215 + "</a> <input type=text id=downloaddate style='width:60px'; value='" + displaySimpleDate(currshow.lastdownload_date) + "' onkeyup=checkDownloadDate();><a href=# onclick=\"downloadShow('start', 'new');return false;\" class=ptbtn>]</a>")
			}
			a = "/widget?c=" + sitecode + "&a=show&d=download&showid=" + currshow.id;
			a += "&bgcolor=" + encodeURIComponent(gEBI("html_bgcolor").value);
			a += "&color=" + encodeURIComponent(gEBI("html_color").value);
			b && (a = "new" == b ? a + ("&which=new" + encodeURIComponent(c)) : "bystatus" == b ? a + ("&which=bystatus&bystatus=" + e) : a + ("&which=" + b),
			downloading = b);
			sendCommand(baseserverip, a)
		}
}
function downloadShowFile(a) {
	a = "/widget?c=" + sitecode + "&a=show&d=downloadfile&fnr=" + a + "&showid=" + currshow.id + "&ck=" + readCookie("entrythingy");
	window.location = baseserverurl + a
}
function downloadShowStatus(a) {
	if (0 == a.m.indexOf("done")) {
		a = eval(a.m.substring(4));
		var b = "file";
		if (0 == a)
			b = "There is no data";
		else {
			1 < a && (b += "s");
			b += " generated: ";
			for (var c = 0; c < a; c++)
				1 < a && (b += "<br>"),
				b += '<a href=# onclick="downloadShowFile(' + (c + 1) + ');return false;">' + w_.a263,
				1 < a && (b += " " + w_.a264 + " " + (c + 1)),
				b += "</a>"
		}
		setHTML("download" + downloading + "link", b);
		downloading = null
	} else
		setHTML("download" + downloading + "link", loadimage + " " + a.m),
		setTimeout("downloadShow()", 5E3)
}
;var aaei, aaei_user, aaei_foundusers;
function aae1Submit() {
	aaei.email = gEBI("email").value.trim();
	aaei.first_name = gEBI("first_name").value.trim();
	aaei.last_name = gEBI("last_name").value.trim();
	if (0 == gEBI("email").value.length && 0 == gEBI("first_name").value.length && 0 == gEBI("last_name").value.length)
		alert(w_.e2);
	else {
		var a = "/widget?c=" + sitecode + "&a=admin&d=addentry1";
		a += "&fnm=" + encodeURIComponent(gEBI("first_name").value) + "&lnm=" + encodeURIComponent(gEBI("last_name").value) + "&eml=" + encodeURIComponent(gEBI("email").value);
		a += "&ck=" + currpw;
		sendCommand(baseserverip, a, "et_apparea")
	}
}
function aae1(a) {
	if (!(currperm < PERM_SHOWADMIN))
		if (currwidget && 0 >= eval(currwidget.tokens))
			alert(w_.s1 + " " + w_.s2);
		else {
			a ? aaei_foundusers = a : (aaei = [],
			aaei_foundusers = null);
			aaei_user = null;
			a = getNav();
			a += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td><span class=et_title150bold>" + currshow.title + "</span></td><td>&nbsp; &nbsp;</td><td>";
			a += getShowNav() + "</td></tr></table></p>";
			a += "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.e4 + "</span></p><br>";
			a += '<table cellpadding=0 cellspacing=0><tr valign=top><td><form onsubmit="aae1Submit(); return false;"><p class=ptp><b>' + w_.l29 + ": </b><br><input type=text id=first_name value='";
			aaei.first_name && (a += aaei.first_name);
			a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l30 + ": </b><br><input type=text id=last_name value='";
			aaei.last_name && (a += aaei.last_name);
			a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l4 + ":</b><br><input type=text id=email value='";
			aaei.email && (a += aaei.email);
			a = a + "' style='width:300px;'></p><p class=ptp><input class=et_submitbutton type=submit value='" + (w_.e5 + "'> &nbsp; <input class=et_cancelbutton type=button onclick='displayShow(" + currshow.id + ");' value='" + w_.e6 + "'></form></p>");
			a += "</td><td width=30>&nbsp;</td><td><p class=ptp>";
			if (aaei_foundusers) {
				if (0 < aaei_foundusers.length) {
					a += w_.e7;
					if (null == aaei.email || 0 == aaei.email.length)
						a += "- " + w_.e8 + ' <a href=# onclick="aae2();return false;">' + w_.e9 + "</a>";
					a += "<br><br>"
				} else
					a += w_.e10 + ' <a href=# onclick="aae2();return false;">' + w_.e9 + "</a>";
				for (var b = 0; b < aaei_foundusers.length; b++)
					a += '<a href=# onclick="aae3(aaei_foundusers[' + b + ']);return false;">' + aaei_foundusers[b].first_name + " " + aaei_foundusers[b].last_name + "</a>",
					aaei_foundusers[b].city && (a += " in " + aaei_foundusers[b].city),
					aaei_foundusers[b].state && (a += " " + aaei_foundusers[b].state),
					a += "<br><br>";
				50 == aaei_foundusers.length && (a += "<br><br>" + w_.e11);
				a += "<br><br>" + w_.e12
			} else
				a += w_.e13;
			setAppArea(a + "</p></td></tr></table>");
			"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
		}
}
function aae2() {
	var a = getNav();
	a += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td><span class=et_title150bold>" + currshow.title + "</span></td><td nowrap>";
	a += '&nbsp; <a href=# onclick="displayShow(' + currshow.id + ');return false;" class=ptbtn>[' + w_.e14 + "]</a></td></tr></table></p>";
	a += "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.e4 + "</span></p><br>";
	a += "<table cellpadding=0 cellspacing=0><tr valign=top><td><p class=ptp><b>" + w_.l29 + ": *</b><br><input type=text id=first_name value='";
	aaei.first_name && (a += aaei.first_name);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l30 + ": *</b><br><input type=text id=last_name value='";
	aaei.last_name && (a += aaei.last_name);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l4 + ":</b><br><input type=text id=email value='";
	aaei.email && (a += aaei.email);
	a = a + "' style='width:300px;'></p><p class=ptp><b>" + (w_.l31 + ":</b><br><input type=password id=password style='width:300px;'></p><p class=ptp><b>" + w_.l32 + ":</b><br><input type=password id=confirmpassword style='width:300px;'></p>");
	a += "<p class=ptp><b>" + w_.l41 + ":</b><br><input type=text id=business value='";
	aaei.business && (a += aaei.business);
	a = a + "' style='width:300px;'></p><p class=ptp><b>" + (w_.l42 + ":</b><br><input type=text id=partner value='");
	aaei.partner && (a += aaei.partner);
	a = a + "' style='width:300px;'></p><p class=ptp><b>" + (w_.l43 + ":</b><br><input type=text id=address value='");
	aaei.address && (a += aaei.address);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l44 + ":</b><br><input type=text id=city value='";
	aaei.city && (a += aaei.city);
	a += "' style='width:300px;'></p>";
	if (STATES) {
		a += "<p class=ptp><b>" + w_.l45 + ":</b><br><select id=state style='width:300px;'><option value=''>";
		for (var b = 0; b < STATES.length; b++)
			a += "<option value='" + STATES[b] + "'",
			aaei.state == STATES[b] && (a += " selected"),
			a += ">" + STATES[b];
		a += "</select></p>"
	} else
		a += "<input type=hidden name=state value=''>";
	a += "<p class=ptp><b>" + w_.l46 + "</b><br><input type=text id=zip value='";
	aaei.zip && (a += aaei.zip);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l47 + ":</b><br><input type=text id=country value='";
	a = aaei.country ? a + aaei.country : a + w_.l48;
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l49 + ":</b> " + w_.l50 + "<br><input type=text id=mainphone value='";
	aaei.mainphone && (a += aaei.mainphone);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l51 + ":</b><br><input type=text id=alternatephone value='";
	aaei.alternatephone && (a += aaei.alternatephone);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l52 + ":</b> " + w_.l53 + "<br><input type=text id=website value='";
	aaei.website && (a += aaei.website);
	a += "' style='width:300px;'></p></td><td width=30>&nbsp;</td><td><p class=ptp>" + w_.e15 + "</p>";
	a += '</td></tr></table><p class=ptp><input class=et_submitbutton type=button onclick="aae2Verify();" value=\'' + w_.e16 + "'> &nbsp; <input class=et_cancelbutton type=button onclick=\"aae1(aaei_foundusers);\" value='" + w_.e17 + "'></p>";
	setAppArea(a);
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
}
function aae2Verify() {
	if (0 < gEBI("email").value.length && (7 > gEBI("email").value.length || -1 == gEBI("email").value.indexOf("@") || -1 == gEBI("email").value.indexOf(".")))
		alert(w_.l11);
	else if (0 == gEBI("first_name").value.length)
		alert(w_.e18);
	else if (0 == gEBI("last_name").value.length)
		alert(w_.e19);
	else if (0 < gEBI("password").value.length && 5 > gEBI("password").value.length)
		alert(w_.e20);
	else if (gEBI("password").value != gEBI("confirmpassword").value)
		alert(w_.e21);
	else {
		var a = gEBI("website").value;
		0 < a.length && -1 == a.indexOf("//") && (a = "http://" + a);
		aaei.email = gEBI("email").value;
		aaei.first_name = gEBI("first_name").value;
		aaei.last_name = gEBI("last_name").value;
		aaei.password = gEBI("password").value;
		aaei.business = gEBI("business").value;
		gEBI("partner") && (aaei.partner = gEBI("partner").value);
		aaei.address = gEBI("address").value;
		aaei.city = gEBI("city").value;
		gEBI("state") ? aaei.state = gEBI("state").value : aaei.state = "";
		aaei.zip = gEBI("zip").value;
		aaei.country = gEBI("country").value;
		aaei.mainphone = gEBI("mainphone").value;
		aaei.alternatephone = gEBI("alternatephone").value;
		aaei.website = a;
		a = getNav();
		a += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td><span class=et_title150bold>" + currshow.title + "</span></td><td nowrap>";
		a += '&nbsp; <a href=# onclick="displayShow(' + currshow.id + ');return false;" class=ptbtn>[' + w_.e14 + "]</a></td></tr></table></p>";
		a += "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.e4 + "</span></p><br>";
		a += "<p class=ptp>" + w_.e22 + "</p><br>";
		a = a + "<table cellpadding=0 cellspacing=0><tr valign=top><td><p class=ptp><b>" + (w_.l29 + ":</b> " + aaei.first_name + "</p>");
		a += "<p class=ptp><b>" + w_.l30 + ":</b> " + aaei.last_name + "</p>";
		a += "<p class=ptp><b>" + w_.l18 + ":</b> " + aaei.email + "</p>";
		a += "<p class=ptp><b>" + w_.l41 + ":</b> " + aaei.business + "</p>";
		aaei.partner && (a += "<p class=ptp><b>" + w_.l42 + ":</b> " + aaei.partner + "</p>");
		a += "<p class=ptp><b>" + w_.l43 + ":</b> " + aaei.address;
		a += "</p><p class=ptp><b>" + w_.l44 + ":</b> " + aaei.city;
		STATES && (a += "</p><p class=ptp><b>" + w_.l45 + ":</b> " + aaei.state);
		a += "</p><p class=ptp><b>" + w_.l46 + ":</b> " + aaei.zip;
		a += "</p><p class=ptp><b>" + w_.l47 + ":</b> " + aaei.country;
		a += "</p><p class=ptp><b>" + w_.l49 + ":</b> " + aaei.mainphone;
		a += "</p><p class=ptp><b>" + w_.l51 + ":</b> " + aaei.alternatephone;
		a += "</p><p class=ptp><b>" + w_.l52 + ": </b><a href=" + aaei.website + ">" + aaei.website + "</a></p></td>";
		a += "</tr></table><p class=ptp><input class=et_submitbutton type=button onclick='aae2Submit();' value='" + w_.e16 + "'></form> &nbsp; <input class=et_cancelbutton type=button onclick='aae2();' value='" + w_.e17 + "'></p>";
		setAppArea(a);
		"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
	}
}
function aae2Submit() {
	var a = "/widget?c=" + sitecode + "&a=admin&d=addentry2";
	a += "&fnm=" + encodeURIComponent(aaei.first_name);
	a += "&lnm=" + encodeURIComponent(aaei.last_name);
	a += "&eml=" + encodeURIComponent(aaei.email);
	a += "&pw=" + encodeURIComponent(aaei.password);
	a += "&business=" + encodeURIComponent(aaei.business);
	aaei.partner && (a += "&partner=" + encodeURIComponent(aaei.partner));
	a += "&address=" + encodeURIComponent(aaei.address);
	a += "&city=" + encodeURIComponent(aaei.city);
	a += "&state=" + encodeURIComponent(aaei.state);
	a += "&zip=" + encodeURIComponent(aaei.zip);
	a += "&country=" + encodeURIComponent(aaei.country);
	a += "&mainphone=" + encodeURIComponent(aaei.mainphone);
	a += "&alternatephone=" + encodeURIComponent(aaei.alternatephone);
	a += "&website=" + encodeURIComponent(aaei.website);
	sendCommand(baseserverip, a, "et_apparea")
}
function aae3(a) {
	if (a.er)
		alert(w_.e23),
		aae2();
	else {
		aaei_user = a;
		var b = getNav();
		b += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td><span class=et_title150bold>" + currshow.title + "</span></td><td nowrap>";
		b += '&nbsp; <a href=# onclick="displayShow(' + currshow.id + ');return false;" class=ptbtn>[' + w_.e14 + "]</a></td></tr></table></p>";
		b += "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.e24 + " " + aaei_user.first_name + " " + aaei_user.last_name + "</span></p><br>";
		if (0 < currshow.categories.length) {
			b += "<p class=ptp><b>" + w_.i44 + ":</b> &nbsp;<select id=category><option value=''>";
			for (var c = 0, e; -1 != (e = currshow.categories.indexOf(",", c)); )
				c = currshow.categories.substring(c, e),
				b += '<option value="' + c + '">' + c,
				c = e + 2;
			c = currshow.categories.substring(c);
			b = b + ('<option value="' + c + '">') + c + "</select></p>"
		}
		e = 80 + 20 * eval(currshow.prefs.charAt(SHOWPREF_STATEMENTLENGTH));
		b += "<p class=ptp><b>" + w_.descriptionofwork + ":</b><br><textarea id=item_description style='width:300px; height:60px' onkeyup=\"if (this.value.length>" + e + ") this.value=this.value.substring(0, " + e + ");setHTML('charcnt', " + e + '-this.value.length);">';
		b += "</textarea><br><font size=-2><span id=charcnt>" + e + "</span> " + w_.i109 + ".</font></p>";
		"1" == currshow.prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) && (e = 80 + 50 * eval(currshow.prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH)),
		b += "<p class=ptp><b>" + w_.entrystatement + ":</b><br><textarea id=item_statement class=et_editentryinput onkeyup=\"checkTAMaxLength('item_statement', 's_charcnt', " + e + ');">',
		b = b + "</textarea><br><font size=-2><span id=s_charcnt>" + e + ("</span> " + w_.i109 + ".</font></p>"));
		null != addsignupform && (b += addsignupform());
		b += "<input type=hidden id=showid value=" + currshow.id + ">";
		b += "<input type=hidden id=ownerid value=" + a.id + ">";
		"1" == currshow.prefs.charAt(SHOWPREF_ASKFORPUBLICITY) && (b += "<p class=ptp><input type=checkbox id=publicity> " + _w_("e25", [w_upload]) + "</p>");
		b += '<p class=ptp><input class=et_submitbutton type=button onclick="aae3Submit();" value=\'' + w_.e16 + "' ></form></p>";
		null == curritem && (b += "</td><td width=35><img src=http://entrythingy.s3.amazonaws.com/images/transparent.gif width=35 height=1></td><td width=50%></td></tr></table>");
		null == curritem ? setAppArea(b) : setHTML("iteminfo", b);
		"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
	}
}
function aae3Submit() {
	var a = null;
	gEBI("category") && 0 == gEBI("category").value.length ? a = w_.e26 : null == checkaddsignupform || checkaddsignupform() || (a = w_.e27);
	null != a ? alert(a) : (a = "/widget?c=" + sitecode + "&a=admin&d=addentry3",
	a += "&description=" + encodeURIComponent(gEBI("item_description").value),
	gEBI("item_statement") && (a += "&statement=" + encodeURIComponent(gEBI("item_statement").value)),
	gEBI("category") && (a += "&category=" + encodeURIComponent(gEBI("category").value)),
	null != curritem && (a += "&itemid=" + curritem.id),
	gEBI("showid") && (a += "&showid=" + gEBI("showid").value),
	gEBI("ownerid") && (a += "&ownerid=" + gEBI("ownerid").value),
	gEBI("publicity") && (a += "&publicity=" + gEBI("publicity").checked),
	saveaddsignup && (addsignupverify(),
	a += saveaddsignup()),
	sendCommand(baseserverip, a))
}
function aae4(a) {
	curritem = a;
	var b = getNav();
	b += "<p class=ptp><table cellpadding=0 cellspacing=0><tr><td><span class=et_title150bold>" + currshow.title + "</span></td><td nowrap>";
	b += '&nbsp; <a href=# onclick="displayShow(' + currshow.id + ');return false;" class=ptbtn>[' + w_.e14 + "]</a></td></tr></table></p>";
	remainingcommands = 0;
	currrevision = null;
	START.itemrevisions = 0;
	b = b + "<table cellpadding=0 cellspacing=0 width=100%><tr><td colspan=5 id=itemname><p class=ptp><span class=et_title150bold id=detailstitle>" + (w_.e28 + " " + a.show_id + "." + a.id + " for " + aaei_user.first_name + " " + aaei_user.last_name);
	a.category && 0 < a.category.length && (b += " in " + a.category);
	b = b + "</span></p><br></td></tr><tr valign=top><td width=60%><span class=et_title150bold id=imagestitle></span> &nbsp;<span id=addfileslink></span><div id=addrevision></div><div id=revisionslist></div><br><div id=showinstructions></div></td><td nowrap> &nbsp; &nbsp; </td><td bgcolor=#aaaaaa><img src=http://entrythingy.s3.amazonaws.com/images/transparent.gif width=1></td><td nowrap> &nbsp; &nbsp; </td><td width=40%><span id=submitbutton><span class=et_title150bold>" + (w_.a58 + ": " + STATUS[a.status] + "</span><br><br>");
	b += "<input class=et_submitbutton type=button value='" + w_.i39 + "' onclick='submitEntry();' style='font-weight:bold;'><br><br><br>";
	b = b + "</span><span id=iteminfo><p class=ptp><b>" + (w_.Callforentries + ":</b> " + a.show_name + "</p>");
	a.category && 0 < a.category.length && (b += "<p class=ptp><b>" + w_.i44 + ":</b> " + a.category + "</p>");
	b += "<p class=ptp><b>" + w_.descriptionofwork + ":</b><br>";
	b += doBRs(a.description);
	b += "</p>";
	null != addsignupverify && (b += addsignupverify(a));
	setAppArea(b + "</span></td></tr></table>");
	et_load("item", "revisions", "all", 0, null, curritem.id);
	"no" != w_.scrollupto && scroll(0, w_.scrollupto)
}
;var MEMBERSHIP_COMMITTEES, MEMBERSHIP_COMMITTEES2, MEMBERSHIP_CATEGORIES, MEMBERSHIP_OCCUPATION_TITLE, MEMBERSHIP_OCCUPATION, MEMBERSHIP_MEDIUM_TITLE, MEMBERSHIP_COMMITTEES_TITLE, MEMBERSHIP_COMMITTEES2_TITLE, WIDGETPREF_MEMBERSHIP_YEAR_START = 2, WIDGETPREF_MEMBERSHIP_TYPE = 4, JSC_MEMBERSHIP_PROFILE = 507, JSC_MEMBERSHIP_PAYBYCHECK = 508, JSC_MEMBERSHIP_DASHBOARD_WIDGET = 510, JSC_MEMBERSHIP_DASHBOARD_MEMBERS = 511, JSC_MEMBERSHIP_DASHBOARD_ADDMEMBER1 = 512, JSC_MEMBERSHIP_DASHBOARD_ADDMEMBER2 = 513, JSC_MEMBERSHIP_MEMBER_NOTES = 514, JSC_MEMBERSHIP_ADMIN_SETTINGS = 520, JSC_MEMBERSHIP_ADMIN_UPLOADMEMBERSCSV = 523, JSC_MEMBERSHIP_REPORT_FEETOTALS = 530, JSC_MEMBERSHIP_REPORT_MEMBERFEES = 531;
JSC_NONE = 1E3;
function handleMembershipJSON(a, b, c, e) {
	console.log("handleMembershipJSON " + a);
	a == JSC_MEMBERSHIP_DASHBOARD_WIDGET ? displayMembershipDashboardDashboard(b) : a == JSC_MEMBERSHIP_DASHBOARD_MEMBERS ? displayMembershipDashboardMembers(b.data, c.data2) : a == JSC_MEMBERSHIP_DASHBOARD_ADDMEMBER1 ? addMembershipMember1(b.data) : a == JSC_MEMBERSHIP_DASHBOARD_ADDMEMBER2 ? displayMembershipProfile(b.id) : a == JSC_MEMBERSHIP_MEMBER_NOTES ? displayMemberNotes(b.data) : a != JSC_MEMBERSHIP_PAYBYCHECK && (a == JSC_MEMBERSHIP_PROFILE ? displayMembershipProfileProfile(b.data, c.data2, e.data3) : a == JSC_MEMBERSHIP_ADMIN_SETTINGS ? displayMembershipAdminSettings(b.data, c.data2) : a == JSC_MEMBERSHIP_ADMIN_UPLOADMEMBERSCSV ? startUploadMembersCSV(b) : a == JSC_MEMBERSHIP_REPORT_FEETOTALS ? displayMembershipReports(JSC_MEMBERSHIP_REPORT_FEETOTALS, b.data) : a == JSC_MEMBERSHIP_REPORT_MEMBERFEES && displayMembershipReports(JSC_MEMBERSHIP_REPORT_MEMBERFEES, b.data))
}
function loadMembership(a, b, c, e) {
	1 == e && setHTML(b + "morelink", loadimage);
	e = START[a + b] + 50 * e;
	START[a + b] = e;
	"members" == b ? c = memberstatusfilter + ":" + memberfeefilter + ":" + membersort + ":" + membercatfilter : "reports" == b && (c = membershipreporttype + ":" + membershipreportquarterfilter + ":" + membershipreportmonthfilter + ":" + membershipreportyearfilter);
	a = "/widgetmembership?c=" + sitecode + "&a=" + a + "&d=" + b + "&which=" + encodeURIComponent(c) + "&start=" + e;
	membershipsearchwords && (a += "&searchwords=" + encodeURIComponent(membershipsearchwords));
	sendCommand(baseserverip, a)
}
function membershipPostChecker(a) {
	-1 != a.indexOf("profilemembership:") ? displayMembershipProfile(a.substring(18)) : -1 != a.indexOf("adminmembershipprefs:") ? displayMembershipAdmin("settings") : -1 != a.indexOf("uploadmembershipcsv:") && alert("Added or updated " + a.substring(20) + " members.")
}
function formatCurrency(a, b) {
	var c = (a / 100).toString().replace(/\$|,/g, "");
	isNaN(c) && (c = "0");
	sign = c == (c = Math.abs(c));
	c = Math.floor(100 * c + .50000000001);
	a = c % 100;
	c = Math.floor(c / 100).toString();
	10 > a && (a = "0" + a);
	if (!b)
		for (b = 0; b < Math.floor((c.length - (1 + b)) / 3); b++)
			c = c.substring(0, c.length - (4 * b + 3)) + "," + c.substring(c.length - (4 * b + 3));
	return (sign ? "" : "-") + c + "." + a
}
function initMembership(a) {
	a.committees && 0 < a.committees.length && (MEMBERSHIP_COMMITTEES = a.committees.split(","));
	a.committees2 && 0 < a.committees2.length && (MEMBERSHIP_COMMITTEES2 = a.committees2.split(","));
	a.categories && 0 < a.categories.length && (MEMBERSHIP_CATEGORIES = a.categories.split(","));
	MEMBERSHIP_COMMITTEES_TITLE = a.committees_title;
	MEMBERSHIP_COMMITTEES2_TITLE = a.committees2_title;
	a.occupation_title && (MEMBERSHIP_OCCUPATION_TITLE = a.occupation_title);
	a.occupation && 0 < a.occupation.length && (MEMBERSHIP_OCCUPATION = a.occupation.split(","));
	a.medium_title && (MEMBERSHIP_MEDIUM_TITLE = a.medium_title);
	a.custom1_title && 0 < a.custom1_title.length && (MEMBERSORT[11] = a.custom1_title,
	a.custom2_title && 0 < a.custom2_title.length && (MEMBERSORT[12] = a.custom2_title));
	currwidget = a;
	currwidget.membershipstatus && gEBI("membershipnav") && (gEBI("membershipnav").style.display = "inline")
}
;function displayMembershipDashboard() {
	remainingcommands = 0;
	START.dashboardmembers = 0;
	userfilter = "all";
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=dashboard&d=widget")
}
function enableMembership(a) {
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=dashboard&d=membershipstatus&newstatus=" + a);
	"showall" == a ? setHTML("mymembershiplink", "&nbsp; &nbsp;<a href=# onclick=\"displayMembershipProfile('mine');return false;\" class=et_mainnavlink>My Membership</a>") : "hideall" == a && setHTML("mymembershiplink", "")
}
function displayMembershipDashboardDashboard(a) {
	a.membershipstatus ? (currwidget.membershipstatus = a.membershipstatus,
	initMembership(a),
	loadMembership("dashboard", "members", "all", 0)) : setHTML("adminarea", "<br><span class=et_title150bold>Welcome to EntryThingy's membership management.</span><br><br><b>Make membership easy!</b> You and your members can use it to process, track and manage memberships and donations.<br><br>Click the [help] link above to watch a short video that will show you how it works.<br><br>You will be charged one token for each new and renewed membership. There is also a 9 token charge per calendar month while you have members associated with your account.<br><br><a href=# onclick=\"enableMembership('on'); return false;\">Click here</a> when you're ready to get started with membership management.")
}
var currfees, MEMBERSHIPSTATUS = "Applying;Check Pending;New Member;Renewed Member;Lifetime Member;Pending Review;Past Member".split(";"), MEMBERSHIPSTATUS_APPLYING = 0, MEMBERSHIPSTATUS_CHECKPENDING = 1, MEMBERSHIPSTATUS_NEWMEMBER = 2, MEMBERSHIPSTATUS_RENEWMEMBER = 3, MEMBERSHIPSTATUS_LIFETIMEMEMBER = 4, MEMBERSHIPSTATUS_PENDINGREVIEW = 5, MEMBERSHIPSTATUS_PAST = 6, MEMBERSORT = "Joined (newest);Joined (oldest);Last payment (newest);Last payment (oldest);Year (newest);Year (oldest);First Name;Last Name;Status;Custom_ID;Category".split(";");
function displayMembershipDashboardMembers(a, b) {
	currmembers = a;
	currfees = b;
	if (0 == START.dashboardmembers) {
		var c = "";
		0 == currwidget.membershipstatus && (c += "<p class=ptp>Membership is currently hidden from all users except admins so you have time to set it up. <a href=# onclick=\"enableMembership('showall'); return false;\">Click here</a> to enable membership for everyone when you're ready. You can always hide it again in [settings].</p><br>");
		c += "<p class=ptp>";
		currperm == PERM_ADMIN && (c += "<a href=# onclick='addMembershipMember1(); return false;'>[add member]</a> &nbsp; ");
		c += "Filter: ";
		if (2 > eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE))) {
			c += '<select id=filtermemberfee onchange="membershipDashboardFilter();"><option value=all' + ("all" == memberfeefilter ? " selected" : "") + ">Any Fees";
			for (i = 0; i < currfees.length; i++)
				c += "<option value=" + currfees[i].id,
				memberfeefilter == currfees[i].id && (c += " selected"),
				c += ">" + b[i].name;
			c += "</select>"
		}
		c += '<select id=filtermemberstatus onchange="membershipDashboardFilter();"><option value=all' + ("all" == memberstatusfilter ? " selected" : "") + ">Any Status";
		for (i = 0; i < MEMBERSHIPSTATUS.length; i++)
			c += "<option value=" + i,
			memberstatusfilter == i && (c += " selected"),
			c += ">" + MEMBERSHIPSTATUS[i];
		c += "</select>";
		if (MEMBERSHIP_CATEGORIES) {
			c += '<select id=filtermembercat onchange="membershipDashboardFilter();"><option value=all' + ("all" == membercatfilter ? " selected" : "") + ">Any Category";
			for (i = 0; i < MEMBERSHIP_CATEGORIES.length; i++)
				c += "<option value='" + MEMBERSHIP_CATEGORIES[i] + "'",
				membercatfilter == MEMBERSHIP_CATEGORIES[i] && (c += " selected"),
				c += ">" + MEMBERSHIP_CATEGORIES[i];
			c += "</select>"
		}
		c += " &nbsp; <nobr>Search: <input type=text id=membershipsearchwords";
		null != membershipsearchwords && (c += ' value="' + membershipsearchwords + '"');
		c += " style='width:60px' title='Search for members by name, email, custom ID or transaction ID' onkeyup=\"membershipSearch('members');\"></nobr> &nbsp; &nbsp; <nobr>Sort: <select id=sortmembers onchange=\"membershipDashboardFilter();\">";
		for (i = 0; i < MEMBERSORT.length; i++)
			c += '<option value="' + i + '"',
			membersort == i && (c += " selected"),
			c += ">" + MEMBERSORT[i];
		c += "</select></nobr></p><br>";
		0 == a.length && 0 == START.dashboardmembers ? c += "<br><br>No members found." : (c += "<table><tbody id=memberslist><tr><td style='padding:5 10 10 0'><b>ID</b>&nbsp; </td><td style='padding:5 10 10 0'><b>Name</b>&nbsp; </td><td style='padding:5 10 10 0'><b>Status</b>&nbsp; </td>",
		MEMBERSHIP_CATEGORIES && (c += "<td style='padding:5 10 10 0'><b>Category</b>&nbsp; </td>"),
		currwidget.custom1_title && 0 < currwidget.custom1_title.length && (c += "<td style='padding:5 10 10 0'><b>" + currwidget.custom1_title + "</b>&nbsp; </td>"),
		currwidget.custom2_title && 0 < currwidget.custom2_title.length && (c += "<td style='padding:5 10 10 0'><b>" + currwidget.custom2_title + "</b>&nbsp; </td>"),
		c += "<td style='padding:5 10 10 0'><b>Joined</b>&nbsp; </td>",
		2 > eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE)) && (c += "<td style='padding:5 10 10 0'><b>Last payment</b>&nbsp; </td><td style='padding:5 10 10 0'><b>Year</b>&nbsp; </td>"),
		c += "<td></td></tr></tbody></table>");
		setHTML("adminarea", c)
	} else
		gEBI("memberslist").removeChild(gEBI("moremembers"));
	for (i = 0; i < a.length && !(49 < i); i++)
		b = [],
		b[0] = a[i].custom_id && 0 < a[i].custom_id.length ? a[i].custom_id + " &nbsp;" : "TBA &nbsp;",
		b[1] = "<a href=# id=scrollto" + a[i].user_id + ' onclick="displayMembershipProfile(' + a[i].user_id + '); return false;">' + a[i].first_name + " " + a[i].last_name + "</a>",
		b[2] = editMembershipStatus(a[i].status, "dashboard", a[i].user_id),
		MEMBERSHIP_CATEGORIES && (b[3] = editMembershipCategory(a[i].category, a[i].user_id)),
		currwidget.custom1_title && 0 < currwidget.custom1_title.length && (b[4] = a[i].custom1 ? a[i].custom1 : ""),
		currwidget.custom2_title && 0 < currwidget.custom2_title.length && (b[5] = a[i].custom2 ? a[i].custom2 : ""),
		b[6] = displayDate(a[i].joined_date, !1, !1, !0, !0),
		2 > eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE)) && (b[7] = displayDate(a[i].payment_date, !1, !1, !0, !0),
		b[8] = a[i].for_year ? a[i].for_year : "n/a"),
		b[9] = "<span id=membernotelink" + a[i].id + '><a href=# onclick="memberNotes(' + a[i].id + '); return false;" class=ptbtn>[notes' + (a[i].notecnt && 0 < a[i].notecnt ? " (" + a[i].notecnt + ")" : "") + "]</a></span>",
		currperm == PERM_ADMIN && (b[10] = '<a href=# onclick="deleteMember(' + a[i].user_id + ", '" + a[i].first_name + " " + a[i].last_name + "'); return false;\" class=ptbtn>[delete]</a>"),
		addTableRow("memberslist", b, [["vertical-align", "top"]], "0 10 5 0"),
		addTableRow("memberslist", [""], [["vertical-align", "top"], ["text-align", "left"]], null, 7, null, ["membernotes" + a[i].id]);
	0 < a.length && addTableRow("memberslist", [membershipPagination("dashboard", "members", a)], [["text-align", "center"]], null, 7, "moremembers")
}
function membershipPagination(a, b, c, e, f) {
	if (0 == START[a + b] && 51 > c.length)
		return "";
	var g = "<span id=" + b + "list" + (START[a + b] + 50) + "><br><center><span id=" + b + "morelink>";
	51 == c.length && (g += " &nbsp; &nbsp; &nbsp <a href=# onclick=\"loadMembership('" + a + "', '" + b + "', 'all', 1," + e + "," + f + ');return false;">[' + w_.m44 + "]</a>");
	return g + "</span></center></span>"
}
function backToMembersList(a) {
	gEBI("mt_apparea").innerHTML = saveforprofile;
	gEBI("scrollto" + a).scrollIntoView(!0)
}
function deleteMember(a, b) {
	confirm("Are you sure you want to delete member " + b + "?") && (a = "/widgetmembership?c=" + sitecode + "&a=dashboard&d=deletemember&userid=" + a + "&which=" + encodeURIComponent(memberstatusfilter + ":" + memberfeefilter + ":" + membersort + ":" + membercatfilter) + "&start=0",
	searchwords && (a += "&searchwords=" + encodeURIComponent(membershipsearchwords)),
	sendCommand(baseserverip, a))
}
var membernotesid, membernotescnt;
function memberNotes(a) {
	membernotesid && (setHTML("membernotes" + membernotesid, ""),
	setHTML("membernotelink" + membernotesid, '<a href=# onclick="memberNotes(' + membernotesid + '); return false;" class=ptbtn>[notes' + (0 < membernotescnt ? " (" + membernotescnt + ")" : "") + "]</a>"));
	membernotesid = a;
	setHTML("membernotelink" + membernotesid, "");
	setHTML("membernotes" + membernotesid, loadimage + " &nbsp;" + w_.t9);
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=dashboard&d=notes&memberid=" + a)
}
function displayMemberNotes(a) {
	var b = "";
	currperm == PERM_ADMIN && (b += "<p class=ptp><input type=text maxlength=400 style='width:500px' id=addnote" + membernotesid + "><input type=button value='add note' onclick='addMembershipNote(" + membernotesid + ");'></p>");
	for (i = 0; i < a.length; i++)
		b += "<p class=ptp>" + a[i].note + " <i>from <a href=# onclick='displayProfile(" + a[i].user_id + "); return false;'>" + a[i].user_name + "</a>, ",
		b += displayDate(a[i].create_date, !1, !1, !1, !1),
		currperm == PERM_ADMIN && (b += ' &nbsp;<a href=# onclick="deleteMembershipNote(' + a[i].member_id + "," + a[i].id + ');return false;" class=ptbtn>[delete]</a>'),
		b += "</i></p>";
	membernotescnt = a.length;
	setHTML("membernotes" + membernotesid, b + "<br>")
}
function addMembershipNote(a) {
	0 == gEBI("addnote" + a).value.length ? alert("Ooops. You forgot to type something.") : (membernotesid = a,
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=dashboard&d=addnote&memberid=" + a + "&note=" + encodeURIComponent(gEBI("addnote" + a).value)))
}
function deleteMembershipNote(a, b) {
	membernotesid = a;
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=dashboard&d=deletenote&memberid=" + a + "&noteid=" + b)
}
function editMembershipStatus(a, b, c) {
	b = " <select id=selectstatus" + b + "status" + c + " onchange=\"saveMembershipStatus('" + b + "'," + c + ');">';
	for (c = 0; c < MEMBERSHIPSTATUS.length; c++)
		b += "<option name=status" + c + " value=" + c,
		a == c && (b += " selected"),
		b += ">" + MEMBERSHIPSTATUS[c];
	return b + "</select> "
}
function saveMembershipStatus(a, b) {
	var c = "/widgetmembership?c=" + sitecode + "&a=" + a + "&d=savestatus";
	c += "&status=" + gEBI("selectstatus" + a + "status" + b).value + "&userid=" + b;
	sendCommand(baseserverip, c)
}
function editMembershipCategory(a, b) {
	b = " <select id=selectcategory" + b + ' onchange="saveMembershipCategory(' + b + ');"><option value=>';
	for (var c = 0; c < MEMBERSHIP_CATEGORIES.length; c++)
		b += "<option name=category" + c + " value=" + MEMBERSHIP_CATEGORIES[c],
		a == MEMBERSHIP_CATEGORIES[c] && (b += " selected"),
		b += ">" + MEMBERSHIP_CATEGORIES[c];
	return b + "</select> "
}
function saveMembershipCategory(a) {
	var b = "/widgetmembership?c=" + sitecode + "&a=dashboard&d=savecategory";
	b += "&category=" + encodeURIComponent(gEBI("selectcategory" + a).value) + "&userid=" + a;
	sendCommand(baseserverip, b)
}
var memberstatusfilter = "all"
  , membercatfilter = "all"
  , memberfeefilter = "all"
  , membersort = 0;
function membershipDashboardFilter() {
	START.dashboardmembers = 0;
	memberstatusfilter = gEBI("filtermemberstatus").value;
	gEBI("filtermembercat") && (membercatfilter = gEBI("filtermembercat").value);
	memberfeefilter = gEBI("filtermemberfee").value;
	membersort = gEBI("sortmembers").value;
	loadMembership("dashboard", "members", "all", 0)
}
var membershipsearchwords;
function doMembershipSearch(a) {
	membershipsearchtimer = null;
	membershipsearchwords = 0 < gEBI("membershipsearchwords").value.length ? gEBI("membershipsearchwords").value : null;
	loadMembership("dashboard", a, "all", 0)
}
var membershipsearchtimer;
function membershipSearch(a) {
	START.dashboardmembers = 0;
	membershipsearchtimer && clearTimeout(membershipsearchtimer);
	membershipsearchtimer = setTimeout("doMembershipSearch('" + a + "')", 500)
}
;function displayMembershipAdmin(a) {
	remainingcommands = 0;
	if (!(currperm < PERM_ADMIN)) {
		var b = getNav();
		b += "<p class=ptp><span class=et_title150bold>Membership: ";
		null == a && (a = "dashboard");
		"settings" == a ? b += "Settings" : "importexport" == a ? b += "Import &amp; Export" : "reports" == a ? b += "Reports" : "dashboard" == a && (b += "Members");
		b += "</span><span id=membershipnav";
		currwidget.membershipstatus || (b += " style='display:none;'");
		setAppArea(b + "> &nbsp; &nbsp;<a href=# onclick=\"displayMembershipAdmin('dashboard');return false;\" class=ptbtn>[members]</a> &nbsp; &nbsp;<a href=# onclick=\"displayMembershipAdmin('settings');return false;\" class=ptbtn>[settings]</a> &nbsp; &nbsp;<a href=# onclick=\"displayMembershipAdmin('reports');return false;\" class=ptbtn>[reports]</a> &nbsp; &nbsp;<a href=# onclick=\"displayMembershipAdmin('importexport');return false;\" class=ptbtn>[import &amp; export]</a></span> &nbsp; <a href=# onclick=\"gEBI('helpvideo').style.display='inline'; return false;\">[help]</a><div id=helpvideo style='display:none;'><br><a href=# onclick=\"gEBI('helpvideo').style.display='none'; return false;\">Hide video</a><br><br><div style='background:black; width:100%; padding:20px; text-align:center;'><iframe src='https://player.vimeo.com/video/413300334?title=0&amp;byline=0&amp;portrait=0' class=video frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div><br><br></div></p><div id=adminarea></div>");
		"importexport" == a ? displayMembershipImportExport() : "reports" == a ? displayMembershipReports(null, null) : "dashboard" == a ? displayMembershipDashboard(null, null) : loadMembership("admin", a, "all", 0)
	}
}
var membershipreportquarterfilter = "all"
  , membershipreportmonthfilter = "all"
  , membershipreportyearfilter = "0"
  , membershipreporttype = null
  , QUARTERS = ["1st", "2nd", "3rd", "4th"];
START.adminmembershipreports = 0;
function displayMembershipReports(a, b) {
	if (null != a)
		membershipreporttype = a;
	else if (null != membershipreporttype) {
		memberShipReportsFilter(membershipreporttype);
		return
	}
	START.adminmembershipreports = 0;
	var c = "<p class=ptp><span class=et_title120bold>";
	c = a == JSC_MEMBERSHIP_REPORT_FEETOTALS ? c + "Fee Totals" : a == JSC_MEMBERSHIP_REPORT_MEMBERFEES ? c + "Fees per member" : c + "Please select a report:";
	c += '</span> &nbsp; <a href=# onclick="memberShipReportsFilter(' + JSC_MEMBERSHIP_REPORT_FEETOTALS + '); return false;">[fee totals]</a> &nbsp; <a href=# onclick="memberShipReportsFilter(' + JSC_MEMBERSHIP_REPORT_MEMBERFEES + '); return false;">[fees per member]</a>';
	c += "</p>";
	if (null != a) {
		c = c + '<p class=ptp><select id=filterreportquarter onchange="memberShipReportsFilter(' + (a + ", 'quarter');\"><option value=all" + ("all" == membershipreportquarterfilter ? " selected" : "") + ">All Quarters");
		for (f = 0; 4 > f; f++)
			c += "<option value=" + f,
			membershipreportquarterfilter == f && (c += " selected"),
			c += ">" + QUARTERS[f] + " Quarter";
		c = c + '</select> <select id=filterreportmonth onchange="memberShipReportsFilter(' + (a + ", 'month');\"><option value=all" + ("all" == membershipreportmonthfilter ? " selected" : "") + ">All Months");
		for (f = 0; f < MONTHS_LONG.length; f++)
			c += "<option value=" + f,
			membershipreportmonthfilter == f && (c += " selected"),
			c += ">" + MONTHS_LONG[f];
		c = c + '</select> <select id=filterreportyear onchange="memberShipReportsFilter(' + (a + ", 'year');\"><option value=-1") + (("-1" == membershipreportyearfilter ? " selected" : "") + ">Last Year");
		c += "<option value=0" + ("0" == membershipreportyearfilter ? " selected" : "") + ">Current Year";
		c += "</select>"
	}
	if (b) {
		c += "<br><br>";
		if (a == JSC_MEMBERSHIP_REPORT_FEETOTALS) {
			var e = 0;
			c += "<table><tr><td><b>Count &nbsp;</b></td><td><b>Total &nbsp;</b></td><td><b>Fee Name</b></td><tr>";
			for (var f = 0; f < b.length; f++)
				e += eval(b[f].total_amount),
				c += "<tr><td>" + b[f].count + " &nbsp;</td><td>$" + b[f].total_amount / 100 + " &nbsp;</td><td>" + b[f].name + "</td><tr>";
			c += "</table>";
			0 < e && (c += "<br><b>Grand Total: $" + e / 100)
		}
		if (a == JSC_MEMBERSHIP_REPORT_MEMBERFEES) {
			e = 0;
			if (0 < b.length)
				var g = b[0].user_id;
			c += "<table><tr><td><b>ID &nbsp;</b></td><td><b>First Name &nbsp;</b></td><td><b>Amount &nbsp;</b></td><td><b>Fee Name &nbsp;</b></td><td><b>Date &nbsp;</b></td><td><b>Total &nbsp;</b></td><tr>";
			for (f = 0; f < b.length; f++) {
				e += eval(b[f].amount);
				c += "<tr><td>";
				c = b[f].custom_id && 0 < b[f].custom_id.length ? c + b[f].custom_id : c + "TBA";
				c += ' &nbsp;</td><td><a href=# onclick="displayProfile(' + b[f].user_id + '); return false;">' + b[f].first_name + " " + b[f].last_name + "</a> &nbsp;</td><td>$" + b[f].amount / 100 + " &nbsp;</td><td>" + b[f].name + " &nbsp;</td><td>" + displaySimpleDate(b[f].payment_date) + " &nbsp;</td><td>";
				if (f >= b.length - 1 || b[f + 1].user_id != g)
					c += "$" + e / 100,
					e = 0,
					f < b.length - 1 && (g = b[f + 1].user_id);
				c += "</td><tr>"
			}
			c += "</table>"
		}
	}
	setHTML("adminarea", c)
}
function memberShipReportsFilter(a, b) {
	START.adminmembershipreports = 0;
	membershipreporttype = a;
	gEBI("filterreportquarter") && ("quarter" == b ? gEBI("filterreportmonth").value = "all" : "month" == b && (gEBI("filterreportquarter").value = "all"),
	membershipreportquarterfilter = gEBI("filterreportquarter").value,
	membershipreportmonthfilter = gEBI("filterreportmonth").value,
	gEBI("filterreportyear") && (membershipreportyearfilter = gEBI("filterreportyear").value));
	loadMembership("admin", "reports", "all", 0)
}
function uploadMembersCSV() {
	if (0 == gEBI("csvfile").value.length || !confirm("Are you sure?"))
		return !1;
	sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=admin&d=uploadmemberscsv&ck=" + readCookie("entrythingy"))
}
function startUploadMembersCSV(a) {
	console.log("startUploadMembersCSV " + a.authcode);
	gEBI("uploadcsvform").action = baseserverurl + "/widgetmembership?uploadcode=" + a.authcode;
	postcheckercnt = 0;
	posting = "uploadmembershipcsv";
	postChecker();
	gEBI("uploadcsvform").submit()
}
function displayMembershipImportExport() {
	var a = "<p class=ptp><span class=et_title120bold>Upload Members CSV</span></p><p class=ptp>Choose a CSV formatted file to upload your member data - see below * for information on the file requirements:<p class=ptp><form method='post' action='" + (baseserverip + "/widgetmembership' enctype='multipart/form-data' id='uploadcsvform' name='uploadcsvform' target='et_uploadtarget' >");
	a = a + "<input type=file id=csvfile name='csvfile'><input type=hidden name=c value=" + (sitecode + "><input type=hidden name=suploadmembercsv value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + ">");
	var b = new Date;
	a = a + " <input class=et_savebutton type=button value='Upload' onclick='uploadMembersCSV()'></form></p><br><br><p class=ptp><span class=et_title120bold>Download CSV</span></p><p class=ptp><a href=# onclick=\"downloadMembershipCSV('allmembers');return false;\" class=ptbtn>Download a CSV formatted file with all of your member data</a><p class=ptp><a href=# onclick=\"downloadMembershipCSV('members');return false;\" class=ptbtn>Download a CSV formatted file with your member data</a> for members whose last fee payment is after <input id=memberscsvdate name='memberscsvdate' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" style='width:80px' value='" + (b.getMonth() + 1 + "/" + b.getDate() + "/" + b.getFullYear());
	a = a + "'> <a href=# onclick=\"showCalendar('memberscsvdate');return false;\"><img src=\"https://s3.amazonaws.com/memberthingy/images/calendar.gif\"  title=\"Select date\" style='width:20px;height:20px;margin:0 0 -4 0' border=\"0\"></a></p><div style='position:relative' class=\"yui-skin-sam\"><div id=\"memberscsvdatecontainer\" style=\"position:absolute; left:130px; top:-130px; z-index:1\"></div></div><div id=caljs></div><p class=ptp><a href=# onclick=\"downloadMembershipCSV('feepayments');return false;\" class=ptbtn>Download a CSV formatted file with your fee payment data</a> after <input id=feepaymentscsvdate name='feepaymentscsvdate' type='text' onclick=\"if (this.value=='mm/dd/yyyy') this.value='';\" style='width:80px' value='" + (b.getMonth() + 1 + "/" + b.getDate() + "/" + b.getFullYear());
	setHTML("adminarea", a + '\'> <a href=# onclick="showCalendar(\'feepaymentscsvdate\');return false;"><img src="https://s3.amazonaws.com/memberthingy/images/calendar.gif"  title="Select date" style=\'width:20px;height:20px;margin:0 0 -4 0\' border="0"></a></p><div style=\'position:relative\' class="yui-skin-sam"><div id="feepaymentscsvdatecontainer" style="position:absolute; left:130px; top:-130px; z-index:1"></div></div><br><br><p class=ptp><span class=et_title120bold>* CSV File Import Requirements</span></p><p class=ptp>The following columns are recognized by the CSV import, required columns are marked with an asterisk. The first line must show the column labels, no specific ordering of the columns is required.<br><br><table><tr valign=top><td><b>Column Name</b> &nbsp; &nbsp;</td><td><b>Format</b> &nbsp; &nbsp;</td><td><b>Description</b></td></tr><tr valign=top><td>custom_id</td><td>Text</td><td>The custom ID (member number) that your organization has assigned to each member</td></tr><tr><td>first_name *</td><td>Text</td><td></td></tr><tr><td>last_name *</td><td>Text</td><td></td></tr><tr valign=top><td>email *</td><td>Text</td><td>Unique, properly formatted email adress </td></tr><tr><td>occupation</td><td>Text</td><td>Comma separated, must match your occupations defined in [settings]</td></tr><tr><td>committees</td><td>Text</td><td>Comma separated, must match your committees defined in [settings]</td></tr><tr><td>committees2</td><td>Text</td><td>Comma separated, must match your committees2 defined in [settings]</td></tr><tr><td>category</td><td>Text</td><td>Only one category, must match one of your categories defined in [settings]</td></tr><tr><td>custom1</td><td>Text</td><td>Any text up to 100 chars</td></tr><tr><td>custom2</td><td>Text</td><td>Any text up to 100 chars</td></tr><tr><td>medium</td><td>Text</td><td></td></tr><tr valign=top><td>status *</td><td>Text</td><td>"Applying", "Check Pending", "New Member", "Renewed Member", "Lifetime Member", "Pending Review", "Past Member"</td></tr><tr valign=top><td>joined_date *</td><td>Date</td><td>Date this member joined (see below for accepted formats)</td></tr><tr valign=top><td>payment_date *</td><td>Date</td><td>Date of the last membership payment (see below for accepted formats)</td></tr><tr><td>note</td><td>Text</td><td></td></tr><tr valign=top><td>amount</td><td>Number</td><td>The amount of the last membership payment</td></tr><tr valign=top><td>fee_names</td><td>Text</td><td>Semicolon (;) separated list of fee names paid by this member from Admin->[settings]</td></tr></table></p><br><br><p><b>Accepted date formats: </b><ul><li>12/13/52</li><li>Jan 12, 1952</li><li>January 12, 1952</li><li>Sun, 12 Jan 1952 14:56:03 -0700</li><li>1952</li></ul>')
}
function downloadMembershipCSV(a) {
	var b = "/widgetmembership?c=" + sitecode + "&a=admin&d=downloadcsv&which=" + a;
	"allmembers" != a && (b += "&after=" + encodeURIComponent(gEBI(a + "csvdate").value));
	b += "&ck=" + readCookie("entrythingy");
	window.location = LOCAL ? "http://192.168.86.95" + b : "https://www.entrythingy.com" + b
}
function displayMembershipAdminSettings(a, b) {
	setCurrWidget(a[0]);
	currfees = b;
	a = "";
	2 > eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE)) && (a = a + "<p class=ptp><span class=et_title120bold>Membership fees</span></p><p class=ptp id=feelist>" + feeList(),
	a += "</p>");
	a += "<br><br><form method='post' accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' action='" + baseserverip + "/widgetmembership' target='et_uploadtarget' onsubmit=\"return saveMembershipPrefs();\">";
	a += "<table width=100%><tr valign=top><td width=50%><p class=ptp><span class=et_title120bold>Basic settings</span></p>";
	0 == currwidget.membershipstatus ? a += "<p class=ptp>Membership is currently hidden from all users except admins. <a href=# onclick=\"enableMembership('showall'); return false;\">Click here</a> to turn it on.</p>" : 1 == currwidget.membershipstatus && (a += "<p class=ptp>Membership is currently showing for all users. <a href=# onclick=\"enableMembership('hideall'); return false;\">Click here</a> to hide it from all users except admins.</p>");
	a += "<p class=ptp>Membership type:<br><label><input type=radio name=membership_type id=membership_type0" + (0 == currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE) ? " checked" : "") + ">Fee payments for following year start on</label>: <select id=year_start>";
	for (b = 0; 6 > b; b++)
		a += "<option value=" + b + (currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_YEAR_START) == b ? " selected" : "") + ">" + MONTHS_LONG[b + 6] + " 1st";
	a = a + "</select><br><label><input type=radio name=membership_type id=membership_type2" + ((2 == currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE) ? " checked" : "") + ">Automatic membership, no fee payments.</label></p>");
	a += "<p class=ptp>Paypal account email: <input type=text id=paypal_email name=paypal_email style='width:150px' value='" + (currwidget.paypal_email ? currwidget.paypal_email : "") + "'></p>";
	a += "<p class=ptp>Instructions for membership payment:<br><textarea id=payment_instructions name=payment_instructions style='width:300px; height:100px'>" + (currwidget.payment_instructions ? currwidget.payment_instructions : "") + "</textarea></p>";
	a += "<p class=ptp>Instructions for membership payment by check:<br><textarea id=check_payment_instructions name=check_payment_instructions style='width:300px; height:100px'>" + (currwidget.check_payment_instructions ? currwidget.check_payment_instructions : "") + "</textarea></p>";
	a += "<p class=ptp><input type=text style='width:200px' name=committees_title value='" + (currwidget.committees_title ? currwidget.committees_title : "Committee options") + "'>: (separate with commas)<br><input type=text id=committees name=committees style='width:300px' value='" + (currwidget.committees ? currwidget.committees : "") + "'></p>";
	a += "<p class=ptp><input type=text style='width:200px' name=committees2_title value='" + (currwidget.committees2_title ? currwidget.committees2_title : "Committee 2 options") + "'>: (separate with commas)<br><input type=text id=committees2 name=committees2 style='width:300px' value='" + (currwidget.committees2 ? currwidget.committees2 : "") + "'></p>";
	a += "<p class=ptp><input type=text style='width:200px' name=occupation_title value='" + (currwidget.occupation_title ? currwidget.occupation_title : "Occupations (I am a...) options") + "'>: (separate with commas)<br><input type=text id=occupation name=occupation style='width:300px' value='" + (currwidget.occupation ? currwidget.occupation : "") + "'></p>";
	a += "<p class=ptp><input type=text style='width:200px' name=medium_title value='" + (currwidget.medium_title ? currwidget.medium_title : "Applicable mediums and/or specialties") + "'></p>";
	a = a + "</td><td width=30>&nbsp;</td><td width=50%><p class=ptp><span class=et_title120bold>Admin only fields</span></p><p class=ptp>Categories: (separate with commas)<br><input type=text id=categories name=categories style='width:300px' value='" + ((currwidget.categories ? currwidget.categories : "") + "'></p>");
	a += "<p class=ptp>Custom 1 Title: (leave blank to hide)<br><input type=text id=custom1_title name=custom1_title style='width:300px' value='" + (currwidget.custom1_title ? currwidget.custom1_title : "") + "'></p>";
	a += "<p class=ptp>Custom 2 Title: (leave blank to hide)<br><input type=text id=custom2_title name=custom2_title style='width:300px' value='" + (currwidget.custom2_title ? currwidget.custom2_title : "") + "'></p>";
	a = a + "<br><br><p class=ptp><span class=et_title120bold>Other settings</span></p><p class=ptp>Send email alert to <input type=text style='width:200px;' name=memberalert value='" + ((currwidget.memberalert ? currwidget.memberalert : "") + "'> when new members sign up or memberships are updated. <font size=-2>Notes: up to 5 emails, separate with commas - you will be charged 1 token per 100 emails sent.</font></p>");
	a = a + "</td></tr><tr><td colspan=3><br><input id=savebutton class=et_savebutton type=submit value='Save Settings' ></td></tr><input type=hidden id=membershipprefs name=membershipprefs value=" + (currwidget.membershipprefs + "><input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveadminprefs value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">");
	setHTML("adminarea", a + "</table></form>")
}
function saveMembershipPrefs() {
	var a = null
	  , b = gEBI("paypal_email").value.trim();
	if (-1 == b.indexOf("@") || -1 != b.indexOf(" ") || -1 == b.indexOf(".") || 7 > b.length)
		a = "Ooops. Please enter a valid Paypal account email.";
	if (null != a)
		return alert(a),
		!1;
	currwidget.membershipprefs = currwidget.membershipprefs.setCharAt(gEBI("year_start").value, WIDGETPREF_MEMBERSHIP_YEAR_START);
	a = 0;
	gEBI("membership_type2").checked && (a = 2);
	currwidget.membershipprefs = currwidget.membershipprefs.setCharAt(a, WIDGETPREF_MEMBERSHIP_TYPE);
	gEBI("membershipprefs").value = currwidget.membershipprefs;
	gEBI("payment_instructions") && (gEBI("payment_instructions").value = charClean(gEBI("payment_instructions").value));
	gEBI("check_payment_instructions") && (gEBI("check_payment_instructions").value = charClean(gEBI("check_payment_instructions").value));
	gEBI("savebutton").value = "Saving...";
	gEBI("savebutton").disabled = !0;
	postcheckercnt = 0;
	posting = "adminmembershipprefs";
	postchecker = setTimeout("postChecker()", 500);
	return !0
}
var FEE_FORWHOM = ["Current", "New", "All"]
  , FEE_TYPE = ["Required", "Optional", "Fill in"]
  , FEE_DURA = ["1 Year", "Lifetime"];
function feeList(a) {
	for (var b = "<table><tr><td></td><td><b>Amount&nbsp; &nbsp;</b></td><td><b>Name</b></td><td><b>Type</b></td><td><b>Duration</b></td><td><b>Visibilty</b></td></tr><tr><td colspan=7>&nbsp;</td></tr>", c = 0; c < currfees.length; c++) {
		b += "<tr><td>";
		b = null != a && c == a ? b + ("<input type=button id=savefeechangesbutton onclick='saveMembershipFee(" + currfees[c].id + "); return false;' value='save changes'>&nbsp; &nbsp;") : b + ("<a href=# onclick='feeList(" + c + "); return false;'>[edit]</a>&nbsp; <a href=# onclick='deleteMembershipFee(" + currfees[c].id + "); return false;'>[delete]</a>&nbsp; &nbsp;");
		if (null != a && c == a) {
			b += "</td><td>$<input type=text style='width:50px' id=edit_amount value='";
			2 != currfees[c].type && (b += formatCurrency(currfees[c].amount));
			b += "'>&nbsp; &nbsp;</td><td><input type=text style='width:250px' id=edit_name value='" + currfees[c].name + "'>&nbsp; &nbsp;</td>";
			b += "<td><select id=edit_type>";
			for (var e = 0; e < FEE_TYPE.length; e++)
				b += "<option value=" + e + (currfees[c].type == e ? " selected" : "") + ">" + FEE_TYPE[e];
			b += "</select>&nbsp; &nbsp;</td><td><select id=edit_dura>";
			for (e = 0; e < FEE_DURA.length; e++)
				b += "<option value=" + e + (currfees[c].dura == e ? " selected" : "") + ">" + FEE_DURA[e];
			b += "</select>&nbsp; &nbsp;</td><td><select id=edit_visibility>";
			b += "<option value=0" + (currfees[c].visibility && 0 != currfees[c].visibility ? "" : " selected") + ">All";
			b += "<option value=1" + (1 == currfees[c].visibility ? " selected" : "") + ">Admin only";
			b += "</select>"
		} else
			b += "</td><td>",
			2 != currfees[c].type && (b += "$" + formatCurrency(currfees[c].amount)),
			b += "</td><td>" + currfees[c].name + "</td><td>" + FEE_TYPE[currfees[c].type] + "</td><td>" + FEE_DURA[currfees[c].dura] + "</td><td>",
			b = 1 == currfees[c].visibility ? b + "Admin only" : b + "All",
			b += "</td><td>";
		b += "</td></tr>"
	}
	b += "<tr><td colspan=5>&nbsp;</td></tr><tr><td><input type=button id=savefeebutton onclick='saveMembershipFee()' value='add fee'>&nbsp; &nbsp;</td><td>$<input type=text style='width:50px' id=add_amount>&nbsp; &nbsp;</td><td><input type=text style='width:250px' id=add_name>&nbsp; &nbsp;</td><td><select id=add_type>";
	for (c = 0; c < FEE_TYPE.length; c++)
		b += "<option value=" + c + ">" + FEE_TYPE[c];
	b += "</select></td><td><select id=add_dura>";
	for (c = 0; c < FEE_DURA.length; c++)
		b += "<option value=" + c + ">" + FEE_DURA[c];
	b += "</select></td><td><select id=add_visibility><option value=0 selected>All<option value=1>Admin only</select></td></tr></table>";
	setHTML("feelist", b);
	return b
}
function deleteMembershipFee(a) {
	confirm("Are you sure you want to delete this membership fee?") && sendCommand(baseserverip, "/widgetmembership?c=" + sitecode + "&a=admin&d=settings&deletefee=" + a)
}
function saveMembershipFee(a) {
	var b = "add";
	null != a && (b = "edit");
	var c = null;
	2 != gEBI(b + "_type").value && 0 == gEBI(b + "_amount").value.length ? c = "Please enter the fee amount" : isNaN(gEBI(b + "_amount").value) ? c = "Please enter a valid fee amount" : 0 == gEBI(b + "_name").value.length && (c = "Please enter the fee name");
	null != c ? alert(c) : (c = "savefeebutton",
	a && (c = "savefeechangesbutton"),
	gEBI(c).value = "Saving...",
	gEBI(c).disabled = !0,
	b = "/widgetmembership?c=" + sitecode + "&a=admin&d=settings&savefee=y&amount=" + encodeURIComponent(100 * gEBI(b + "_amount").value) + "&name=" + encodeURIComponent(gEBI(b + "_name").value) + "&type=" + encodeURIComponent(gEBI(b + "_type").value) + "&dura=" + encodeURIComponent(gEBI(b + "_dura").value) + "&visibility=" + encodeURIComponent(gEBI(b + "_visibility").value),
	a && (b += "&id=" + a),
	sendCommand(baseserverip, b))
}
function addMembershipMember1Submit() {
	aaei.email = gEBI("email").value.trim();
	aaei.first_name = gEBI("first_name").value.trim();
	aaei.last_name = gEBI("last_name").value.trim();
	if (0 == gEBI("email").value.length && 0 == gEBI("first_name").value.length && 0 == gEBI("last_name").value.length)
		alert(w_.me2);
	else {
		var a = "/widgetmembership?c=" + sitecode + "&a=dashboard&d=addmember1";
		a += "&fnm=" + encodeURIComponent(gEBI("first_name").value) + "&lnm=" + encodeURIComponent(gEBI("last_name").value) + "&eml=" + encodeURIComponent(gEBI("email").value);
		a += "&ck=" + currpw;
		sendCommand(baseserverip, a, "et_apparea")
	}
}
function addMembershipMember1(a) {
	if (currwidget && 0 >= eval(currwidget.tokens))
		alert(w_.s1 + " " + w_.s2);
	else {
		a ? 1 == a.length && "dupemail" == a[0].err ? (alert("Ooops. An account with that email already exists."),
		aaei = [],
		aaei_foundusers = null) : aaei_foundusers = a : (aaei = [],
		aaei_foundusers = null);
		aaei_user = null;
		a = "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.me4 + "</span></p><br>";
		a += '<table cellpadding=0 cellspacing=0><tr valign=top><td><form onsubmit="addMembershipMember1Submit(); return false;"><p class=ptp><b>' + w_.l29 + ": </b><br><input type=text id=first_name value='";
		aaei.first_name && (a += aaei.first_name);
		a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l30 + ": </b><br><input type=text id=last_name value='";
		aaei.last_name && (a += aaei.last_name);
		a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l4 + ":</b><br><input type=text id=email value='";
		aaei.email && (a += aaei.email);
		a = a + "' style='width:300px;'></p><p class=ptp><input class=et_submitbutton type=submit value='" + (w_.me5 + "'></form></p>");
		a += "</td><td width=30>&nbsp;</td><td><p class=ptp>";
		if (aaei_foundusers) {
			if (0 < aaei_foundusers.length) {
				a += w_.me7;
				if (null == aaei.email || 0 == aaei.email.length)
					a += "- " + w_.me8 + ' <a href=# onclick="addMembershipMember2();return false;">' + w_.me9 + "</a>";
				a += "<br><br>"
			} else
				a += w_.me10 + ' <a href=# onclick="addMembershipMember2();return false;">' + w_.me9 + "</a>";
			for (i = 0; i < aaei_foundusers.length; i++)
				a += '<a href=# onclick="displayMembershipProfile(aaei_foundusers[' + i + '].id);return false;">' + aaei_foundusers[i].first_name + " " + aaei_foundusers[i].last_name + "</a>",
				aaei_foundusers[i].city && (a += " in " + aaei_foundusers[i].city),
				aaei_foundusers[i].state && (a += " " + aaei_foundusers[i].state),
				a += "<br><br>";
			50 == aaei_foundusers.length && (a += "<br><br>" + w_.me11);
			a += "<br><br>" + w_.me12
		} else
			a += w_.me13;
		setHTML("adminarea", a + "</p></td></tr></table>")
	}
}
function addMembershipMember2() {
	var a = "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.me4 + "</span></p><br>";
	a += "<table cellpadding=0 cellspacing=0><tr valign=top><td><p class=ptp><b>" + w_.l29 + ": *</b><br><input type=text id=first_name value='";
	aaei.first_name && (a += aaei.first_name);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l30 + ": *</b><br><input type=text id=last_name value='";
	aaei.last_name && (a += aaei.last_name);
	a += "' style='width:300px;'></p><p class=ptp><b>" + w_.l4 + ": *</b><br><input type=text id=email value='";
	aaei.email && (a += aaei.email);
	a = a + "' style='width:300px;'></p><p class=ptp><b>" + (w_.l31 + ":</b><br><input type=password id=password style='width:300px;'></p><p class=ptp><b>" + w_.l32 + ":</b><br><input type=password id=confirmpassword style='width:300px;'></p>");
	a += "</td><td width=30>&nbsp;</td><td><p class=ptp>" + w_.me15 + "</p>";
	a += '</td></tr></table><p class=ptp><span id=errorarea></span><input class=et_cancelbutton type=button onclick="addMembershipMember1(aaei_foundusers);" value=\'' + w_.me17 + "'> &nbsp; <input class=et_submitbutton type=button onclick=\"addMembershipMember2Verify();\" value='" + w_.me16 + "'></p>";
	setHTML("adminarea", a)
}
function addMembershipMember2Verify() {
	var a = null;
	7 > gEBI("email").value.length || -1 == gEBI("email").value.indexOf("@") || -1 == gEBI("email").value.indexOf(".") ? a = w_.l11 : 0 == gEBI("first_name").value.length ? a = w_.me18 : 0 == gEBI("last_name").value.length ? a = w_.me19 : 0 < gEBI("password").value.length && 5 > gEBI("password").value.length ? a = w_.me20 : gEBI("password").value != gEBI("confirmpassword").value && (a = w_.me21);
	null != a ? displayError(a) : (aaei.email = gEBI("email").value,
	aaei.first_name = gEBI("first_name").value,
	aaei.last_name = gEBI("last_name").value,
	aaei.password = gEBI("password").value,
	a = "<p class=ptp><span class=et_title150bold id=detailstitle>" + w_.me4 + "</span></p><br>",
	a += "<p class=ptp>" + w_.me22 + "</p><br>",
	a = a + "<table cellpadding=0 cellspacing=0><tr valign=top><td><p class=ptp><b>" + (w_.l29 + ":</b> " + aaei.first_name + "</p>"),
	a += "<p class=ptp><b>" + w_.l30 + ":</b> " + aaei.last_name + "</p>",
	a += "<p class=ptp><b>" + w_.l18 + ":</b> " + aaei.email + "</p>",
	a += "</td></tr></table><p class=ptp><input class=et_cancelbutton type=button onclick='addMembershipMember2();' value='" + w_.me17 + "'> &nbsp; <input class=et_submitbutton type=button onclick='addMembershipMember2Submit();' value='" + w_.me16 + "'></form></p>",
	setHTML("adminarea", a))
}
function addMembershipMember2Submit() {
	var a = "/widgetmembership?c=" + sitecode + "&a=dashboard&d=addmember2";
	a += "&fnm=" + encodeURIComponent(aaei.first_name);
	a += "&lnm=" + encodeURIComponent(aaei.last_name);
	a += "&eml=" + encodeURIComponent(aaei.email);
	a += "&pw=" + encodeURIComponent(aaei.password);
	sendCommand(baseserverip, a, "et_apparea")
}
;function memberShipCheckBoxes(a, b, c) {
	var e = "", f = [], g = 0, k;
	if (null != a && 0 < a.length) {
		for (; -1 != (k = a.indexOf(",", g)); ) {
			g = a.substring(g, k).trim();
			for (var l = !1, m = 0; m < b.length; m++)
				if (b[m] == g) {
					f[g] = "y";
					l = !0;
					break
				}
			l || (f.Other = g);
			g = k + 1
		}
		g = a.substring(g).trim();
		l = !1;
		for (m = 0; m < b.length; m++)
			if (b[m] == g) {
				f[g] = "y";
				l = !0;
				break
			}
		l || (f.Other = g)
	}
	for (m = 0; m < b.length; m++)
		e += "<label><input type=checkbox id=et." + c + "_" + m,
		null != f[b[m]] && (e += " checked"),
		e += ">" + b[m] + "</label> &nbsp;";
	e += "Other: <input type=text id=et." + c + "_other_text value='";
	null != f.Other && (e += f.Other);
	return e + "'>"
}
function displayMembershipProfile(a) {
	signupinfo = [];
	remainingcommands = 0;
	"mine" == a ? setAppArea(getNav() + "<div id=adminarea><div id=profile></div></div>") : setHTML("adminarea", "<div id=profile></div>");
	var b = "/widgetmembership?c=" + sitecode + "&a=profile";
	a && (b += "&id=" + a);
	sendCommand(baseserverip, b)
}
var currfeepayments, currprofile, payingforyear;
function displayMembershipProfileProfile(a, b, c) {
	currwidget = a[0];
	initMembership(currwidget);
	currfees = a;
	currprofile = a[1];
	currfeepayments = b;
	a = "<p class=ptp style='width:auto'><span class=et_title150bold>Membership for " + (currprofile.first_name + " " + currprofile.last_name + "</span>");
	if ("y" == currprofile.myprofile || currperm == PERM_ADMIN)
		currprofile.status && (a += ' &nbsp; &nbsp;<a href=# onclick="editMembershipProfile();return false;" class=ptbtn>[edit membership info]</a>'),
		myprofilejson = currprofile;
	a += "</p>";
	"y" == currprofile.myprofile && currprofile.status && (a += "<br><p class=ptb>Please make sure all of the information is correct and that your membership is current. Click [edit membership info] above to make any changes.</p>");
	currperm == PERM_ADMIN && "y" != currprofile.myprofile && (a += "<br><table cellpadding=0 cellspacing=0 width=100%><tr valign=top><td width=48%>",
	currprofile.email && (a += "<p class=ptp><b>" + w_.l4 + ": </b><a href='mailto:" + currprofile.email + "'>" + currprofile.email + "</a></p>"),
	a += "<p class=ptp><b>" + w_.l43 + ": </b>" + (currprofile.address ? currprofile.address : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l44 + ": </b>" + (currprofile.city ? currprofile.city : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l45 + ": </b>" + (currprofile.state ? currprofile.state : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l46 + ": </b>" + (currprofile.zip ? currprofile.zip : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l47 + ": </b>" + (currprofile.country ? currprofile.country : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l49 + ": </b>" + (currprofile.mainphone ? currprofile.mainphone : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l51 + ": </b>" + (currprofile.alternatephone ? currprofile.alternatephone : "") + "</p>",
	a += "<p class=ptp><b>" + w_.l52 + ": </b>" + (currprofile.website ? "<a href=" + currprofile.website + ">" + currprofile.website : "") + "</a></p>",
	a += "</td><td width=30>&nbsp;</td><td width=48%>");
	if (currprofile.status) {
		a += "<p class=ptp><span class=et_title150bold>Membership</span></p>";
		currperm >= PERM_ADMIN && (a += "<p class=ptp><b>ID: </b>" + (currprofile.custom_id ? currprofile.custom_id : "TBA") + "</p>",
		MEMBERSHIP_CATEGORIES && (a += "<p class=ptp><b>Category: </b>" + (currprofile.category ? currprofile.category : "")),
		currwidget.custom1_title && 0 < currwidget.custom1_title.length && (a += "<p class=ptp><b>" + currwidget.custom1_title + ": </b>" + (currprofile.custom1 ? currprofile.custom1 : "")),
		currwidget.custom2_title && 0 < currwidget.custom2_title.length && (a += "<p class=ptp><b>" + currwidget.custom2_title + ": </b>" + (currprofile.custom2 ? currprofile.custom2 : "")));
		if (MEMBERSHIP_COMMITTEES && 0 < MEMBERSHIP_COMMITTEES.length) {
			var e = currprofile.committees;
			e || (e = currprofile.temp_committees);
			a += "<p class=ptp><b>" + MEMBERSHIP_COMMITTEES_TITLE + ": </b>" + (e ? e : "none") + "</p>"
		}
		MEMBERSHIP_COMMITTEES2 && 0 < MEMBERSHIP_COMMITTEES2.length && (e = currprofile.committees2,
		e || (e = currprofile.temp_committees2),
		a += "<p class=ptp><b>" + MEMBERSHIP_COMMITTEES2_TITLE + ": </b>" + (e ? e : "none") + "</p>");
		MEMBERSHIP_OCCUPATION && 0 < MEMBERSHIP_OCCUPATION.length && (a += "<p class=ptp><b>" + MEMBERSHIP_OCCUPATION_TITLE + ": </b>" + (currprofile.occupation ? currprofile.occupation : "none") + "</p>");
		MEMBERSHIP_MEDIUM_TITLE && 0 < MEMBERSHIP_MEDIUM_TITLE.length && (a += "<p class=ptp><b>" + MEMBERSHIP_MEDIUM_TITLE + ": </b>" + (currprofile.medium ? currprofile.medium : "none") + "</p>");
		a += "<br>"
	}
	e = new Date;
	e.setMonth(eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_YEAR_START)) + 6, 1);
	payingforyear = new Date < e ? e.getFullYear() : e.getFullYear() + 1;
	a += "<p class=ptp><span class=et_title120bold>" + (currperm >= PERM_ADMIN && "y" != currprofile.myprofile ? "Membership" : "Your membership") + " status" + (currprofile.status ? ": " + MEMBERSHIPSTATUS[currprofile.status] : "") + "</span></p>";
	if (2 == eval(currwidget.membershipprefs.charAt(WIDGETPREF_MEMBERSHIP_TYPE)))
		null == currprofile.status && (a += "<br>You are not a member. <a href=# onclick='autoMembership(); return false;'>Click here</a> to start your membership.");
	else {
		a += "<p class=ptp>";
		var f = null;
		if (0 < b.length) {
			a = currperm >= PERM_ADMIN && "y" != currprofile.myprofile ? a + "Last" : a + "Your last";
			a = 0 < c.length ? a + (" membership payment made " + displayDate(b[0].payment_date, null, !1, !1, !0) + " for " + b[0].for_year + ":") : a + (" membership payment was made " + displayDate(b[0].payment_date, null, !1, !1, !0) + " for " + b[0].for_year + ". The details for this payment are not available.");
			f = b[0].for_year;
			a += "<br><table>";
			for (e = 2; e < currfees.length; e++)
				if (!(1 == currfees[e].visibility && currperm < PERM_ADMIN))
					for (var g = 0; g < c.length; g++)
						if (currfees[e].id == c[g].fee_id) {
							a += "<tr valign=top><td><p class=ptp>$" + formatCurrency(c[g].amount) + " &nbsp; </p></td><td width=10>&nbsp;</td><td><p class=ptp>" + currfees[e].name + "</p></td></tr>";
							break
						}
			a += "</table><br>The transaction ID for this payment is: ";
			a = currprofile.txn_id ? a + currprofile.txn_id : a + "unknown"
		} else
			a = currperm >= PERM_ADMIN && "y" != currprofile.myprofile ? a + "Not a member." : a + "You are not a member.";
		a += "</p>";
		console.log("displayMembershipProfileProfile " + f + " " + payingforyear + " " + currprofile.status);
		if (f != payingforyear && 1 != currprofile.status || currperm == PERM_ADMIN && 1 == currprofile.status) {
			f = "Add member";
			0 < b.length && (f = "Renew membership");
			a += "<br><p class=ptp><span class=et_title120bold>";
			a = currperm == PERM_ADMIN && 1 == currprofile.status ? a + f : 0 < b.length ? a + "Renew membership" : a + "Become a member";
			a += " for " + payingforyear + "</span></p><p class=ptp>";
			(currperm != PERM_ADMIN || "y" == currprofile.myprofile) && currwidget.payment_instructions && 0 < currwidget.payment_instructions.length && (a += doBRs(currwidget.payment_instructions));
			a += "</p>";
			2 < currfees.length && 0 == currfees[2].type && (a += "<p class=ptp><b>Please select at least one of the following options:</b></p>");
			var k = !1
			  , l = !1;
			for (e = 2; e < currfees.length; e++)
				if (!(1 == currfees[e].visibility && currperm < PERM_ADMIN)) {
					var m = !1;
					for (g = 0; g < c.length; g++)
						if (currfees[e].id == c[g].fee_id && 1 == c[g].dura) {
							m = !0;
							break
						}
					m || (1 != currfees[e].type && 2 != currfees[e].type || k ? 2 != currfees[e].type || l || (l = !0) : (a += "<p class=ptp><b>The following fees are optional:</b></p>",
					k = !0),
					a += "<p class=ptp>",
					a = 2 == currfees[e].type ? a + ("<b>$<input type=text style='width:50px;' id=fillin" + e + " onkeyup='checkMembershipPaypal()'>") : a + ("<label><input type=checkbox id=cb_fee" + e + " onclick='checkMembershipPaypalSubmit()'> <b>$" + formatCurrency(currfees[e].amount)),
					a += "</b> &nbsp; " + currfees[e].name + "</label></p>")
				}
			a += "<p class=ptp><b>Total: $<span id=fee_total>0.00</span></b></p><span id=errorarea></span><br><table><tr valign=center>";
			currperm == PERM_ADMIN && (1 == currprofile.status || null == currprofile.status && "y" != currprofile.myprofile) ? a += "<td><input type=button id=savemembership value='" + f + "' onclick='saveMembership(); return false;'><input id='pp_price' type='hidden' name='amount' value='0'><input id='item_number' type='hidden' value='0'></td><td nowrap>&nbsp; &nbsp;</td>" : "y" == currprofile.myprofile && (a += "<td><form action='https://www.paypal.com/cgi-bin/webscr' method='post' onsubmit='return checkMembershipPaypalSubmit();'>",
			a += "<input type='image' src='https://www.paypal.com/en_US/i/btn/btn_paynowCC_LG.gif' border='0' name='submit' alt='Pay now.'>",
			a += "<img alt='' border='0' src='https://www.paypal.com/en_US/i/scr/pixel.gif' width='1' height='1'>",
			a += "<input type='hidden' name='cmd' value='_xclick'>",
			a += "<input type='hidden' name='business' value='" + currwidget.paypal_email + "'>",
			a += "<input type='hidden' id='item_name' name='item_name' value='Membership fee for " + currprofile.first_name + " " + currprofile.last_name + " for " + payingforyear + "'>",
			a += "<input type='hidden' id='item_number' name='item_number' value='membership-'>",
			a += "<input type='hidden' name='no_shipping' value='1'>",
			a += "<input type='hidden' name='return' value='" + currwidget.live_page + "'>",
			a += "<input type='hidden' name='cancel_return' value='" + currwidget.live_page + "'>",
			a += "<input type='hidden' name='no_note' value='1'>",
			a += "<input type='hidden' name='currency_code' value='USD'>",
			a += "<input type='hidden' name='lc' value='US'>",
			a += "<input type='hidden' name='bn' value='PP-PayNowBF'>",
			a += "<input id='pp_price' type='hidden' name='amount' value='0'>",
			a += "<input type='hidden' name='notify_url' value='https://www.entrythingy.com'>",
			a += "</form></td><td nowrap>&nbsp; &nbsp;</td>",
			a += "<td><input type=button onclick='payMembershipByCheck(); return false;' value='Pay by Check'></td>");
			a += "</tr></table>"
		}
		if (0 < b.length) {
			a += "<br><p class=ptp><span class=et_title120bold>" + (currperm >= PERM_ADMIN && "y" != currprofile.myprofile ? "Membership" : "Your membership") + " payment history</span></p><table>";
			for (e = 0; e < b.length; e++) {
				a += "<tr valign=top><td><p class=ptp>On " + displayDate(b[e].payment_date, null, !1, !0, !0) + ":&nbsp; $" + formatCurrency(b[e].amount) + " for ";
				if (currperm == PERM_ADMIN && 0 == e) {
					a += "<select id=select_for_year" + b[e].id + " onchange='changeMembershipForYear(" + b[e].id + ");'>";
					for (g = eval(b[e].for_year) - 1; g <= eval(b[e].for_year) + 1; g++)
						a += "<option value=" + g + (g == b[e].for_year ? " selected" : "") + ">" + g;
					a += "</select>"
				} else
					a += b[e].for_year;
				a = "unknown" != b[e].fee_ids ? a + (" <span id=paymentdetailslink" + e + ">&nbsp;<a href=# onclick='showMembershipPaymentDetails(" + e + "); return false;'>[details]</a></span>") : a + " &nbsp;(no details)";
				currperm == PERM_ADMIN && 0 == e && (a += "&nbsp; <a href=# onclick='deleteMembershipPayment(" + b[e].id + "); return false;'>[delete]</a>");
				a += "<span id=paymentdetails" + e + "></span></p></td></tr>"
			}
			a += "</table>"
		}
	}
	currperm == PERM_ADMIN && (a += "</td></tr></table>");
	setHTML("profile", a);
	currprofile.s_m && alert(currprofile.s_m)
}
function changeMembershipForYear(a) {
	if (confirm("Are you sure you want to change the year this payment was made for?")) {
		var b = "/widgetmembership?c=" + sitecode + "&a=profile&d=changeforyear";
		b += "&id=" + currprofile.id + "&paymentid=" + a + "&newforyear=" + gEBI("select_for_year" + a).value;
		sendCommand(baseserverip, b)
	}
}
function autoMembership() {
	if (confirm("Are you sure you want to become a member?")) {
		var a = "/widgetmembership?c=" + sitecode + "&a=profile&d=automembership";
		a += "&id=" + currprofile.id;
		sendCommand(baseserverip, a)
	}
}
function deleteMembershipPayment(a) {
	if (confirm("Are you sure you want to delete this payment?")) {
		var b = "/widgetmembership?c=" + sitecode + "&a=profile&d=deletepayment";
		b += "&id=" + currprofile.id + "&paymentid=" + a;
		sendCommand(baseserverip, b)
	}
}
var printwindow;
function payMembershipByCheck() {
	if (checkMembershipPaypalSubmit() && confirm("Are you sure you want to pay your membership fee by check?")) {
		var a = "/widgetmembership?c=" + sitecode + "&a=profile&d=paybycheck";
		a += "&id=" + currprofile.id;
		sendCommand(baseserverip, a);
		null == printwindow && (printwindow = window.open("", "printwin", "height=800, width=800,toolbar=0,menubar=0,scrollbars=1,status=0,location=0,resizable=1"));
		a = "<html><head><title>Pay by Check</title><style>body {font:normal 12px arial, verdana, sans-serif;} td {font:normal 12px arial, verdana, sans-serif;} p { margin:5px; }</style></head><body><table cellpadding=0 cellspacing=0 width=100%><tr valign=top><td><p><span style='font-size:130%; font-weight:bold;'>Pay by Check for " + (payingforyear + '</span></p><br></td><td align=right nowrap><p><a href=# onclick="window.print();return false;">[print this page]</a></p><br></td></tr></table>');
		a += "<p>" + currwidget.check_payment_instructions + "</p><br>";
		a = a + "<table width=100%><tr valign=top><td><p><nobr><b>Name: </b>" + (currprofile.first_name + " " + currprofile.last_name + "</nobr>");
		a += "<p><b>ID: </b>" + (currprofile.custom_id ? currprofile.custom_id : "TBA") + "</p>";
		a += "<p><nobr><b>" + w_.l4 + ": </b>" + (currprofile.email ? currprofile.email : "") + "</nobr>";
		a += "<p><nobr><b>" + w_.l43 + ": </b>" + (currprofile.address ? currprofile.address : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l44 + ": </b>" + (currprofile.city ? currprofile.city : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l45 + ": </b>" + (currprofile.state ? currprofile.state : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l46 + ": </b>" + (currprofile.zip ? currprofile.zip : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l47 + ": </b>" + (currprofile.country ? currprofile.country : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l49 + ": </b>" + (currprofile.mainphone ? currprofile.mainphone : "") + "</nobr></p>";
		a += "<p><nobr><b>" + w_.l51 + ": </b>" + (currprofile.alternatephone ? currprofile.alternatephone : "") + "</nobr></p>";
		a += "</td><td width=30>&nbsp;</td><td width=45%><p><b>Fee payments:</b></p>";
		for (var b = 2; b < currfees.length; b++)
			1 == currfees[b].visibility && currperm < PERM_ADMIN || (a += "<p>",
			2 == currfees[b].type ? 0 < gEBI("fillin" + b).value.length && (a += "$" + formatCurrency(100 * gEBI("fillin" + b).value),
			a += " &nbsp; " + currfees[b].name + "</label></p>") : gEBI("cb_fee" + b).checked && (a += "$" + formatCurrency(currfees[b].amount),
			a += " &nbsp; " + currfees[b].name + "</label></p>"));
		a += "<br><p><b>Total Payment: $" + formatCurrency(totalprice) + "</b></p><center>";
		printwindow.document.write(a + "</tr></table></body></html>");
		printwindow.document.close();
		printwindow.focus();
		printwindow = null
	}
}
function saveMembership() {
	if (!checkMembershipPaypalSubmit())
		return !1;
	var a = prompt("Please enter the check number or leave blank for cash:");
	null != a && (a = 0 == a.length ? "Cash" : "Check: " + a,
	gEBI("savemembership").style.display = "none",
	a = "/widgetmembership?c=" + sitecode + "&a=profile&d=savemembership&id=" + currprofile.id + "&price=" + totalprice / 100 + "&txn_id=" + encodeURIComponent(a) + "&item_number=" + gEBI("item_number").value,
	sendCommand(baseserverip, a))
}
function showMembershipPaymentDetails(a) {
	var b = "<br><table><tr><td nowrap>&nbsp;&nbsp;&nbsp;</td><td><p class=ptp>Transaction ID: " + currfeepayments[a].txn_id
	  , c = currfeepayments[a].fee_ids.split(",");
	b += "<br></p><table>";
	for (var e = 2; e < currfees.length; e++)
		if (!(1 == currfees[e].visibility && currperm < PERM_ADMIN)) {
			for (var f = !1, g = currfees[e].amount, k = 0; k < c.length; k++) {
				var l = c[k];
				-1 != l.indexOf("(") && (g = l.substring(l.indexOf("(") + 1, l.length - 1),
				l = l.substring(0, l.indexOf("(")));
				if (currfees[e].id == l) {
					f = !0;
					break
				}
			}
			f && (b += "<tr valign=top><td><p class=ptp>$" + formatCurrency(g) + " &nbsp; </p></td><td width=10>&nbsp;</td><td><p class=ptp>" + currfees[e].name + "</p></td></tr>")
		}
	b += "</table></td></tr></table><br><br>";
	setHTML("paymentdetails" + a, b);
	setHTML("paymentdetailslink" + a, "");
	return b
}
var totalprice;
function checkMembershipPaypal() {
	totalprice = 0;
	for (var a = "", b = !1, c = !1, e = 2; e < currfees.length; e++)
		1 == currfees[e].visibility && currperm < PERM_ADMIN || (0 == currfees[e].type && (b = !0),
		gEBI("cb_fee" + e) && gEBI("cb_fee" + e).checked ? (0 == currfees[e].type && (c = !0),
		totalprice += eval(currfees[e].amount),
		0 < a.length && (a += ","),
		a += currfees[e].id) : 2 == currfees[e].type && gEBI("fillin" + e) && 0 < gEBI("fillin" + e).value.length && (isNaN(gEBI("fillin" + e).value) ? displayError("Ooops. That is not a number.") : (totalprice += 100 * eval(gEBI("fillin" + e).value),
		0 < a.length && (a += ","),
		a += currfees[e].id + "(" + 100 * eval(gEBI("fillin" + e).value) + ")",
		gEBI("errorarea").innerHTML = "")));
	setHTML("fee_total", formatCurrency(totalprice));
	gEBI("item_number").value = "membership-" + currwidget.id + "." + currprofile.id + "." + a + "." + payingforyear;
	gEBI("pp_price").value = formatCurrency(totalprice, !0);
	return [a, b && !c]
}
function checkMembershipPaypalSubmit() {
	var a = null
	  , b = checkMembershipPaypal();
	0 == b[0].length && (a = "Ooops. You must select at least one option.");
	b[1] && (a = "Ooops. You must select at least one required fee option.");
	if (null != a)
		return displayError(a),
		!1;
	gEBI("errorarea").innerHTML = "";
	return !0
}
function editMembershipProfile() {
	if (myprofilejson || currperm == PERM_ADMIN) {
		var a = "<p class=ptp><span class=et_title150bold>Edit Membership Info: " + myprofilejson.first_name + " " + myprofilejson.last_name + "</span></p><br>";
		a += "<form method='post' accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' action='" + baseserverip + "/widgetmembership' target='et_uploadtarget' onsubmit=\"return saveMembershipProfile();\">";
		if (currperm == PERM_ADMIN) {
			a += "<p class=ptp><b>ID: </b><input type=text id=et.customid name=customid style='width:100px' value='" + (myprofilejson.custom_id ? myprofilejson.custom_id : "TBA") + "' >";
			if (MEMBERSHIP_CATEGORIES) {
				a += "<p class=ptp><b>Category: </b> <select id=category name=category><option value=>";
				for (var b = 0; b < MEMBERSHIP_CATEGORIES.length; b++)
					a += "<option name=category" + b + " value=" + MEMBERSHIP_CATEGORIES[b],
					myprofilejson.category == MEMBERSHIP_CATEGORIES[b] && (a += " selected"),
					a += ">" + MEMBERSHIP_CATEGORIES[b];
				a += "</select></p>"
			}
			currwidget.custom1_title && 0 < currwidget.custom1_title.length && (a += "<p class=ptp><b>" + currwidget.custom1_title + ": </b><br><input class=et_contactinfoinput type=text id=et.custom1 name=custom1 value='" + (myprofilejson.custom1 ? myprofilejson.custom1 : "") + "' >");
			currwidget.custom2_title && 0 < currwidget.custom2_title.length && (a += "<p class=ptp><b>" + currwidget.custom2_title + ": </b><br><input class=et_contactinfoinput type=text id=et.custom2 name=custom2 value='" + (myprofilejson.custom2 ? myprofilejson.custom2 : "") + "' >")
		}
		MEMBERSHIP_COMMITTEES && 0 < MEMBERSHIP_COMMITTEES.length && (a += "<p class=ptp><b>" + MEMBERSHIP_COMMITTEES_TITLE + ":</b> (check all that apply)<br>",
		b = myprofilejson.committees,
		b || (b = myprofilejson.temp_committees),
		a += memberShipCheckBoxes(b, MEMBERSHIP_COMMITTEES, "committees"),
		a += "</p>");
		MEMBERSHIP_COMMITTEES2 && 0 < MEMBERSHIP_COMMITTEES2.length && (a += "<p class=ptp><b>" + MEMBERSHIP_COMMITTEES2_TITLE + ":</b> (check all that apply)<br>",
		b = myprofilejson.committees2,
		b || (b = myprofilejson.temp_committees2),
		a += memberShipCheckBoxes(b, MEMBERSHIP_COMMITTEES2, "committees2"),
		a += "</p>");
		MEMBERSHIP_OCCUPATION && 0 < MEMBERSHIP_OCCUPATION.length && (a += "<p class=ptp><b>" + MEMBERSHIP_OCCUPATION_TITLE + ":</b> (check all that apply)<br>",
		a += memberShipCheckBoxes(myprofilejson.occupation, MEMBERSHIP_OCCUPATION, "occupation"),
		a += "</p>");
		currwidget.medium_title && 0 < currwidget.medium_title.length && (a += "<p class=ptp><b>" + currwidget.medium_title + ": </b><br><input class=et_contactinfoinput type=text id=et.medium name=medium value='" + (myprofilejson.medium ? myprofilejson.medium : "") + "' >");
		a += "<input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveprofile value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + ">";
		a += "<input type=hidden name=id value=" + myprofilejson.id + ">";
		a = a + "<input type=hidden id=occupation name=occupation><input type=hidden id=medium name=medium><input type=hidden id=committees name=committees><input type=hidden id=committees2 name=committees2><p class=ptp><input id=savebutton class=et_savebutton type=submit value='" + (w_.l73 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.l74 + "' onclick='displayMembershipProfile(" + myprofilejson.id + ")';></form></p>");
		setHTML("adminarea", a)
	}
}
function saveMembershipProfile() {
	var a = null;
	if (gEBI("et.committees_0")) {
		a = "";
		for (var b = 0; b < MEMBERSHIP_COMMITTEES.length; b++)
			gEBI("et.committees_" + b).checked && (0 < a.length && (a += ", "),
			a += MEMBERSHIP_COMMITTEES[b]);
		0 < gEBI("et.committees_other_text").value.length && (b = gEBI("et.committees_other_text").value.replace(/,/g, ";"),
		0 < a.length && (a += ", "),
		a += b)
	}
	var c = null;
	if (gEBI("et.committees2_0")) {
		c = "";
		for (b = 0; b < MEMBERSHIP_COMMITTEES2.length; b++)
			gEBI("et.committees2_" + b).checked && (0 < c.length && (c += ", "),
			c += MEMBERSHIP_COMMITTEES2[b]);
		0 < gEBI("et.committees2_other_text").value.length && (b = gEBI("et.committees2_other_text").value.replace(/,/g, ";"),
		0 < c.length && (c += ", "),
		c += b)
	}
	var e = null;
	if (gEBI("et.occupation_0")) {
		e = "";
		for (b = 0; b < MEMBERSHIP_OCCUPATION.length; b++)
			gEBI("et.occupation_" + b).checked && (0 < e.length && (e += ", "),
			e += MEMBERSHIP_OCCUPATION[b]);
		0 < gEBI("et.occupation_other_text").value.length && (b = gEBI("et.occupation_other_text").value.replace(/,/g, ";"),
		0 < e.length && (e += ", "),
		e += b)
	}
	a && (gEBI("committees").value = a);
	c && (gEBI("committees2").value = c);
	e && (gEBI("occupation").value = e);
	gEBI("savebutton").value = "Saving...";
	gEBI("savebutton").disabled = !0;
	postcheckercnt = 0;
	posting = "profilemembership";
	postchecker = setTimeout("postChecker()", 500);
	return !0
}
;var forcedashboard;
function displayDashboard(a, b) {
	forcedashboard = a;
	saveforjuryitem = null;
	searchwords = null != b ? b : null;
	remainingcommands = 0;
	START.dashboardshows = 0;
	itemfilter = "all";
	showing = "items";
	hasseenlatentryinfo = hasseeninstructions = !1;
	curritem = currshow = null;
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=dashboard&d=widget")
}
function displayDashboardDashboard(a) {
	setCurrWidget(a);
	a = window.location.hash;
	if (null != a && null == forcedashboard) {
		if (currperm >= PERM_JURY && -1 != a.indexOf("#show=")) {
			displayShow(eval(a.substring(6)));
			return
		}
		if (-1 != a.indexOf("#profile=")) {
			a = a.substring(9);
			"mine" == a ? displayProfile(a) : displayProfile(eval(a));
			return
		}
		if (-1 != a.indexOf("#admin=") && currperm == PERM_ADMIN) {
			try {
				displayAdmin(a.substring(7))
			} catch (b) {
				setTimeout("displayDashboardDashboard();", 500)
			}
			return
		}
	}
	et_load("dashboard", "shows", "all", 0)
}
function saveOrginfo() {}
function displayDashboardShows(a) {
	currshows = a;
	if (w_.entrantskipmain && currperm == PERM_ARTIST && 1 == a.length && 2 != a[0].status)
		displayItem(a[0].id);
	else {
		window.location.hash = "dashboard";
		oldhash = window.location.hash;
		var b = getNav();
		setAppArea(b + "<span id=infoline></span><span class=et_title150bold id=dashtitle></span><span id=dashsubtitle></span><div id=showslist></div>");
		b = "";
		currperm >= PERM_SHOWADMIN && 19 >= eval(currwidget.tokens) && (b = 0 == eval(currwidget.tokens) ? w_.d1 + " <a href=# onclick=\"displayAdmin('purchase');return false;\">[" + w_.a13 + "]</a> " + w_.d2 + ".<br><br>" : w_.d3 + " " + currwidget.tokens + " " + w_.d4 + " <a href=# onclick=\"displayAdmin('purchase');return false;\">[" + w_.a13 + "]</a> " + w_.d2 + ".<br><br>");
		currperm != PERM_ADMIN || currwidget.name && 0 != currwidget.name.length || (b += "<br>&raquo; For your call listings on the EntryThingy <a href=http://www.entrythingy.com/artists target=forartists>For Artists</a> page, please enter the name of your organization in Admin -> <a href=# onclick=\"displayAdmin('prefs');return false;\" class=ptbtn>[preferences]</a></p><br><br>");
		0 < b.length && setHTML("infoline", b);
		b = "";
		currperm == PERM_ADMIN && (b = '<p class=ptb><table width=100%><tr><td align=right><input type=button onclick="editShow();return false;" class=et_button120bold value=\'' + w_.d9 + " " + w_.callforentries + "'></td></tr></table></p><br>");
		setHTML("dashsubtitle", b);
		var c = null;
		w_.dashboardfiltershowid ? c = w_.dashboardfiltershowid.toString().split(",") : -1 != window.location.href.indexOf("callfilter=") && (b = window.location.href.substring(window.location.href.indexOf("callfilter=") + 11),
		-1 != b.indexOf("#") && (b = b.substring(0, b.indexOf("#"))),
		c = b.split(","));
		b = "";
		for (var e = 0; e < a.length; e++) {
			var f = pastSubmitEndDate(a[e].submit_end_date, a[e].late_submit_end_date);
			if (c) {
				for (var g = !1, k = 0; k < c.length; k++)
					if (c[k].trim() == a[e].id) {
						g = !0;
						break
					}
				if (!g)
					continue
			}
			if (49 < e)
				break;
			0 < e && (b += "<hr class=pthr>");
			b += "<p class=ptp>";
			b += "<table width=100%><tr valign=top><td>";
			g = !1;
			currperm >= PERM_JURY ? (k = null,
			a[e].jury_end_date && (k = new Date(Date.parse(a[e].jury_end_date)),
			k.setHours(23),
			k.setMinutes(59)),
			currperm == PERM_JURY && k && new Date > k.getTime() ? (g = !0,
			b += "<a href=# onclick=\"alert('" + w_.d10 + " " + w_.callforentries + ".');return false;\" class=ptll>") : b += '<a href=# onclick="displayShow(' + a[e].id + ');return false;" class=ptll>') : 2 != a[e].status && (b += '<a href=# onclick="displayItem(' + a[e].id + ');return false;" class=ptll>');
			b += "<span style='font-size:150%; " + (w_.call_title_style ? w_.call_title_style : "") + "'>" + a[e].title;
			b += "</span>";
			if (currperm >= PERM_JURY || currperm == PERM_ARTIST && 2 != a[e].status)
				b += "</a>";
			currperm >= PERM_ADMIN && (b += ' &nbsp; <a href=# onclick="editShow(' + a[e].id + ');return false;">[' + w_.d9a + "]</a>",
			"d" == currwidget.prefs.charAt(WIDGETPREF_SHOWSORT) && (e < a.length - 1 && (b += " &nbsp;<a href=# onclick=\"moveShow('down', " + a[e].id + ');return false;" class=ptbtn>[' + w_.i76 + "]</a>"),
			0 < e && (b += " &nbsp;<a href=# onclick=\"moveShow('up', " + a[e].id + ');return false;" class=ptbtn>[' + w_.i77 + "]</a>")));
			0 < a[e].description.length && (b += "<br>" + doBRs(a[e].description));
			b += "</p><p class=pts>";
			currperm >= PERM_SHOWADMIN && (b += " " + w_.s17 + ": " + SHOWSTATUS[a[e].status] + " &nbsp; ");
			a[e].submit_end_date && (b += w_.s28 + " " + displayDate(a[e].submit_end_date, !0, !1, !1, !0) + " &nbsp; ");
			a[e].late_submit_end_date && (b += w_.s29 + " " + displayDate(a[e].late_submit_end_date, !0, !1, !1, !0) + " " + w_.d11 + " &nbsp; ");
			a[e].jury_end_date && (b += " " + w_.notificationofjuryresults + " " + displayDate(a[e].jury_end_date, !0, !1, !1, !0) + " &nbsp; ");
			a[e].show_date && (b += " " + w_.s30 + " " + displayDate(a[e].show_date, !0, !1, !1, !0));
			a[e].show_end_date && (b += " " + w_.l27 + " " + displayDate(a[e].show_end_date, !0, !1, !0, !0));
			b += "</p>";
			b += "</td><td width=10>&nbsp;</td><td align=right id=righttd" + a[e].id + ">";
			currperm >= PERM_JURY ? (b += "<input type=button value='",
			b = currperm >= PERM_SHOWADMIN ? b + "Manage" : b + "Jury",
			b += " this call' onclick=\"",
			b = currperm == PERM_JURY && g ? b + ("alert('" + w_.d10 + " " + w_.callforentries + ".')") : b + ("displayShow(" + a[e].id + ")"),
			b += ';return false;" class=et_button120bold></td>') : currperm == PERM_ARTIST && (2 == a[e].status ? (b += "<span style='font-size:150%;'>In Jury</span><br>Staff is working on the jury/selection process for this call. ",
			b += " We appreciate your patience.") : (b = !f[0] && a[e].submit_end_date || !f[1] && a[e].late_submit_end_date || !f[0] && !f[1] ? b + ("<span id=apply" + a[e].id + "></span>") : b + ("<span id=accepted" + a[e].id + "></span>"),
			b += "<span id=show" + a[e].id + "></span>"));
			b += "</td></tr></table>"
		}
		currperm == PERM_ARTIST && et_load("dashboard", "items", "all", 0);
		b += pagination("dashboard", "shows", a);
		0 == a.length && 0 == START.dashboardshows && (b += "<br><br>" + w_.l28 + " " + w_.callsforentries + ".",
		currperm == PERM_JURY && (b += "<br><br>Jurors must be assigned to calls through the call settings to see calls. <a href=http://www.entrythingy.com/faq.html>Please click over to the FAQ</a> and scroll down to the Jury section for more information."));
		currwidget.blogpost_title && currperm >= PERM_SHOWADMIN && (b += "<br><br><br><center>",
		b = 0 == currwidget.blogpost_type ? b + w_.d12 : b + w_.d12a,
		b += ": <a href=http://www.entrythingy.com/" + currwidget.blogpost_id + " target=etblog>" + currwidget.blogpost_title + "</a>",
		b += "</center>");
		0 < START.dashboardshows && (b = "<hr class=pthr>" + b);
		0 == START.dashboardshows ? setHTML("showslist", b) : setHTML("showslist" + START.dashboardshows, b);
		"no" != w_.scrollupto && scroll(0, w_.scrollupto)
	}
}
function moveShow(a, b) {
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=dashboard&d=moveshow&showid=" + b + "&dir=" + a)
}
function displayDashboardItems(a) {
	for (var b = [], c = [], e = [], f = [], g = 0; g < a.length; g++) {
		var k = ""
		  , l = a[g].description;
		20 < l.length && (l = l.substring(0, 20) + "...");
		k += '<table width=100%><tr valign=top><td align=left><a href=# onclick="displayItem(null, ' + a[g].id + ');return false;">' + a[g].id + " " + l + "</a><br>";
		k += displaySimpleDate(a[g].create_date) + ", ";
		a[g].category && 0 < a[g].category.length && (k += a[g].category + ", ");
		k += "<nobr>" + STATUS[a[g].status] + "</nobr>";
		k += '</td><td width=5>&nbsp;</td><td align=right><input type=button onclick="displayItem(null, ' + a[g].id + ");return false;\" value='";
		k = "0" == a[g].status ? k + "Complete" : k + "View";
		k += " entry' class=et_button80></td></tr></table><br>";
		b[a[g].show_id] = null == b[a[g].show_id] ? k : b[a[g].show_id] + k;
		null == c[a[g].show_id] ? c[a[g].show_id] = 1 : c[a[g].show_id]++;
		null == e[a[g].show_id] && 0 == a[g].status && (e[a[g].show_id] = "y");
		3 == a[g].status && (f[a[g].show_id] = "y")
	}
	for (showid in b)
		setHTML("show" + showid, "<table width=100%><tr><td align=left><span  class=et_title150bold>My Entries: </span><br></td></tr></table><br>" + b[showid]),
		gEBI("righttd" + showid) && (gEBI("righttd" + showid).style.width = "40%");
	for (g = 0; g < currshows.length; g++)
		(null == c[currshows[g].id] || currshows[g].max_entries > c[currshows[g].id]) && null == e[currshows[g].id] && (a = "<input type=button value='",
		a = null == c[currshows[g].id] ? a + ("Apply now' onclick=\"displayItem(" + currshows[g].id + ");") : a + ("Add another entry' onclick=\"editItem(" + currshows[g].id + ");"),
		a += 'return false;"  class=et_button150><br><br>',
		setHTML("apply" + currshows[g].id, a)),
		f[currshows[g].id] && currshows[g].acceptedinstructions && 0 < currshows[g].acceptedinstructions.length && (a = "<input type=button value='" + w_.s23a + "' onclick=\"showAcceptedInstructions(" + g + ');return false;" class=et_button150><br><br>',
		setHTML("accepted" + currshows[g].id, a))
}
function showAcceptedInstructions(a) {
	var b = getNav();
	b += "<p class=ptp><span class=et_title150bold>";
	currshows && a ? b += currshows[a].title : curritem && (b += curritem.show_name);
	b = b + "</span></p><p class=ptp><span class=et_title150bold>" + (w_.s23a + "</span></p>");
	b += "<p class=ptp>";
	null != currshows && null != a && null != currshows[a].acceptedinstructions ? b += doBRs(currshows[a].acceptedinstructions) : curritem && curritem.acceptedinstructions && (b += doBRs(curritem.acceptedinstructions));
	setAppArea(b + "</p>")
}
;var showing = "items"
  , itemcatfilter = "all"
  , itemstatusfilter = "all"
  , itemsort = "0"
  , revisionstatusfilter = "all"
  , revisionsort = "0";
function displayShow(a, b) {
	currperm < PERM_JURY ? displayDashboard() : (curritem = useshow = null,
	saveforjuryitem && saveforjuryitem.itemsview ? (setHTML("et_apparea", saveforjuryitem.itemsview),
	saveforjuryitem = null,
	b && (location.hash = "scrolltoitem" + b)) : (currperm == PERM_JURY && (showing = "items"),
	currwidget && 0 >= eval(currwidget.tokens) ? alert(w_.s1 + " " + (currperm >= PERM_SHOWADMIN ? w_.s2 : w_.s3)) : (remainingcommands = 0,
	window.location.hash = "show=" + a,
	oldhash = window.location.hash,
	START.showitems = 0,
	b = getNav(),
	b = b + "<p class=ptp id=showname></p><span id=detailsarea style='display:" + (("details" == showing ? "inline" : "none") + ";'><table cellpadding=0 cellspacing=0 width=100%><tr valign=top><td><p class=ptp><span class=et_title150bold id=detailstitle>" + w_.s4 + "</span><span id=detailseditlink></span></p></td></tr></table>"),
	b += "<span id=showinfo></span></span><span id=itemarea style='display:" + ("items" == showing ? "inline" : "none") + ";'><p class=ptp><span class=et_title150bold>" + w_.s6 + "</span><span id=itemfilter></span></p><div id=itemslist></div></span>",
	setAppArea(b),
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=show&showid=" + a))))
}
function toggleDisplay(a) {
	showing = a;
	displayShow(currshow.id)
}
function getShowNav() {
	var a = "<a href=# onclick=\"toggleDisplay('items');return false;\" class=ptbtn id=showlink>[" + w_.s7 + "]</a>";
	currperm >= PERM_SHOWADMIN && ("video" != w_upload && (a += '&nbsp; <a href=# onclick="displayArt();return false;" class=ptbtn>[' + w_.s8 + "]</a>"),
	a += "&nbsp; <a href=# onclick=\"toggleDisplay('details');return false;\" class=ptbtn id=showlink><nobr>[" + w_.s9 + "]</nobr></a>",
	a += '&nbsp; <a href=# onclick="showStats();return false;" class=ptbtn><nobr>[' + w_.s10 + "]</nobr></a>",
	a += '&nbsp; <a href=# onclick="displayDownload();return false;" class=ptbtn>[' + w_.s11 + "]</a></span>",
	a += '&nbsp; <a href=# onclick="displayTools();return false;" class=ptbtn><nobr>[' + w_.s12 + "]</nobr></a></span>",
	a += '&nbsp; <a href=# onclick="aae1();return false;" class=ptbtn><nobr>[' + w_.s13 + "]</nobr></a></span>");
	currperm == PERM_JURY && "video" != w_upload && (a += '&nbsp; <a href=# onclick="displayArt();return false;" class=ptbtn>[' + w_.s14 + "]</a>",
	"1" != currshow.prefs.charAt(SHOWPREF_VOTEFOR) || null != currshow.votecat1 && 0 != currshow.votecat1.length || (a += "&nbsp; <a href=# onclick=\"et_load('show', 'votingwall', 'all', 0, " + currshow.id + ');return false;" class=ptbtn>[voting wall]</a>'));
	return a += "&nbsp; <a href=# onclick=\"et_load('item', 'bookmarks', 'all', 0, " + currshow.id + ');return false;" class=ptbtn>[bookmarks]</a>'
}
var currcategories;
function displayShowShow(a, b) {
	lastjuryitem = null;
	null == a ? a = currshow : setCurrShow(a);
	null != b && setCurrWidget(b);
	b = "<table cellpadding=0 cellspacing=0><tr valign=center><td style='width:auto'><span class=et_title150bold>" + a.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	b += getShowNav();
	setHTML("showname", b + "</td></tr></table>");
	if (currperm >= PERM_SHOWADMIN) {
		setHTML("detailseditlink", '&nbsp; <a href=# onclick="editShow();return false;" class=ptbtn>[' + w_.s15 + ']</a>&nbsp; <a href=# onclick="deleteShow(' + currshow.id + ');return false;" class=ptbtn>[' + w_.s5 + "]</a>");
		b = "";
		if (1 == a.forartistspage || 1 != a.status || null == a.submit_end_date) {
			var c = "";
			1 == a.forartistspage && (c += "you haven't turned on the 'Publish to call list' checkbox");
			null == a.submit_end_date && (0 < c.length && (c += ", "),
			c += "you haven't set a deadline for entries");
			1 != a.status && (0 < c.length && (c += ", "),
			c += "the status of your call is not 'Show to entrants and jury'");
			b += "<br><p class=ptp>This call will not show on our <a href=https://www.entrythingy.com/forartists_calls target=cl>call list</a> because " + c + ". It may take up to 5 hours before your call is published after you change these settings.</p><br>"
		}
		b = b + "<div style='float:left; margin:0 30 0 0; min-width:300px; max-width:40%'><p class=ptp><b>" + (w_.s16 + ':</b> <a href=# onclick="displayProfile(' + a.owner_id + ');return false;">' + d(a.owner_name) + "</a></p>");
		b += "<p class=ptp><b>" + w_.s16a + ":</b> " + a.location + "</p>";
		b += "<p class=ptp><b>Publish to <a href=https://www.entrythingy.com/forartists_calls target=cl>our call list</a>, <a href=https://www.facebook.com/EntryThingy target=sm>Facebook</a> and <a href=https://www.instagram.com/entrythingy/ target=sm>Instagram</a>:</b> " + (1 != a.forartistspage ? "Yes" : "No") + "</p>";
		b += "<p class=ptp><b>" + w_.s17 + ":</b> " + SHOWSTATUS[eval(a.status)] + "</p>";
		b += "<p class=ptp><b>" + w_.s26 + ":</b><br>" + doBRs(a.description) + "</p>";
		b += "<p class=ptp><b>" + w_.s19 + ":</b> " + a.categories + "</p>";
		b += "<p class=ptp><b>" + w_.s20 + ":</b><br>" + doBRs(a.instructions) + "</p>";
		a.replacesubmit && (b += "<p class=ptp><b>" + w_.s26a + ":</b><br>" + a.replacesubmit + "</p>");
		b += "<p class=ptp><b>" + w_.s21 + ":</b><br>" + doBRs(a.addinstructions) + "</p>";
		a.couponinstructions && (b += "<p class=ptp><b>" + w_.s22 + " (" + a.couponcode + "):</b><br>" + doBRs(a.couponinstructions) + "</p>");
		b += "<p class=ptp><b>" + w_.s23 + ":</b><br>" + doBRs(a.printinstructions) + "</p>";
		b += "<p class=ptp><b>" + w_.s23a + ":</b><br>" + doBRs(a.acceptedinstructions) + "</p>";
		b += "<p class=ptp><b>" + w_.s24 + ":</b><br>" + doBRs(a.terms) + "</p>";
		b += "<p class=ptp><b>" + w_.s25 + ":</b><br>" + doBRs(a.juryprocedure) + "</p>";
		b = b + "</div><div style='float:left; min-width:300px; max-width:50%'><p class=ptp><span class=et_title120bold>" + (w_.s27 + "</span></p>");
		a.submit_end_date && (b += "<p class=ptp><b>" + w_.s28 + ":</b> " + displayDate(a.submit_end_date, !1, !1, !1, !0) + "</p>");
		a.late_submit_end_date && (b += "<p class=ptp><b>" + w_.s29 + ":</b> " + displayDate(a.late_submit_end_date, !1, !1, !1, !0) + "</p>");
		a.jury_end_date && (b += "<p class=ptp><b>" + w_.notificationofjuryresults + ":</b> " + displayDate(a.jury_end_date, !1, !1, !1, !0) + "</p>");
		a.show_date && (b += "<p class=ptp><b>" + w_.s30 + ":</b> " + displayDate(a.show_date, !1, !1, !1, !0) + "</p>");
		a.show_end_date && (b += "<p class=ptp><b>" + w_.s31 + ":</b> " + displayDate(a.show_end_date, !1, !1, !1, !0) + "</p>");
		b += "<br><p class=ptp><span class=et_title120bold>Upload Settings</span></p>";
		a.min_images && (b += "<p class=ptp><b>" + w_.s33 + ":</b> " + a.min_images + "</p>");
		a.max_images && (b += "<p class=ptp><b>" + w_.s34 + ":</b> " + a.max_images + "</p>");
		a.max_entries && (b += "<p class=ptp><b>" + w_.s35 + ":</b> " + a.max_entries + "</p>");
		b += "<p class=ptp><b>" + w_.s47b + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_IMAGEVIEWS) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s36 + ": </b>";
		for (c = 0; c < FILETYPES.length; c++)
			"1" == currshow.filetypes.charAt(c) && (b += FILETYPES[c] + " ");
		b = b + "</p><p class=ptp><b>" + (w_.s37 + ": </b>" + currshow.maxfilesize + " mb</p>");
		b += "<p class=ptp><b>" + w_.s38 + ": </b>" + currshow.minfilesize + " kb</p>";
		b += "<p class=ptp><b>" + w_.s39 + ": </b>" + currshow.minimagewidth + " px";
		b += "<p class=ptp><b>File upload:</b> ";
		"0" == currshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (b += "Required");
		"1" == currshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (b += "Optional");
		"2" == currshow.prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (b += "Either file upload or web page link");
		b = b + "</p><br><p class=ptp><span class=et_title120bold>" + (w_.s32 + "</span></p>");
		b += "<p class=ptp><b>" + w_.s40 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORSTATEMENT) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s41 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORRESUME) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s42 + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_ASKFORDESCRIPTIONOFWORK) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s48 + ":</b> " + (80 + 20 * eval(currshow.prefs.charAt(SHOWPREF_STATEMENTLENGTH))) + " characters</p>";
		b += "<p class=ptp><b>" + w_.s42a + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) ? "no" : "yes") + "</p>";
		b += "<p class=ptp><b>" + w_.s48b + ":</b> " + (80 + 50 * eval(currshow.prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH))) + " characters</p>";
		b += "<p class=ptp><b>" + w_.s43a + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) ? "no" : "yes") + "</p>";
		b += "<p class=ptp><b>" + w_.s43 + " " + dimensions + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s44 + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_ASKFORARTBOOTH) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s45 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORMATERIAL) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s46 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORPRICE) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s47 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORYEAR) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s49 + " " + w_upload + w_.s50 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORPUBLICITY) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s51 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_ASKHOWFIND) ? "yes" : "no") + "</p>";
		b += "<p class=ptp><b>" + w_.s52 + ":</b> " + ("1" == currshow.prefs.charAt(SHOWPREF_PRINTSIGNATURE) ? "yes" : "no") + "</p>";
		b += "<br><p class=ptp><span class=et_title120bold>" + w_.s53 + "</span></p>";
		b += "<p class=ptp><b>" + w_.s18 + ":</b> <span id=members>" + a.jurylinks + "</span></p>";
		b += "<p class=ptp><p class=ptp><b>" + w_.s54 + ":</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_JURYSORT) ? w_.s55 : w_.s56) + "</p>";
		b += "<p class=ptp><b>" + w_.s57 + ": </b>" + ("1" == currshow.prefs.charAt(SHOWPREF_OVERVIEWSORTPOINTS) ? w_.s58 : w_.s59) + "</p>";
		b += "<p class=ptp><b>" + w_.s60 + ": </b>" + ("1" == currshow.prefs.charAt(SHOWPREF_SHOWPROFILELINK) ? w_.s58 : w_.s59) + "</p>";
		b += "<p class=ptp><b>" + w_.s60a + ": </b>" + ("1" == currshow.prefs.charAt(SHOWPREF_SHOWPRICETOJURORS) ? w_.s58 : w_.s59) + "</p>";
		b += "<p class=ptp><b>" + w_.s61 + ": </b>" + ("0" == currshow.prefs.charAt(SHOWPREF_VOTEFOR) ? w_.s62 : w_.s63) + "</p>";
		b += "<p class=ptp><b>" + w_.s64 + "</b> " + currshow.prefs.charAt(SHOWPREF_POINTSSTART) + " <b>" + w_.s65 + "</b> " + (eval(currshow.prefs.charAt(SHOWPREF_POINTSEND)) + 1) + " <b>" + w_.s66 + "</b> " + (0 == currshow.prefs.charAt(SHOWPREF_POINTSSKIP) ? w_.s67 : currshow.prefs.charAt(SHOWPREF_POINTSSKIP)) + "</p>";
		b += "<p class=ptp><b>" + w_.s68 + ":</b> ";
		for (c = 0; 10 > c; c++)
			if (currshow["votecat" + c] && 0 < currshow["votecat" + c].length)
				0 < c && (b += ", "),
				b += currshow["votecat" + c];
			else
				break;
		b = b + "</p><br><p class=ptp><span class=et_title120bold>Notes Settings</span></p><p class=ptp><b>Show admin notes to jurors:</b> " + (("0" == currshow.prefs.charAt(SHOWPREF_ADMINNOTESFORJURORS) ? "no" : "yes") + "</p>");
		b += "<p class=ptp><b>Enable juror notes:</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_JURORNOTES) ? "no" : "yes") + "</p>";
		b += "<p class=ptp><b>Show juror notes to entrants:</b> " + ("0" == currshow.prefs.charAt(SHOWPREF_JURORNOTESFORENTRANTS) ? "no" : "yes") + "</p>";
		b += "</div><div style='clear:both'></div>"
	} else
		currperm == PERM_JURY && a.juryprocedure ? (gEBI("detailsarea").style.display = "inline",
		setHTML("detailstitle", w_.s69),
		b = "<p class=ptp>" + doBRs(a.juryprocedure) + "</p>") : (setHTML("detailstitle", ""),
		b = "");
	setHTML("showinfo", b);
	b = "";
	currcategories = [];
	a.categories && 0 < a.categories.length && (currcategories = a.categories.split(",").map(function(a) {
		return a.trim()
	}));
	if (currperm >= PERM_SHOWADMIN) {
		if (0 < currcategories.length) {
			b += " &nbsp;<select id=filteritemscat onchange=\"filterItems('show', 'items');\" style='width:150px'><option value=all" + ("all" == itemcatfilter ? " selected" : "") + ">" + w_.s70;
			for (c = 0; c < currcategories.length; c++)
				b += '<option value="' + currcategories[c] + '"',
				itemcatfilter == currcategories[c] && (b += " selected"),
				b += ">" + currcategories[c];
			b += "</select>"
		}
		b += " &nbsp;<select id=filteritemsstatus onchange=\"filterItems('show', 'items');\"><option value=all" + ("all" == itemstatusfilter ? " selected" : "") + ">" + w_.s71;
		for (c = 0; c < STATUS.length; c++)
			b += "<option value=" + c,
			itemstatusfilter == c && (b += " selected"),
			b += ">" + STATUS[c];
		b += "</select> &nbsp;<input type=text id=searchwords";
		null != searchwords && (b += ' value="' + searchwords + '"');
		b += " style='width:60px' title='" + w_.s72 + "' onkeyup=\"search('items');\">";
		b += " &nbsp;" + w_.s72a + ": <select id=sortitems onchange=\"filterItems('show', 'items');\">";
		for (c = 0; c < SORT.length; c++)
			b += '<option value="' + c + '"',
			itemsort == c && (b += " selected"),
			b += ">" + SORT[c];
		for (c = a = 0; 10 > c && !(currshow["votecat" + c] && 0 < currshow["votecat" + c].length && 1 < ++a); c++)
			;
		if (1 < a)
			for (c = 0; 10 > c; c++)
				currshow["votecat" + c] && 0 < currshow["votecat" + c].length && (b += '<option value="' + (SORT.length + c) + '"',
				itemsort == SORT.length + c && (b += " selected"),
				b += ">" + currshow["votecat" + c]);
		b += "</select>"
	}
	setHTML("itemfilter", b);
	if (currperm >= PERM_SHOWADMIN)
		et_load("show", "items", "all", 0, currshow.id);
	else if (currperm == PERM_JURY)
		if (0 < currcategories.length) {
			b = "<p class=ptp>" + w_.s73 + ":</p><br>";
			for (c = 0; c < currcategories.length; c++)
				b += "<p class=ptp><a href=# onclick=\"displayJuryItemByCat('" + currcategories[c] + "');return false;\">" + currcategories[c] + "</a> <span id='jurycat" + currcategories[c] + "'></span></p>";
			sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=show&d=entriespercat&showid=" + currshow.id);
			setHTML("itemslist", b)
		} else
			et_load("show", "items", "all", 0, currshow.id)
}
function displayBookmarks(a) {
	var b = getNav();
	b += "<p class=ptp><table cellpadding=0 cellspacing=0><tr valign=center><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	b += getShowNav();
	b += "</td></tr></table></p><p class=ptp><span class=et_title150bold>My Bookmarked Entries</span>";
	0 < a.length && (b += '&nbsp; <a href=# onclick="deleteAllBookmarks();return false;">[delete all bookmarks]</a>');
	b += "</p>";
	0 == a.length && (b += "<p class=ptp>You have not saved any bookmarks. Click into an entry and click [bookmark] to bookmark an entry which will then show here.</p>");
	for (var c = 0; c < a.length; c++) {
		0 < c && (b += "<hr class=pthr>");
		b += "<p class=ptp><a name=scrolltoitem" + a[c].id + "></a>";
		b += '<a href=# onclick="displayJuryItem(' + a[c].id + ", 'imagesview');return false;\">" + a[c].show_id + "." + a[c].id + " " + a[c].description + '</a> &nbsp; <a href=# onclick="deleteBookmark(' + a[c].id + ');return false;">[delete this bookmark]</a><br>';
		if (a[c].revision_ids && 0 < a[c].revision_ids.length) {
			b += "<p class=ptp><table cellpadding=0 cellspacing=0><tr valign=top>";
			for (var e = a[c].revision_ids, f, g = 0; -1 != (f = e.indexOf(",")); ) {
				var k = e.substring(0, f);
				try {
					e = e.substring(f + 1)
				} catch (m) {
					e = ""
				}
				b += "<td width=60>";
				f = "";
				a[c].dimensions && (f = a[c].dimensions.replace(/'/g, ""));
				var l = "";
				a[c].title && (l = a[c].title.replace(/'/g, ""));
				b += '<a href=# onclick="showImage(' + a[c].id + ", '" + l + "', '" + f + "');return false;\">";
				b += "<img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].id + ".";
				b += k;
				b += "_thumb.jpg border=0 width=50>";
				b += "</a>";
				b += "</td>";
				g++
			}
		}
		b += "</table></p>"
	}
	setAppArea(b)
}
function deleteBookmark(a) {
	confirm("Are you sure you want to delete this bookmark?") && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=deletebookmark&itemid=" + a + "&showid=" + currshow.id)
}
function deleteAllBookmarks() {
	confirm("Are you sure you want to delete all of your bookmarks for this call?") && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=deleteallbookmarks&showid=" + currshow.id)
}
function displayEntriesPerCat(a) {
	for (var b = 0; b < currcategories.length; b++)
		if (a[currcategories[b]]) {
			var c = "(" + a[currcategories[b]] + " ";
			c = "0" == currshow.prefs.charAt(SHOWPREF_VOTEFOR) ? "1" == a[currcategories[b]] ? c + (w_.s74 + ")") : c + (w_.s75 + ")") : "1" == a[currcategories[b]] ? c + (w_.s74a + ")") : c + (w_.s75a + ")");
			setHTML("jurycat" + currcategories[b], c)
		}
}
var searchwords;
function doSearch(a) {
	searchtimer = null;
	searchwords = 0 < gEBI("searchwords").value.length ? gEBI("searchwords").value : null;
	et_load("show", a, "all", 0, currshow.id)
}
var searchtimer;
function search(a) {
	searchtimer && clearTimeout(searchtimer);
	searchtimer = setTimeout("doSearch('" + a + "')", 800)
}
function displayShowItems(a) {
	curritems = a;
	for (var b = "", c = 0; c < a.length && !(49 < c); c++) {
		b = 0 < c ? b + "<hr class=pthr>" : b + "<br>";
		currperm >= PERM_SHOWADMIN && (b += "<div class=ptp style='float:right'>",
		b += "<span id=editspacearea" + a[c].id,
		3 != a[c].status && 8 != a[c].status && (b += " style='display:none'"),
		b += "><span id=editspaceentry" + a[c].id + "></span><span title='" + w_.s76 + "' id=editspace" + a[c].id + ' onclick="editSpace(' + a[c].id + ",'item');\">" + w_.s77 + ": ",
		b = a[c].space && 0 < a[c].space.length ? b + a[c].space : b + "?",
		b += "</span><span id=editspacebuttons" + a[c].id + "></span>",
		b += "</span>",
		b += "<br><span id=editawardarea" + a[c].id,
		3 != a[c].status && 8 != a[c].status && (b += " style='display:none'"),
		b += "><span id=editawardentry" + a[c].id + "></span><span title='" + w_.s76 + "' id=editaward" + a[c].id + ' onclick="editAward(' + a[c].id + ",'item');\">" + w_.s77c + ": ",
		b = a[c].itemaward && 0 < a[c].itemaward.length ? b + a[c].itemaward : b + "?",
		b += "</span><span id=editawardbuttons" + a[c].id + "></span>",
		b += "</span>",
		b += "</div>");
		b += "<div class=ptp><a name=scrolltoitem" + a[c].id + "></a>";
		currperm >= PERM_SHOWADMIN && (b += editStatus(a[c].status, "item", a[c].id));
		var e = a[0].show_id + "." + a[c].id;
		a[c].useritemid && 0 < a[c].useritemid.length && (e = a[c].useritemid);
		b = currperm >= PERM_SHOWADMIN ? b + ("<span id=edituseridentry" + a[c].id + "></span><span id=edituserid" + a[c].id + ' onclick="editUserID(' + a[c].id + ');">' + e + "</span><span id=edituseridbuttons" + a[c].id + "></span>") : b + e;
		b += " &nbsp;";
		b += '<a href=# onclick="displayJuryItem(' + a[c].id + ", 'itemsview');return false;\" id=itemdescriptionlink" + a[c].id + " style='display:";
		b = 0 == a[c].status ? b + "none" : b + "inline";
		b += "'>";
		e = a[c].description;
		0 == e.length && (e = w_.s78);
		b += e;
		b += "</a>";
		b += "<span id=itemdescription" + a[c].id + " style='display:";
		b = 0 < a[c].status ? b + "none" : b + "inline";
		b += "'>";
		b += e;
		b += "</span></div>";
		currperm >= PERM_SHOWADMIN ? (b += "<div class=pts>",
		b += '<a href=# onclick="displayProfile(' + a[c].owner_id + ');return false;">' + d(a[c].owner_name) + "</a> " + w_.s77a + " " + displaySimpleDate(a[c].create_date),
		a[c].category && 0 < a[c].category.length && (b += " in <span id=editcategory" + a[c].id + '><span onclick="editCategory(' + a[c].id + ", '" + a[c].category + "')\" style='cursor: pointer' title='click to change'>" + a[c].category + "</span></span>"),
		a[c].votes && 0 < a[c].votes ? (b += "; " + a[c].points + " ",
		b = 1 != a[c].points ? b + w_.s79 : b + w_.s80,
		b += ", " + a[c].votes + " ",
		1 < a[c].votes ? (e = 0,
		0 < a[c].votes && (e = Math.round(a[c].points / a[c].votes * 100) / 100),
		b += w_.s81 + ", " + e + " " + w_.s83) : b += w_.s82) : b += "; " + w_.s84,
		a[c].voter_votes && (b += "; " + a[c].voter_votes + " fb points"),
		a[c].length && (b += "; " + Math.round(a[c].length / 1E4) / 100 + "mb"),
		"1" == currshow.prefs.charAt(SHOWPREF_ASKFORPUBLICITY) && (b += "; <a href=# id=togglepublicity" + a[c].id + ' onclick="togglePublicity(' + a[c].id + "); return false;\" title='click to change'>",
		b = a[c].image_publicity && 1 == a[c].image_publicity ? b + w_.s85 : b + w_.s86,
		b += "</a>"),
		b += "<span id=itemvotes" + a[c].id + "></span>",
		b += " &nbsp;<span id=itemnotelink" + a[c].id + '><a href=# onclick="itemNotes(' + a[c].id + '); return false;" class=ptbtn>[' + w_.s87a + (a[c].notecnt && 0 < a[c].notecnt ? " (" + a[c].notecnt + ")" : "") + "]</a></span>",
		b += ' &nbsp;<a href=# onclick="deleteItem(' + a[c].id + ');return false;" class=ptbtn>[' + w_.s87 + "]</a>",
		a[c].how_find && 0 < a[c].how_find.length && (b += "<br><font size=-2><i>" + a[c].how_find + "</i></font>"),
		b += "</div>",
		b += "<span id=itemnotes" + a[c].id + "></span>") : currperm == PERM_JURY && (e = "",
		a[c].category && 0 < a[c].category.length ? (e += "submitted in " + a[c].category,
		"1" == currshow.prefs.charAt(SHOWPREF_SHOWPROFILELINK) && (e += ' by <a href=# onclick="displayProfile(' + a[c].owner_id + ');return false;">' + a[c].owner_name + "</a>")) : "1" == currshow.prefs.charAt(SHOWPREF_SHOWPROFILELINK) && (e += 'submitted by <a href=# onclick="displayProfile(' + a[c].owner_id + ');return false;">' + a[c].owner_name + "</a>"),
		0 < e.length && (b += "<div class=pts>" + e + "</div>"))
	}
	b += pagination("show", "items", a, currshow.id);
	0 == a.length && 0 == START.showitems && (b += "<br><br>",
	b = "all" == itemcatfilter && "all" == itemstatusfilter && null == searchwords ? b + (w_.s88 + " " + w_.callforentries + ". ") : b + w_.s89);
	0 < START.showitems && (b = "<hr class=pthr>" + b);
	0 == START.showitems ? setHTML("itemslist", b) : setHTML("itemslist" + START.showitems, b);
	"no" != w_.scrollupto && 0 == START.showrevisions && window.scroll(0, w_.scrollupto)
}
var itemnotesid, itemnotescnt, itemnoteswidth;
function itemNotes(a, b) {
	itemnotesid && (setHTML("itemnotes" + itemnotesid, ""),
	setHTML("itemnotelink" + itemnotesid, '<a href=# onclick="itemNotes(' + itemnotesid + '); return false;" class=ptbtn>[' + w_.s87a + (0 < itemnotescnt ? " (" + itemnotescnt + ")" : "") + "]</a>"));
	itemnotesid = a;
	itemnoteswidth = b;
	setHTML("itemnotelink" + a, loadimage + " &nbsp;" + w_.t9);
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=notes&itemid=" + a)
}
function displayItemNotes(a) {
	var b = "";
	currperm > PERM_ARTIST && (setHTML("itemnotelink" + itemnotesid, ""),
	b += "<p class=ptp><textarea type=text style='width:500px; height:50px;' id=addnote" + itemnotesid + "></textarea><br><input type=button value='" + w_.s87b + "' onclick='addNote(" + itemnotesid + ");'></p>");
	for (var c = 0; c < a.length; c++) {
		b += "<p class=ptp>" + a[c].note + "<br><font size=-2>" + w_.s77b + " " + a[c].user_name;
		a[c].user_permission == PERM_JURY && currperm > PERM_ARTIST && (b += " (Juror)");
		b += ", ";
		b += displayDate(a[c].create_date, !1, !1, !1, !1);
		if (currperm >= PERM_SHOWADMIN || currperm == PERM_JURY && a[c].user_id == curruser.id)
			b += ' &nbsp;<a href=# onclick="deleteNote(' + a[c].item_id + "," + a[c].id + ');return false;" class=ptbtn>[' + w_.s87 + "]</a>";
		b += "</font></p>"
	}
	0 == a.length && (b += "<p class=ptp>There are no notes.</p>");
	itemnotescnt = a.length;
	setHTML("itemnotes" + itemnotesid, b + "<br>")
}
function addNote(a) {
	0 == gEBI("addnote" + a).value.length ? alert(w_.s87c) : (itemnotesid = a,
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=addnote&itemid=" + a + "&note=" + encodeURIComponent(gEBI("addnote" + a).value)))
}
function deleteNote(a, b) {
	confirm("Are you sure you want to delete this note?") && (itemnotesid = a,
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=deletenote&itemid=" + a + "&noteid=" + b))
}
function displayArt(a) {
	currperm < PERM_JURY || (curritem = null,
	saveforjuryitem && saveforjuryitem.imagesview ? (setHTML("et_apparea", saveforjuryitem.imagesview),
	saveforjuryitem = null,
	a && (location.hash = "scrolltoitem" + a)) : (remainingcommands = 0,
	showing = "items",
	START.showrevisions = 0,
	a = getNav(),
	a = a + "<p class=ptp id=showname></p><p class=ptp><span class=et_title150bold>" + (_w_("s78a", [W_upload]) + "</span><span id=revisionfilter></span></p><div id=revisionslist></div></span>"),
	setAppArea(a),
	et_load("show", "revisions", "all", 0, currshow.id)))
}
function displayShowRevisions(a) {
	"1" == currshow.prefs.charAt(SHOWPREF_VOTEFOR) ? displayShowRevisions_1(a) : displayShowRevisions_0(a)
}
function displayShowRevisions_0(a) {
	var b = "<table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	b += getShowNav();
	setHTML("showname", b + "</td></tr></table>");
	b = "";
	currcategories = [];
	if (currshow.categories && 0 < currshow.categories.length) {
		currcategories = currshow.categories.split(",").map(function(a) {
			return a.trim()
		});
		b += " &nbsp;<select id=filteritemscat onchange=\"filterRevisions('show', 'revisions');\" style='width:150px'><option value=all" + ("all" == itemcatfilter ? " selected" : "") + ">" + w_.s70;
		for (var c = 0; c < currcategories.length; c++)
			b += '<option value="' + currcategories[c] + '"',
			itemcatfilter == currcategories[c] && (b += " selected"),
			b += ">" + currcategories[c];
		b += "</select>"
	}
	if (currperm >= PERM_SHOWADMIN) {
		b += " &nbsp;<select id=filterrevisionstatus onchange=\"filterRevisions('show', 'revisions');\"><option value=all" + ("all" == revisionstatusfilter ? " selected" : "") + ">" + w_.s71;
		for (c = 0; c < STATUS.length; c++)
			b += "<option value=" + c,
			revisionstatusfilter == c && (b += " selected"),
			b += ">" + STATUS[c];
		b += "</select>"
	}
	currperm == PERM_JURY && (b += " &nbsp;Find entry number:");
	b += " &nbsp;<input type=text id=searchwords";
	null != searchwords && (b += ' value="' + searchwords + '"');
	b += " style='width:60px' title='";
	currperm >= PERM_SHOWADMIN && (b += w_.s72);
	b += "' onkeyup=\"search('revisions');\"> ";
	if (currperm >= PERM_SHOWADMIN) {
		b += " &nbsp;" + w_.s72a + ": <select id=sortrevisions onchange=\"filterRevisions('show', 'revisions');\">";
		for (c = 0; c < SORT.length; c++)
			b += '<option value="' + c + '"',
			revisionsort == c && (b += " selected"),
			b += ">" + SORT[c];
		var e = 0;
		for (c = 0; 10 > c && !(currshow["votecat" + c] && 0 < currshow["votecat" + c].length && 1 < ++e); c++)
			;
		if (1 < e)
			for (c = 0; 10 > c; c++)
				currshow["votecat" + c] && 0 < currshow["votecat" + c].length && (b += '<option value="' + (SORT.length + c) + '"',
				revisionsort == SORT.length + c && (b += " selected"),
				b += ">" + currshow["votecat" + c]);
		b += "</select>"
	}
	setHTML("revisionfilter", b);
	b = "";
	for (c = 0; c < a.length && !(49 < c); c++) {
		0 < c && (b += "<hr class=pthr>");
		b += "<p class=ptp><a name=scrolltoitem" + a[c].id + "></a>";
		currperm >= PERM_SHOWADMIN && (b += "<table width=100%><tr valign=top><td>",
		b += editStatus(a[c].status, "item", a[c].id) + " ");
		b += '<a href=# onclick="displayJuryItem(' + a[c].id + ", 'imagesview');return false;\">" + a[c].show_id + "." + a[c].id + " " + a[c].description + "</a><br>";
		a[c].category && 0 < a[c].category.length && (b += " in " + a[c].category);
		currperm >= PERM_SHOWADMIN && (b += " " + w_.s77b + ' <a href=# onclick="displayProfile(' + a[c].owner_id + ');return false;">' + d(a[c].owner_name) + "</a> " + w_.s77a + " " + displaySimpleDate(a[c].create_date));
		if (currperm >= PERM_SHOWADMIN || "1" == currshow.prefs.charAt(SHOWPREF_OVERVIEWSORTPOINTS)) {
			if (null == a[c].votes || 0 == a[c].votes)
				b += ", " + w_.s84;
			else {
				for (var f = e = 0, g = 0; 10 > g; g++)
					currshow["votecat" + g] && 0 < currshow["votecat" + g].length && (b += ", ",
					b += currshow["votecat" + g] + ": ",
					a[c]["points" + g] && (b += a[c]["points" + g],
					f += eval(a[c]["points" + g])),
					e++);
				1 < e && (b += ", Total: " + f)
			}
			a[c].voter_votes && currperm >= PERM_SHOWADMIN && (b += "<br>" + a[c].voter_votes + " fb points")
		}
		currperm >= PERM_SHOWADMIN && (b += " &nbsp;<span id=itemnotelink" + a[c].id + '><a href=# onclick="itemNotes(' + a[c].id + '); return false;" class=ptbtn>[' + w_.s87a + (a[c].notecnt && 0 < a[c].notecnt ? " (" + a[c].notecnt + ")" : "") + "]</a></span>",
		b += "<span id=itemnotes" + a[c].id + "></span>",
		b += "</td><td width=10>&nbsp;</td><td align=right nowrap>",
		b += "<span id=editspacearea" + a[c].id,
		3 != a[c].status && 8 != a[c].status && (b += " style='display:none'"),
		b += "><span id=editspaceentry" + a[c].id + "></span><span title='click to edit' id=editspace" + a[c].id + ' onclick="editSpace(' + a[c].id + ",'item');\">" + w_.s77 + ": ",
		b = a[c].space && 0 < a[c].space.length ? b + a[c].space : b + "?",
		b += "</span><span id=editspacebuttons" + a[c].id + "></span></span>",
		b += "<br><span id=editawardarea" + a[c].id,
		3 != a[c].status && 8 != a[c].status && (b += " style='display:none'"),
		b += "><span id=editawardentry" + a[c].id + "></span><span title='click to edit' id=editaward" + a[c].id + ' onclick="editAward(' + a[c].id + ",'item');\">" + w_.s77c + ": ",
		b = a[c].itemaward && 0 < a[c].itemaward.length ? b + a[c].itemaward : b + "?",
		b += "</span><span id=editawardbuttons" + a[c].id + "></span></span>",
		b += "</td></tr></table>");
		b += "</p>";
		if (a[c].revision_ids && 0 < a[c].revision_ids.length) {
			b += "<p class=ptp><table cellpadding=0 cellspacing=0><tr valign=top>";
			e = a[c].revision_ids;
			var k = 0;
			for (f = 0; -1 != (k = e.indexOf(",")); ) {
				0 < f && (b += "<td width=10>&nbsp;</td>");
				g = e.substring(0, k);
				try {
					e = e.substring(k + 1)
				} catch (m) {
					e = ""
				}
				b += "<td width=120>";
				if (0 < a[c].status) {
					k = "";
					a[c].dimensions && (k = a[c].dimensions.replace(/'/g, ""));
					var l = "";
					a[c].title && (l = a[c].title.replace(/'/g, ""));
					b += '<a href=# onclick="showImage(' + g + ", '" + l + "', '" + k + "');return false;\">"
				}
				b += "<img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].id + ".";
				b += g;
				b += "_thumb.jpg border=0 width=120>";
				0 < a[c].status && (b += "</a>");
				b += "</td>";
				f++
			}
			b += "</table></p>"
		}
	}
	b += pagination("show", "revisions", a, currshow.id);
	0 == a.length && 0 == START.showrevisions && (b += "<br><br>",
	b = "all" != itemcatfilter || "all" != revisionstatusfilter || null != searchwords && 0 != searchwords.length ? b + "No entries match your filter." : b + (w_.s88 + " " + w_.callforentries + "."));
	0 < START.showrevisions && (b = "<hr class=pthr>" + b);
	0 == START.showrevisions ? setHTML("revisionslist", b) : setHTML("revisionslist" + START.showrevisions, b);
	"no" != w_.scrollupto && 0 == START.showrevisions && window.scroll(0, w_.scrollupto)
}
function displayShowRevisions_1(a) {
	var b = "<table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	b += getShowNav();
	setHTML("showname", b + "</td></tr></table>");
	b = "";
	if (currperm >= PERM_SHOWADMIN) {
		currcategories = [];
		if (currshow.categories && 0 < currshow.categories.length) {
			currcategories = currshow.categories.split(",").map(function(a) {
				return a.trim()
			});
			b += " &nbsp;<select id=filteritemscat onchange=\"filterRevisions('show', 'revisions');\" style='width:150px'><option value=all" + ("all" == itemcatfilter ? " selected" : "") + ">All Categories";
			for (var c = 0; c < currcategories.length; c++)
				b += '<option value="' + currcategories[c] + '"',
				itemcatfilter == currcategories[c] && (b += " selected"),
				b += ">" + currcategories[c];
			b += "</select>"
		}
		b += " &nbsp;<select id=filteritemsstatus onchange=\"filterRevisions('show', 'revisions');\"><option value=all" + ("all" == itemstatusfilter ? " selected" : "") + ">All Entry Statuses";
		for (c = 0; c < STATUS.length; c++)
			b += "<option value=" + c,
			itemstatusfilter == c && (b += " selected"),
			b += ">" + STATUS[c];
		b = b + "</select> &nbsp;<select id=filterrevisionstatus onchange=\"filterRevisions('show', 'revisions');\"><option value=all" + (("all" == revisionstatusfilter ? " selected" : "") + ">All Piece Statuses");
		for (c = 0; c < REVISIONSTATUS.length; c++)
			b += "<option value=" + c,
			revisionstatusfilter == c && (b += " selected"),
			b += ">" + REVISIONSTATUS[c];
		b += "</select>"
	}
	currperm == PERM_JURY && (b += " &nbsp;Find entry number:");
	b += " &nbsp;<input type=text id=searchwords";
	null != searchwords && (b += ' value="' + searchwords + '"');
	b += " style='width:60px' title='";
	currperm >= PERM_SHOWADMIN && (b += w_.s72);
	b += "' onkeyup=\"search('revisions');\">";
	if (currperm >= PERM_SHOWADMIN) {
		b += " &nbsp;" + w_.s72a + ": <select id=sortrevisions onchange=\"filterRevisions('show', 'revisions');\">";
		for (c = 0; c < REVISIONSORT.length; c++)
			b += '<option value="' + c + '"',
			revisionsort == c && (b += " selected"),
			b += ">" + REVISIONSORT[c];
		var e = 0;
		for (c = 0; 10 > c && !(currshow["votecat" + c] && 0 < currshow["votecat" + c].length && 1 < ++e); c++)
			;
		if (1 < e)
			for (c = 0; 10 > c; c++)
				currshow["votecat" + c] && 0 < currshow["votecat" + c].length && (b += '<option value="' + (REVISIONSORT.length + c) + '"',
				revisionsort == REVISIONSORT.length + c && (b += " selected"),
				b += ">" + currshow["votecat" + c]);
		b += "</select>"
	}
	setHTML("revisionfilter", b);
	b = "";
	for (c = 0; c < a.length && !(49 < c); c++) {
		0 < c && (b += "<hr class=pthr>");
		b += "<p class=ptp><table cellpadding=0 cellspacing=0 width=100%><tr valign=top>";
		if (null != a[c].has_thumb) {
			e = "";
			a[c].dimensions && (e = a[c].dimensions.replace(/'/g, ""));
			var f = "";
			a[c].title && (f = a[c].title.replace(/'/g, ""));
			b += '<td width=150><a href=# onclick="showImage(' + a[c].id + ", '" + f + "', '" + e + "');return false;\">";
			b += "<img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + ".";
			b = a[c].upload_id ? b + a[c].upload_id : b + a[c].id;
			b += "_thumb";
			0 < a[c].filenumber && (b += "!" + a[c].filenumber);
			b += ".jpg border=0 width=150></a>";
			b += "</td><td width=20>&nbsp;</td>"
		}
		b += '<td><a href=# onclick="displayJuryItem(' + a[c].item_id + ", 'imagesview');return false;\">";
		b += a[c].show_id + "." + a[c].item_id + "." + a[c].id + " ";
		b += a[c].title + "</a>";
		null == a[c].has_thumb && (b += "<br>" + w_.s90 + ": <a href=" + revisionLink(a[c].id) + ">" + a[c].link.substring(5) + "</a>");
		b += "<p class=pts>";
		currperm >= PERM_SHOWADMIN && (b += w_.s77b + ' <a href=# onclick="displayProfile(' + a[c].owner_id + ');return false;">' + d(a[c].owner_name) + "</a> " + w_.s77a + " " + displaySimpleDate(a[c].create_date) + "<br>");
		"0" == currshow.prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && (b += w_.s91 + ": ",
		b = 0 == a[c].type ? b + w_.s92 : b + w_.s93,
		b += "<br>");
		a[c].description && 0 < a[c].description.length && (b += "Description: " + a[c].description + "<br>");
		a[c].dimensions && 0 < a[c].dimensions.length && (b += Dimensions + ": " + a[c].dimensions + "<br>");
		a[c].material && 0 < a[c].material.length && (b += w_.s94 + ": " + a[c].material + "<br>");
		a[c].price && 0 < a[c].price.length && (currperm == PERM_JURY && "1" == currshow.prefs.charAt(SHOWPREF_SHOWPRICETOJURORS) || currperm >= PERM_SHOWADMIN) && (b += w_.s95 + ": " + a[c].price + "<br>");
		a[c].year && 0 < a[c].year.length && (b += w_.s96 + ": " + a[c].year + "<br>");
		a[c].itemdescription && 0 < a[c].itemdescription.length && (b += "entry description: " + a[c].itemdescription + "<br>");
		a[c].statement && 0 < a[c].statement.length && (b += "statement: " + a[c].statement + "<br>");
		b += "</p></td><td width=20>&nbsp;</td><td align=right nowrap>";
		if (currperm >= PERM_SHOWADMIN || "1" == currshow.prefs.charAt(SHOWPREF_OVERVIEWSORTPOINTS)) {
			b += "<table cellpadding=0 cellspacing=0>";
			for (e = 0; 10 > e; e++)
				currshow["votecat" + e] && 0 < currshow["votecat" + e].length && (b += "<tr valign=top><td>",
				b += currshow["votecat" + e] + ": &nbsp;</td><td align=right nowrap>",
				a[c]["points" + e] && (b += a[c]["points" + e]),
				b += "</td></tr>");
			b += "<tr><td colspan=2>" + a[c].points + " " + w_.s97 + " " + a[c].votes + " " + w_.s98 + "</td></tr>";
			b += "</table>";
			a[c].voter_votes && currperm >= PERM_SHOWADMIN && (b += a[c].voter_votes + " fb points<br>")
		}
		currperm >= PERM_SHOWADMIN && (b += editStatus(a[c].status, "revision", a[c].id),
		b += "<span id=editspacearea" + a[c].id,
		1 != a[c].status && (b += " style='display:none'"),
		b += "><br><span id=editspaceentry" + a[c].id + "></span><span title='" + w_.s76 + "' id=editspace" + a[c].id + ' onclick="editSpace(' + a[c].id + ",'revision');\">" + w_.s77 + ": ",
		b = a[c].space && 0 < a[c].space.length ? b + a[c].space : b + "?",
		b += "</span><span id=editspacebuttons" + a[c].id + "></span>",
		b += "</span>",
		b += "<br><span id=editawardarea" + a[c].id,
		1 != a[c].status && (b += " style='display:none'"),
		b += "><span id=editawardentry" + a[c].id + "></span><span title='" + w_.s76 + "' id=editaward" + a[c].id + ' onclick="editAward(' + a[c].id + ",'revision');\">" + w_.s77c + ": ",
		b = a[c].revisionaward && 0 < a[c].revisionaward.length ? b + a[c].revisionaward : b + "?",
		b += "</span><span id=editawardbuttons" + a[c].id + "></span>",
		b += "</span>");
		b += "</td></tr></table></p>"
	}
	b += pagination("show", "revisions", a, currshow.id);
	0 == a.length && 0 == START.showrevisions && (b += "<br><br>",
	b = "all" != revisionstatusfilter || null != searchwords && 0 != searchwords.length ? b + w_.s100 : b + (w_.s99 + " " + w_.callforentries + "."));
	0 < START.showrevisions && (b = "<hr class=pthr>" + b);
	0 == START.showrevisions ? setHTML("revisionslist", b) : setHTML("revisionslist" + START.showrevisions, b);
	"no" != w_.scrollupto && 0 == START.showrevisions && window.scroll(0, w_.scrollupto)
}
function displayVotingWall(a) {
	currrevisions = a;
	var b = getNav();
	b += "<p class=ptp id=showname><table cellpadding=0 cellspacing=0><tr><td style='width:auto'><span class=et_title150bold>" + currshow.title + "</span></td><td style='width:auto'>&nbsp; &nbsp;</td><td style='width:auto'>";
	b += getShowNav();
	b += "</td></tr></table></p><p class=ptp><span class=et_title150bold>Voting Wall</span>";
	if (0 < currcategories.length) {
		b += " &nbsp;<select onchange=\"itemcatfilter=this.value; et_load('show', 'votingwall', 'all', 0, " + currshow.id + ");\" style='width:150px'><option value=all" + ("all" == itemcatfilter ? " selected" : "") + ">" + w_.s70;
		for (var c = 0; c < currcategories.length; c++)
			b += '<option value="' + currcategories[c] + '"',
			itemcatfilter == currcategories[c] && (b += " selected"),
			b += ">" + currcategories[c];
		b += "</select>"
	}
	b += "&nbsp; <a href=# onclick=\"et_load('show', 'votingwall', 'all', 0, " + currshow.id + ');return false;" class=ptbtn>[resort by points]</a></p><div id=revisionslist>';
	for (c = 0; c < a.length; c++) {
		b += "<div style='float:left; margin:0 20 0 0;'>";
		b += "<p class=ptp>";
		if (1 == a[c].has_thumb) {
			var e = "";
			a[c].dimensions && (e = a[c].dimensions.replace(/'/g, ""));
			var f = "";
			a[c].title && (f = a[c].title.replace(/'/g, ""));
			b += '<a href=# onclick="showImage(' + a[c].id + ", '" + f + "', '" + e + "');return false;\"><img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + ".";
			b = a[c].upload_id ? b + a[c].upload_id : b + a[c].id;
			b += "_thumb";
			0 < a[c].filenumber && (b += "!" + a[c].filenumber);
			b += ".jpg border=0 height=220 title='" + w_.i90 + "'";
			1 == a[c].type && currperm == PERM_JURY && (b += " style='display:none' id=boothimage" + c);
			b += "></a>";
			if (a[c].views && 0 < a[c].views.length) {
				e = [];
				for (var g = f = 0, k; -1 != (k = a[c].views.indexOf(",", g)); )
					e[f] = a[c].views.substring(g, k),
					g = k + 1,
					f++;
				e[f] = a[c].views.substring(g);
				b += "<br><table cellpadding=0 cellspacing=0 width=220><tr valign=top>";
				for (f = 0; f < e.length; f++)
					b += '<td align=center><a href=# onclick="showView(' + c + "," + e[f] + ');return false;"><img src=' + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + "." + a[c].id + ".view." + e[f] + "_thumb.jpg border=0 width=70 title='" + w_.i90 + "'></a></td>",
					2 > f && (b += "<td width=5></td>");
				b += "</tr></table>"
			}
		}
		b += "</p>";
		b += '<p class=ptp><a href=# onclick="displayJuryItem(' + a[c].item_id + ');return false;">' + a[c].id + ". ";
		b += a[c].title + "</a>";
		a[c].dimensions && 0 < a[c].dimensions.length && (b += "<br>" + dimensions + ": " + a[c].dimensions);
		a[c].material && 0 < a[c].material.length && (b += "<br>" + w_.s94 + ": " + a[c].material);
		b += "</p><br>";
		currperm >= PERM_JURY && "1" == currshow.prefs.charAt(SHOWPREF_VOTEFOR) && (b += "<span id=voter" + a[c].id + ">" + getVoter(a[c], "revision") + "</span>");
		b += "<br><br>";
		b += "</div>"
	}
	setAppArea(b + "<div style='clear:both;'></div></div></span>")
}
isLoaded("entrythingy_show");
var offsetxpoint = -10
  , offsetypoint = 25
  , ie = document.all
  , ns6 = document.getElementById && !document.all
  , enabletip = !1;
if (ie || ns6)
	var tipobj = document.all ? document.all.dhtmltooltip : document.getElementById ? document.getElementById("dhtmltooltip") : "";
function ietruebody() {
	return document.compatMode && "BackCompat" != document.compatMode ? document.documentElement : document.body
}
function ddrivetip(a, b, c, e) {
	if (enabletip)
		hideddrivetip();
	else if (ns6 || ie)
		return "undefined" != typeof e && (tipobj.style.width = e + "px"),
		"undefined" != typeof c && "" != c && (tipobj.style.backgroundColor = c),
		tipobj.innerHTML = b + "<br><br><center><a href=javascript:hideddrivetip()>[close]</a></center>",
		enabletip = !0,
		positiontip(a),
		!1
}
function positiontip(a) {
	if (enabletip) {
		var b = ns6 ? a.pageX : event.x + ietruebody().scrollLeft
		  , c = ns6 ? a.pageY : event.y + ietruebody().scrollTop
		  , e = ie && !window.opera ? ietruebody().clientWidth - event.clientX - offsetxpoint : window.innerWidth - a.clientX - offsetxpoint - 20;
		ie && !window.opera && ietruebody();
		var f = 0 > offsetxpoint ? -1 * offsetxpoint : -1E3;
		tipobj.style.left = e < tipobj.offsetWidth ? ie ? ietruebody().scrollLeft + event.clientX - 10 - tipobj.offsetWidth + "px" : window.pageXOffset + a.clientX - tipobj.offsetWidth + "px" : b < f ? "5px" : b + offsetxpoint + "px";
		tipobj.style.top = c + offsetypoint + "px";
		tipobj.style.visibility = "visible"
	}
}
function hideddrivetip() {
	if (ns6 || ie)
		enabletip = !1,
		tipobj.style.visibility = "hidden",
		tipobj.style.left = "-1000px",
		tipobj.style.top = "-1000px",
		tipobj.style.backgroundColor = "",
		tipobj.style.width = ""
}
;function displayItem(a, b) {
	if (currwidget && 0 >= eval(currwidget.tokens))
		alert(w_.s1 + " " + (currperm >= PERM_SHOWADMIN ? w_.s2 : w_.s3));
	else if (remainingcommands = 0,
	currrevision = null,
	b && (window.location.hash = "item=" + b,
	oldhash = window.location.hash),
	START.itemrevisions = 0,
	currperm != PERM_ARTIST)
		displayJuryItem(b);
	else if (saveforjuryitem && saveforjuryitem.entrantview)
		setHTML("et_apparea", saveforjuryitem.entrantview),
		saveforjuryitem = null;
	else {
		var c = getNav();
		setAppArea(c + "<div id='dhtmltooltip'></div><div class=ptp id=itemname></div><br><div style='float:left; min-width:50%; max-width:50%; margin:0 30 30 0;'><p class=ptp><span class=et_title150bold id=imagestitle></span> &nbsp;<span id=addfileslink></span></p><br><div id=addrevision></div><div id=revisionslist></div><span id=bottomaddfileslink></span></div><div style='float:left; max-width:300px; min-width:300px'><p class=ptp><div id=submitbutton></div></p><span id=iteminfo></span></div><div style='clear:both'></div>");
		c = "/widget?c=" + sitecode + "&a=item&d=item";
		b && (c += "&itemid=" + b);
		a && (c += "&showid=" + a);
		sendCommand(baseserverip, c)
	}
}
var saveforinstructions;
function displayInstructions() {
	saveforinstructions = gEBI("et_apparea").innerHTML;
	var a = getNav();
	a += "<p class=ptp><div class=et_myentrytitle150bold>" + w_.i30 + " ";
	var b = "";
	curritem ? (a += curritem.show_name,
	b = curritem.show_instructions) : currshow && (a += currshow.title,
	b = currshow.instructions);
	a = a + "</div></p><br><p class=ptp><span class=et_title150bold id=imagestitle>Entry Instructions</span> &nbsp; <a href=# onclick=\"setHTML('et_apparea', saveforinstructions); return false;\">[back to entry]</a></p><p class=ptp>" + (doBRs(b) + "</p>");
	setHTML("et_apparea", a)
}
var lastjuryitem, addinstructionsoverride;
function displayItemItem(a, b, c) {
	tipobj = gEBI("dhtmltooltip");
	null == a ? a = curritem : curritem = a;
	b && setCurrWidget(b);
	setWords(curritem.show_filetypes);
	prepshow && prepshow(curritem.show_id);
	window.location.hash = "item=" + curritem.id;
	oldhash = window.location.hash;
	if (gEBI("iteminfo")) {
		c = pastSubmitEndDate(curritem.submit_end_date, curritem.late_submit_end_date);
		b = c[1];
		c = c[0];
		if (0 == curritem.status) {
			if (curritem.late_submit_end_date && b || !curritem.late_submit_end_date && c) {
				alert(_w_("i104", [w_.callforentries]));
				w_.entrantskipmain && (w_.entrantskipmain = null);
				displayDashboard(0);
				return
			}
			c && curritem.late_submit_end_date && !b && !hasseenlatentryinfo && (hasseenlatentryinfo = !0,
			alert(w_.i89))
		}
		b = "<table width=100%><tr valign=center><td width=50%><span class=et_myentrytitle150bold>" + w_.i30 + " ";
		b += a.show_name;
		b += "</span></td><td align=right width=50%>";
		for (c = 1; a["allitems" + c]; )
			c++;
		a.show_instructions && 0 < a.show_instructions.length && (b += '<a href=# onclick="displayInstructions();return false;" class=et_link150><nobr>[' + w_.i32a + "]</nobr></a> &nbsp;");
		(!curritem.max_entries || c < curritem.max_entries) && 0 < a.status && (b += '<a href=# onclick="editItem(' + curritem.show_id + ');return false;" class=et_link150><nobr>[' + w_.i31 + "]</nobr></a> &nbsp;");
		b += '<a href=# onclick="displayJuryItem(' + curritem.id + ", 'entrantview');return false;\" class=et_link150><nobr>[" + w_.i32 + "]</nobr></a> &nbsp;";
		0 == a.status && (b += '<a href=# onclick="deleteItem(' + curritem.id + ');return false;" class=ptbtn><nobr>[' + w_.i34 + "]</nobr></a> &nbsp;");
		c = 550;
		600 > document.getElementById("et_apparea").clientWidth && (c = 300);
		w_.nodrivetip || (b += "<a href='#none' onclick=\"ddrivetip(event, '" + _w_("i82", [w_upload, W_upload, w_upload, w_upload, w_upload, w_upload]) + "','', " + c + '); return false"><nobr>[' + w_.i85 + "]</nobr></a>");
		b += "</td></tr></table>";
		if (a.allitems0 && 0 < a.status) {
			b += "<p class=ptp>" + _w_("i42", [w_.callforentries]) + " <select onchange='displayItem(null, this.value);'><option value=" + a.id + ">" + w_.i43;
			for (c = 0; a["allitems" + c]; ) {
				var e = a["allitems" + c].substring(0, a["allitems" + c].indexOf("\t"))
				  , f = d(a["allitems" + c].substring(a["allitems" + c].indexOf("\t") + 1));
				e != a.id && (b += "<option value=" + e + ">" + e + " " + f);
				c++
			}
			b += "</select></p><br>"
		} else
			b += "<br>";
		2 < curritem.status && "1" == curritem.show_prefs.charAt(SHOWPREF_JURORNOTESFORENTRANTS) && (itemnotesid = curritem.id,
		b += "<p class=ptp><span class=et_title150bold>Juror Notes</span></p><p class=ptp id=itemnotes" + curritem.id + "></p><br>");
		0 < curritem.status && (b += "<p class=ptp><span class=et_title150bold>" + w_.i36a + "</span>",
		w_.printentrybutton || (b += ' &nbsp;<input type=button onclick="printEntry(curruser);return false;" class=et_button150 value=\'' + w_.i33a + "'>"),
		3 == curritem.status && curritem.acceptedinstructions && (b += " &nbsp;<input type=button value='" + w_.s23a + '\' onclick="showAcceptedInstructions();return false;" class=et_button150>'),
		b += "</p><p class=ptp>",
		"0" == curritem.prefs.charAt(0) ? addinstructionsoverride ? (a = addinstructionsoverride(),
		b += a) : curritem.addinstructions && 0 < curritem.addinstructions.length && (b += doBRs(curritem.addinstructions.replace(/<\$entrynumber\$>/g, curritem.show_id + "." + curritem.id)) + "<br>") : b = "1" == curritem.prefs.charAt(0) && curritem.couponinstructions && 0 < curritem.couponinstructions.length ? b + (doBRs(curritem.couponinstructions.replace(/<\$entrynumber\$>/g, curritem.show_id + "." + curritem.id)) + "<br>") : b + w_.i87a,
		b += "</p><br><br>");
		setHTML("itemname", b);
		2 < curritem.status && "1" == curritem.show_prefs.charAt(SHOWPREF_JURORNOTESFORENTRANTS) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=notes&itemid=" + curritem.id)
	} else {
		b = a.description;
		a.statement && 0 < a.statement.length && (b += "<br><br>" + a.statement);
		setHTML("jurystatement", b);
		e = a.show_id + "." + a.id;
		a.useritemid && 0 < a.useritemid.length && (e = a.useritemid);
		b = "<span class=et_title150bold id=showname>" + w_.i48 + " " + a.show_name + "</span>";
		currperm >= PERM_JURY && (b += ' &nbsp;<a href=# onclick="displayShow(' + curritem.show_id + ", " + a.id + ');return false;" class=ptbtn>[' + w_.i49 + "]</a>",
		b = currperm >= PERM_SHOWADMIN ? b + ('&nbsp; <a href=# onclick="displayArt(' + a.id + ');return false;" class=ptbtn>[' + w_.i50 + "]</a>") : b + ('&nbsp; <a href=# onclick="displayArt(' + a.id + ');return false;" class=ptbtn>[' + w_.i51 + "]</a>"),
		currperm == PERM_JURY && ("1" != currshow.prefs.charAt(SHOWPREF_VOTEFOR) || null != currshow.votecat1 && 0 != currshow.votecat1.length || 1 != currwidget.id && 363 != currwidget.id || (b += "&nbsp; <a href=# onclick=\"et_load('show', 'votingwall', 'all', 0, " + currshow.id + ');return false;" class=ptbtn>[voting wall]</a>')),
		b += "&nbsp; <a href=# onclick=\"et_load('item', 'bookmarks', 'all', 0, " + currshow.id + ');return false;" class=ptbtn>[bookmarks]</a>');
		setHTML("showname", b);
		setHTML("showcat", e + (a.category && 0 < a.category.length ? " - " + a.category : ""));
		if (currperm >= PERM_JURY) {
			b = "";
			currperm >= PERM_JURY && (b += "<p class=ptp>");
			currperm >= PERM_JURY && "0" == curritem.show_prefs.charAt(SHOWPREF_VOTEFOR) && (b += "<div id=voter" + curritem.id + ">" + getVoter(curritem, "item") + "</div>");
			if (currperm >= PERM_SHOWADMIN || "1" == curritem.show_prefs.charAt(SHOWPREF_SHOWPROFILELINK))
				b += w_.i52 + ': <a href=# onclick="displayProfile(' + a.owner_id + ');return false;">' + a.owner_name + "</a>",
				currperm >= PERM_SHOWADMIN && (b += ", " + w_.i53 + ": " + editStatus(a.status, "item", a.id)),
				b += "<br>";
			currperm >= PERM_JURY && (b += " &nbsp;<a href=# onclick=\"nextItem('prev');return false;\">[" + w_.i54a + "]</a> &nbsp;<a href=# onclick=\"nextItem('next');return false;\">[" + w_.i54 + "]</a>");
			currperm >= PERM_SHOWADMIN && (b += ' &nbsp;<a href=# onclick="printEntry();return false;" class=ptbtn>[' + w_.i33 + "]</a>",
			b += ' &nbsp;<a href=# onclick="deleteItem(' + curritem.id + ');return false;" class=ptbtn>[' + w_.i55 + "]</a>");
			currperm == PERM_JURY && (b += " &nbsp;<a href=# onclick=\"nextItem('nextvote');return false;\">[" + w_.i56 + "]</a>");
			if (currperm >= PERM_JURY) {
				b += ' &nbsp;<a href=# onclick="saveBookmark(' + curritem.id + ');return false;">[bookmark]</a>';
				if (currperm >= PERM_SHOWADMIN || "1" == curritem.show_prefs.charAt(SHOWPREF_JURORNOTES))
					b += " &nbsp;<span id=itemnotelink" + curritem.id + '><a href=# onclick="itemNotes(' + curritem.id + '); return false;" class=ptbtn>[' + w_.s87a + (curritem.notecnt && 0 < curritem.notecnt ? " (" + curritem.notecnt + ")" : "") + "]</a></span>";
				b += "</p>"
			}
			setHTML("votearea", b)
		}
		currperm >= PERM_SHOWADMIN && (b = "<table width=100%><tr valign=top><td width=50%><span class=et_title150bold id=showname>Profile Info</span><p class=ptp><nobr><b>Name: </b>" + (c.first_name + " " + c.last_name + "</nobr></p>"),
		b += "<p class=ptp><nobr><b>" + w_.l4 + ": </b><a href='mailto:" + c.email + "'>" + c.email + "</a></nobr></p>",
		c.business && "undefined" != c.business && (b += "<p class=ptp><nobr><b>" + w_.l41 + ": </b>" + c.business + "</nobr></p>"),
		c.partner && "undefined" != c.partner && (b += "<p class=ptp><nobr><b>" + w_.l42 + ": </b>" + c.partner + "</nobr></p>"),
		c.address && "undefined" != c.address && (b += "<p class=ptp><nobr><b>" + w_.l43 + ": </b>" + c.address + "</nobr></p>"),
		c.city && "undefined" != c.city && (b += "<p class=ptp><nobr><b>" + w_.l44 + ": </b>" + c.city + "</nobr></p>"),
		c.state && "undefined" != c.state && (b += "<p class=ptp><nobr><b>" + w_.l45 + ": </b>" + c.state + "</nobr></p>"),
		c.zip && "undefined" != c.zip && (b += "<p class=ptp><nobr><b>" + w_.l46 + ": </b>" + c.zip + "</nobr></p>"),
		c.country && "undefined" != c.country && (b += "<p class=ptp><nobr><b>" + w_.l47 + ": </b>" + c.country + "</nobr></p>"),
		c.mainphone && "undefined" != c.mainphone && (b += "<p class=ptp><nobr><b>" + w_.l49 + ": </b>" + c.mainphone + "</nobr></p>"),
		c.alternatephone && "undefined" != c.alternatephone && (b += "<p class=ptp><nobr><b>" + w_.l51 + ": </b>" + c.alternatephone + "</nobr></p>"),
		c.website && "undefined" != c.website && (b += "<p class=ptp><nobr><b>" + w_.l52 + ": </b><a href=" + c.website + ">" + c.website + "</a></nobr></p>"),
		b += "<br>",
		c.statement && "undefined" != c.statement && (b += "<p class=ptp><b>" + w_.l70 + ": </b><br>" + doBRs(c.statement) + "</p>"),
		c.resume && "undefined" != c.resume && (b += "<p class=ptp><b>" + w_.l71 + ": </b><br>" + doBRs(c.resume) + "</p>"),
		b += "</td><td width=50%><span class=et_title150bold id=showname>" + w_.i57 + "</span>",
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPUBLICITY) && (b += "<p class=ptp><b>Publicity: </b><span id=togglepublicity" + a.id + ' onclick="togglePublicity(' + a.id + ');">',
		b = a.image_publicity && 1 == a.image_publicity ? b + "Yes" : b + "No",
		b += "</span></p>"),
		b += "<span id=itemnotes" + a.id + "></span></p>",
		a.how_find && 0 < a.how_find.length && (b += "<p class=ptp><b>How entrant found call: </b>" + a.how_find + "</p>"),
		null != addsignupverify && (b += addsignupverify(a, curritem.show_id)),
		setHTML("addsignupinfo", b + "</td></tr></table>"))
	}
	et_load("item", "revisions", "all", 0, null, curritem.id)
}
function saveBookmark(a) {
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=savebookmark&itemid=" + a)
}
var saveforaddfiles = [];
function displayAddFiles() {
	gEBI("imageinstructions") && (gEBI("imageinstructions").style.display = "none");
	addfilecnt = 1;
	var a = "<div id=saverevisionform><form method='post' action='' enctype='multipart/form-data' id='revisionuploadform' name='revisionuploadform' target='et_uploadtarget' >";
	currrevisions && 0 < currrevisions.length && "1" == curritem.show_prefs.charAt(SHOWPREF_HASVIEWSOFPIECE) ? (a += "<p class=ptp><b>" + w_.i2a + ":</b> <br>",
	a += "<p class=ptp><b>" + w_.i6 + ': </b><br><input type=text id=et.title class=et_addfileinput maxlength=80 value="' + (saveforaddfiles.title ? saveforaddfiles.title : "") + '"></p>') : (a += "<p class=ptp><b>" + _w_("i2", [w_upload]) + ":</b> <br>",
	"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && (a += "<p class=ptp><b>" + W_upload + " " + w_.i3 + ": </b> <label><input type=radio name=rtype id=et.type0 onclick=\"gEBI('boothcheck').style.display='inline'\" " + (hasboothdisplay ? "checked" : "") + ">" + w_.i4 + "</label> &nbsp; <label><input type=radio name=rtype id=et.type1  onclick=\"gEBI('boothcheck').style.display='none'\" " + (hasboothdisplay ? "disabled" : "") + ">" + w_.i5 + "</label></p>"),
	a += "<span id=boothcheck><p class=ptp><b>" + w_.i6 + ': </b><font size=-2>(80 chars)</font><br><input type=text id=et.title class=et_addfileinput maxlength=80 value="' + (saveforaddfiles.title ? saveforaddfiles.title : "") + '"></p>',
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) && (a += "<p class=ptp><b>" + w_.i7a + ': </b><font size=-2>(400 chars)</font><br><input type=text id=et.imagedescription class=et_addfileinput maxlength=400 value="' + (saveforaddfiles.description ? saveforaddfiles.description : "") + '"></p>'),
	"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && (a += "<p class=ptp><b>" + Dimensions + ': </b><font size=-2>(50 chars)</font><br><input type=text id=et.dimensions class=et_addfileinput maxlength=50 value="' + (saveforaddfiles.dimensions ? saveforaddfiles.dimensions : "") + '"></p>'),
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && (a += "<p class=ptp><b>" + w_.i7 + ': </b><font size=-2>(100 chars)</font><br><input type=text id=et.material class=et_addfileinput maxlength=100 value="' + (saveforaddfiles.material ? saveforaddfiles.material : "") + '"></p>'),
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && (a += "<p class=ptp><b>" + w_.i8 + ': </b> <font size=-2>(20 chars)</font><br><input type=text id=et.price class=et_addfileinput maxlength=20 value="' + (saveforaddfiles.price ? saveforaddfiles.price : "") + '"></p>'),
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && (a += "<p class=ptp><b>" + w_.i9 + ': </b> <font size=-2>(20 chars)</font><br><input type=text id=et.year class=et_addfileinput maxlength=20 value="' + (saveforaddfiles.year ? saveforaddfiles.year : "") + '"></p>'),
	a += "</span>");
	if ("1" == curritem.show_filetypes.charAt(FILETYPE_MOV) || "1" == curritem.show_filetypes.charAt(FILETYPE_MP4) || "1" == curritem.show_filetypes.charAt(FILETYPE_WMV))
		a += "<p class=ptp id=videosize style='display:none;'><b>" + w_.i10 + ": </b><input type=text id=et.vwidth style='width:50px;'>px &nbsp; <b>" + w_.i11 + ": </b><input type=text id=et.vheight style='width:50px;'>px</p>";
	"2" == curritem.show_prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (a += "<br><label><input type=radio name=uploadtype id=fileupload checked onchange='checkFileUpload()'>Upload File</label> &nbsp; &nbsp;<label><input type=radio name=uploadtype id=linkupload onchange='checkFileUpload()'>Link to web page</label><br>");
	a += "<p class=ptp id=uploadselector><b>" + _w_("i12", [W_upload]);
	for (var b = 0, c = 0; c < FILETYPES.length; c++)
		"1" == curritem.show_filetypes.charAt(c) && (0 < b && (a += ", "),
		a += FILETYPES[c],
		b++);
	"1" == curritem.show_prefs.charAt(SHOWPREF_UPLOADOPTIONAL) && (a += ", upload optional");
	a = a + ")<br><input type=file id=revisionfilename0 name='file0' onchange='checkFileType();'></p></p><p class=ptp><input type='hidden' id='savethumb' name='savethumb' value=''><input type='hidden' id='maxthumbwidth' name='maxthumbwidth' value='220'><input type='hidden' id='authcode' name='authcode' value=''><input type='hidden' id='podcastid' name='id'><input type='hidden' name='suploadvideo' value='y'><input type='hidden' id='callbackurl' name='callbackurl' value='" + (baseserverurl + "'>");
	0 < curritem.show_minfilesize && (a += "<input type='hidden' name='minsize' value='" + curritem.show_minfilesize + "000'>");
	0 < curritem.show_minimagewidth && (a += "<input type='hidden' name='minwidth' value='" + curritem.show_minimagewidth + "'>");
	a += '<span id=errorarea></span><p class=ptp><div id=fileuploadwait><input class=et_submitbutton type=button onclick="addFiles();" value=\'' + w_.i13 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i14 + "' onclick=\"setHTML('addrevision', ''); if (gEBI('imageinstructions')) gEBI('imageinstructions').style.display='inline'; \"></div></form></p><br>";
	setHTML("addrevision", a + "</div>")
}
var fileuploadsave;
function checkFileUpload() {
	gEBI("fileupload").checked ? setHTML("uploadselector", fileuploadsave) : (fileuploadsave = gEBI("uploadselector").innerHTML,
	setHTML("uploadselector", "<b>Web page URL</b><br><input type=text maxlength=90  class=et_addfileinput id=link name=link>"))
}
function checkFileType() {
	if (gEBI("videosize")) {
		for (var a = gEBI("revisionfilename0").value.toLowerCase().trim(), b = !1, c = 0; c < FILETYPES.length; c++)
			"1" != curritem.show_filetypes.charAt(c) || !a.endsWith(FILETYPES[c]) || c != FILETYPE_MOV && c != FILETYPE_MP4 && c != FILETYPE_WMV || (b = !0);
		b ? gEBI("videosize").style.display = "block" : gEBI("videosize").style.display = "none"
	}
}
function addFiles() {
	if (gEBI("revisionfilename0"))
		var a = gEBI("revisionfilename0").value;
	var b = !1
	  , c = !1;
	if (null != a) {
		if (0 == a.length) {
			if ("1" != curritem.show_prefs.charAt(SHOWPREF_UPLOADOPTIONAL)) {
				displayError(w_.i15);
				return
			}
			a = "image_placeholder.jpg";
			b = !0
		}
		if (-1 != a.indexOf('"') || -1 != a.indexOf("'")) {
			displayError("Ooops. File names can't contain quotes (\", ').");
			return
		}
		for (var e = a.toLowerCase().trim(), f = !1, g = 0; g < FILETYPES.length; g++)
			"1" == curritem.show_filetypes.charAt(g) && (e.endsWith(FILETYPES[g]) || e.endsWith(ALTFILETYPES[g])) && (f = !0,
			g <= FILETYPE_GIF && (b = !0),
			g == FILETYPE_MOV || g == FILETYPE_MP4 || g == FILETYPE_WMV) && (c = !0);
		if (!f) {
			displayError(w_.i16);
			return
		}
	}
	if (gEBI("link")) {
		if (!gEBI("link").value.toLowerCase().startsWith("http")) {
			displayError("Ooops. Links to web pages must start with http.");
			return
		}
		if (11 > gEBI("link").value.length) {
			displayError("Ooops. That is not a valid link.");
			return
		}
	}
	b ? gEBI("savethumb").value = "yes" : gEBI("savethumb").value = "no";
	b = null;
	e = "/widget?c=" + sitecode + "&a=item&d=addfiles";
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) || gEBI("et.type0").checked ? (0 == gEBI("et.title").value.length && (b = w_.i17),
	gEBI("et.dimensions") && "0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && 0 == gEBI("et.dimensions").value.length && (b = _w_("i18", [dimensions])),
	gEBI("et.material") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && 0 == gEBI("et.material").value.length && (b = w_.i19),
	gEBI("et.price") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && 0 == gEBI("et.price").value.length && (b = w_.i20),
	gEBI("et.year") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && 0 == gEBI("et.year").value.length && (b = w_.i21)) : "0" != curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) || gEBI("et.type0").checked || gEBI("et.type1").checked ? c && gEBI("et.vwidth") && (isNaN(parseInt(gEBI("et.vwidth").value)) || isNaN(parseInt(gEBI("et.vheight").value))) && (b = w_.i23) : b = w_.i22;
	if (b)
		displayError(b);
	else {
		gEBI("link") && (e += "&link=" + encodeURIComponent(gEBI("link").value));
		a && (e += "&file0=" + encodeURIComponent(a));
		"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && gEBI("et.type1").checked ? e += "&title=" + encodeURIComponent(w_.i5) : (e += "&title=" + encodeURIComponent(gEBI("et.title").value),
		saveforaddfiles.title = gEBI("et.title").value);
		if ("1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) || gEBI("et.type0") && gEBI("et.type0").checked)
			gEBI("et.imagedescription") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) && (e += "&description=" + encodeURIComponent(gEBI("et.imagedescription").value),
			saveforaddfiles.description = gEBI("et.imagedescription").value),
			gEBI("et.dimensions") && "0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && (e += "&dimensions=" + encodeURIComponent(gEBI("et.dimensions").value.replace(/'/g, "ft").replace(/"/g, "in")),
			saveforaddfiles.dimensions = gEBI("et.dimensions").value),
			gEBI("et.material") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && (e += "&material=" + encodeURIComponent(gEBI("et.material").value),
			saveforaddfiles.material = gEBI("et.material").value),
			gEBI("et.price") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && (e += "&price=" + encodeURIComponent(gEBI("et.price").value),
			saveforaddfiles.price = gEBI("et.price").value),
			gEBI("et.year") && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && (e += "&year=" + encodeURIComponent(gEBI("et.year").value),
			saveforaddfiles.year = gEBI("et.year").value);
		"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && (e += "&type=" + (gEBI("et.type0").checked ? "0" : "1"));
		c && gEBI("et.vwidth") && (e += "&vwidth=" + parseInt(gEBI("et.vwidth").value) + "&vheight=" + parseInt(gEBI("et.vheight").value),
		saveforaddfiles.vwidth = gEBI("et.vwidth").value,
		saveforaddfiles.vheight = gEBI("et.vheight").value);
		curritem && (e += "&itemid=" + curritem.id);
		setHTML("fileuploadwait", " &nbsp; &nbsp; &nbsp;" + loadimage + " &nbsp;" + w_.t9);
		sendCommand(baseserverip, e)
	}
}
function printEntry(a) {
	null == printwindow && (printwindow = window.open("", "printwin", "height=800, width=800,toolbar=0,menubar=0,scrollbars=1,status=0,location=0,resizable=1"));
	if (a) {
		var b = "<html><head><title>" + w_.i24 + "</title><style>body {font:normal 12px arial, verdana, sans-serif;} td {font:normal 12px arial, verdana, sans-serif;} p { margin:5px; }</style></head><body>"
		  , c = curritem.show_id + "." + curritem.id;
		curritem.useritemid && 0 < curritem.useritemid.length && (c = curritem.useritemid);
		b += "<table cellpadding=0 cellspacing=0 width=100%><tr valign=top><td><span style='font-size:130%; font-weight:bold;'>Entry " + c + " in " + curritem.show_name + '</span><br></td><td align=right nowrap><a href=# onclick="window.print();return false;">[' + w_.i25 + "]</a><br></td></tr></table>";
		b = b + "<table cellpadding=0 cellspacing=0><tr valign=top><td width=50%><p><b>" + (w_.i26 + ":</b> " + a.first_name + " " + a.last_name + "</p>");
		a.business && (b += "<p><b>" + w_.l41 + ":</b> " + a.business + "</p>");
		a.partner && (b += "<p><b>" + w_.l42 + ":</b> " + a.partner + "</p>");
		b += "<p><b>" + w_.l43 + ":</b> " + a.address;
		b += "</p><p><b>" + w_.l44 + ":</b> " + a.city;
		STATES && (b += "</p><p><b>" + w_.l45 + ":</b> " + a.state);
		b += "</p><p><b>" + w_.l46 + ":</b> " + a.zip;
		b += "</p><p><b>" + w_.l47 + ":</b> " + a.country;
		b += "</p><p><b>" + w_.l49 + ":</b> " + a.mainphone;
		b += "</p><p><b>" + w_.l51 + ":</b> " + a.alternatephone;
		b += "</p><p><b>" + w_.l4 + ":</b> " + a.email;
		b += "</p><p><b>" + w_.l52 + ": </b>" + a.website + "</p>";
		null == currshow && (currshow = [],
		currshow.id = curritem.show_id);
		b += "</td><td width=30>&nbsp;</td><td width=50%>";
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPUBLICITY) && (b += "<p class=ptp><b>Publicity: </b>",
		b = curritem.image_publicity && 1 == curritem.image_publicity ? b + "Yes" : b + "No",
		b += "</p>");
		curritem.how_find && 0 < curritem.how_find.length && (b += "<p class=ptp><b>How I found this call: </b>" + curritem.how_find + "</p>");
		null != addsignupverify && (b += addsignupverify(curritem, curritem.show_id));
		b += "</td></tr></table><hr>";
		curritem.category && 0 < curritem.category.length && (b += "<p><b>" + w_.i44 + ":</b> " + curritem.category + "</p>");
		"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDESCRIPTIONOFWORK) && curritem.description && (b += "<p><b>" + w_.descriptionofwork + ":</b> ",
		a = curritem.description,
		b += doBRs(a),
		b += "</p>");
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) && curritem.statement && (b += "<p><b>" + w_.entrystatement + ":</b> ",
		a = curritem.statement,
		b += doBRs(a),
		b += "</p>");
		b += "<table cellpadding=0 cellspacing=0><tr valign=top>";
		for (a = 0; a < currrevisions.length && !(49 < a); a++)
			itemid = currrevisions[a].item_id,
			0 < a && (b += "<td width=10> &nbsp;</td>"),
			b += "<td valign=top align=left width=100>",
			1 == currrevisions[a].has_thumb && (b += "<p><img src=" + S3IMAGESPATH + currrevisions[a].widget_id + "." + currrevisions[a].item_id + ".",
			b = currrevisions[a].upload_id ? b + currrevisions[a].upload_id : b + currrevisions[a].id,
			b += "_thumb",
			0 < currrevisions[a].filenumber && (b += "!" + currrevisions[a].filenumber),
			b += ".jpg border=0 width=100></p>"),
			b += "<div id=rinfo" + currrevisions[a].id + ">" + currrevisions[a].title,
			currrevisions[a].price && 0 < currrevisions[a].price.length && (b += "<br>" + w_.s95 + ": " + currrevisions[a].price),
			b += "</div></td>";
		b += "</tr></table><br>";
		curritem.show_terms && 0 < curritem.show_terms.length ? b += "<hr><p><span style='font-size:130%; font-weight:bold;'>" + w_.i27 + "</span></p><p>" + doBRs(curritem.show_terms) + "</p>" : currshow && currshow.terms && 0 < currshow.terms.length && (b += "<hr><p><span style='font-size:130%; font-weight:bold;'>" + w_.i27 + "</span></p><p>" + doBRs(currshow.terms) + "</p>");
		"1" == curritem.show_prefs.charAt(SHOWPREF_PRINTSIGNATURE) && (b += "<br><table width=100% cellpadding=0 cellspacing=0><tr><td width=70%><b>" + w_.i28 + ":</b></td><td><b>" + w_.i29 + ":</b></td></tr></table>");
		curritem.printinstructions && 0 < curritem.printinstructions.length ? b += "<br><p>" + doBRs(curritem.printinstructions) + "</p>" : currshow && currshow.printinstructions && 0 < currshow.printinstructions.length && (b += "<br><p>" + doBRs(currshow.printinstructions) + "</p>");
		printwindow.document.write(b + "</body></html>");
		printwindow.document.close();
		printwindow.focus();
		printwindow = null
	} else
		sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=print&userid=" + curritem.owner_id)
}
function displayVote(a) {
	setHTML("voter" + a.id, getVoter(a, a.votetype))
}
function getVoter(a, b) {
	if (currperm >= PERM_SHOWADMIN && (null == a.votes || 0 == a.votes))
		return w_.i58 + "<br>";
	var c = "<table cellpadding=0 cellspacing=0>";
	for (var e = 0; 10 > e; e++)
		if (null != currshow["votecat" + e] && 0 < currshow["votecat" + e].length) {
			c += "<tr valign=bottom><td style='font-size:140%; font-weight:bold;'><nobr>";
			c += currshow["votecat" + e] + ": &nbsp;</nobr><nobr>";
			if (currperm == PERM_JURY)
				for (var f = currshow.prefs.charAt(SHOWPREF_POINTSSTART); f <= parseInt(currshow.prefs.charAt(SHOWPREF_POINTSEND)) + 1; f++) {
					if (0 == currshow.prefs.charAt(SHOWPREF_POINTSSKIP) || currshow.prefs.charAt(SHOWPREF_POINTSSKIP) != f)
						f > currshow.prefs.charAt(SHOWPREF_POINTSSTART) && (c += "&nbsp;"),
						c = "item" == b ? a["vote_" + e] && a["vote_" + e] == f ? c + ("<b style='background:#555; color:white; '>&nbsp;" + f + "&nbsp;</b>") : c + ('<a href=# onclick="itemVote(' + f + "," + a.id + "," + e + ');return false;" >' + f + "</a>") : a["vote_" + e] && a["vote_" + e] == f ? c + ("<b style='background:#555; color:white; '>&nbsp;" + f + "&nbsp;</b>") : a.vote && a.vote == f ? c + ("<b style='background:#555; color:white; '>&nbsp;" + f + "&nbsp;</b>") : c + ('<a href=# onclick="revisionVote(' + f + "," + a.id + "," + e + ');return false;" >' + f + "</a>")
				}
			else
				a["points" + e] && (c += a["points" + e]);
			c += "</nobr></td></tr>"
		}
	c += "</table>";
	currperm >= PERM_SHOWADMIN && a.points != a.points0 && (c += a.points + " " + _w_("i59", [a.votes]) + "<br>");
	return c
}
var entrysubmitted = !1;
function submitEntry() {
	var a = null;
	curritem.couponcode && 0 < curritem.couponcode.length && gEBI("couponcode") && 0 < gEBI("couponcode").value.length && gEBI("couponcode").value != curritem.couponcode && (a = w_.i60a);
	curritem.replacesubmit && 0 < curritem.replacesubmit.length && curritem.couponcode && 0 < curritem.couponcode.length && gEBI("couponcode") && 0 == gEBI("couponcode").value.length && (a = "If you do not have a coupon code, please use the payment option above to submit your entry.");
	var b = curritem.min_images;
	curritem.couponcode && 0 < curritem.couponcode.length && 0 < gEBI("couponcode").value.length && (b = 1);
	currrevisions.length < b && (a = _w_("i61", [w_upload, b, w_upload, W_upload, w_upload]));
	currrevisions.length > curritem.max_images && (a = _w_("i62", [w_upload, curritem.max_images, w_upload]));
	if ("0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && 1 < b) {
		for (var c = b = 0; c < currrevisions.length; c++)
			1 == currrevisions[c].type && b++;
		0 == b ? a = w_.i63 : 1 < b && (a = w_.i64)
	}
	if (a)
		displayError(a);
	else {
		if (currrevisions.length < curritem.max_images) {
			if (!confirm(_w_("i65", [w_.callforentries, w_.callforentries])))
				return
		} else if (!confirm(_w_("i66", [w_upload])))
			return;
		a = "/widget?c=" + sitecode + "&a=item&d=submit&itemid=" + curritem.id;
		gEBI("couponcode") && 0 < gEBI("couponcode").value.length && (a += "&couponcode=" + gEBI("couponcode").value);
		entrysubmitted = !0;
		sendCommand(baseserverurl, a)
	}
}
function nextItem(a) {
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=item&d=next&itemid=" + curritem.id + "&dir=" + a)
}
function itemVote(a, b, c) {
	setHTML("voter" + b, loadimage + " loading...");
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=item&d=vote&nr=" + a + "&itemid=" + b + "&votecat=" + c)
}
function revisionVote(a, b, c) {
	setHTML("voter" + b, loadimage + " loading...");
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=revision&d=vote&nr=" + a + "&revisionid=" + b + "&votecat=" + c)
}
function moveRevision(a, b) {
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=item&d=moverevision&revisionid=" + b + "&itemid=" + curritem.id + "&dir=" + a)
}
saveeditrevision = [];
function editRevision(a) {
	saveeditrevision[currrevisions[a].id] = gEBI("rinfo" + currrevisions[a].id).innerHTML;
	var b = "<p class=ptp><b>" + w_.i6 + ": </b><font size=-2>(80 chars)</font><br><input type=text id=et.title" + currrevisions[a].id + ' class=et_editfileinput maxlength=80 value="' + currrevisions[a].title + '"></p>';
	if ("1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION)) {
		var c = currrevisions[a].description;
		null == c && (c = "");
		b += "<p class=ptp><b>" + w_.i7a + ": </b><font size=-2>(400 chars)</font><br><input type=text id=et.imagedescription" + currrevisions[a].id + ' class=et_editfileinput maxlength=400 value="' + c + '"></p>'
	}
	"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && (c = currrevisions[a].dimensions,
	null == c && (c = ""),
	b += "<p class=ptp><b>" + Dimensions + ": </b><font size=-2>(50 chars)</font> <br><input type=text id=et.dimensions" + currrevisions[a].id + ' class=et_editfileinput maxlength=50 value="' + c + '"></p>');
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && (c = currrevisions[a].material,
	null == c && (c = ""),
	b += "<p class=ptp><b>" + w_.i7 + ": </b><font size=-2>(100 chars)</font><br><input type=text id=et.material" + currrevisions[a].id + ' class=et_editfileinput maxlength=100 value="' + c + '"></p>');
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && (c = currrevisions[a].price,
	null == c && (c = ""),
	b += "<p class=ptp><b>" + w_.i8 + ": </b><font size=-2>(20 chars)</font><br><input type=text id=et.price" + currrevisions[a].id + ' class=et_editfileinput maxlength=20 value="' + c + '"></p>');
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && (c = currrevisions[a].year,
	null == c && (c = ""),
	b += "<p class=ptp><b>" + w_.i9 + ": </b><font size=-2>(20 chars)</font><br><input type=text id=et.year" + currrevisions[a].id + ' class=et_editfileinput maxlength=20 value="' + c + '"></p>');
	"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && (b += "<p class=ptp><b>" + W_upload + " " + w_.i3 + ": </b> " + (0 == currrevisions[a].type ? w_.i4 : w_.i5));
	currrevisions[a].width && (b += "<p class=ptp><b>" + w_.i10 + ": </b><input type=text id=et.vwidth style='width:50px;' value=" + currrevisions[a].width + ">px &nbsp; <b>" + w_.i11 + ": </b><input type=text id=et.vheight style='width:50px;' value=" + currrevisions[a].width + ">px</p>");
	b += '<span id=errorarea></span><p class=ptp><input class=et_savebutton type=button onclick="saveRevision(' + a + ");\" value='" + w_.i67 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i68 + "' onclick=\"setHTML('rinfo" + currrevisions[a].id + "', saveeditrevision[" + currrevisions[a].id + ']);"></p>';
	setHTML("rinfo" + currrevisions[a].id, b)
}
function setBoothDisplay(a) {
	if (confirm("Are you sure you want to set this image as your booth/display image?")) {
		var b = "/widget?c=" + sitecode + "&a=revision&d=save";
		b += "&title=" + encodeURIComponent("Booth/Display");
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) && (b += "&description=");
		"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && (b += "&dimensions=");
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && (b += "&material=");
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && (b += "&price=");
		"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && (b += "&year=");
		sendCommand(baseserverip, b + "&type=1&vwidth=&vheight=&revisionid=" + a)
	}
}
function saveRevision(a) {
	var b = currrevisions[a].id
	  , c = null
	  , e = "/widget?c=" + sitecode + "&a=revision&d=save";
	0 == gEBI("et.title" + b).value.length ? c = w_.i17 : gEBI("et.dimensions" + b) && "0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && 0 == gEBI("et.dimensions" + b).value.length ? c = _w_("i18", [dimensions]) : gEBI("et.material" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && 0 == gEBI("et.material" + b).value.length ? c = w_.i19 : gEBI("et.price" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && 0 == gEBI("et.price" + b).value.length ? c = w_.i20 : gEBI("et.year" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && 0 == gEBI("et.year" + b).value.length ? c = w_.i21 : currrevisions[a].width && (isNaN(parseInt(gEBI("et.vwidth").value)) || isNaN(parseInt(gEBI("et.vheight").value))) && (c = w_.i23);
	c ? displayError(c) : (e += "&title=" + encodeURIComponent(charClean(gEBI("et.title" + b).value)),
	gEBI("et.imagedescription" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORIMAGEDESCRIPTION) && (e += "&description=" + encodeURIComponent(charClean(gEBI("et.imagedescription" + b).value))),
	gEBI("et.dimensions" + b) && "0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDIMENSIONS) && (e += "&dimensions=" + encodeURIComponent(charClean(gEBI("et.dimensions" + b).value.replace(/'/g, "ft").replace(/"/g, "in")))),
	gEBI("et.material" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORMATERIAL) && (e += "&material=" + encodeURIComponent(charClean(gEBI("et.material" + b).value))),
	gEBI("et.price" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORPRICE) && (e += "&price=" + encodeURIComponent(charClean(gEBI("et.price" + b).value))),
	gEBI("et.year" + b) && "1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORYEAR) && (e += "&year=" + encodeURIComponent(gEBI("et.year" + b).value)),
	gEBI("et.vwidth") && (e += "&vwidth=" + parseInt(gEBI("et.vwidth").value) + "&vheight=" + parseInt(gEBI("et.vheight").value)),
	sendCommand(baseserverip, e + ("&revisionid=" + b)))
}
function pastSubmitEndDate(a, b) {
	var c = !1
	  , e = !1;
	a && (a = new Date(Date.parse(a)),
	a.setHours(23),
	a.setMinutes(59));
	a && new Date > a.getTime() && (c = !0);
	b && (a = new Date(Date.parse(b)),
	a.setHours(23),
	a.setMinutes(59));
	b && new Date > a.getTime() && (e = !0);
	return [c, e]
}
function checkThumbnail(a) {
	a = document.getElementById("checkthumb" + a);
	a.clientWidth > 2 * a.clientHeight && (a.style.width = 220,
	a.style.height = "auto")
}
var hasboothdisplay = !1;
function displayItemRevisions(a) {
	currrevisions = a;
	var b = "";
	if (gEBI("iteminfo")) {
		var c = pastSubmitEndDate(curritem.submit_end_date, curritem.late_submit_end_date)
		  , e = c[1]
		  , f = c[0];
		setHTML("imagestitle", _w_("i73", [W_upload]));
		hasboothdisplay = !1;
		for (c = 0; c < a.length; c++)
			if (1 == a[c].type) {
				hasboothdisplay = !0;
				break
			}
		for (c = 0; c < a.length && !(49 < c); c++) {
			var g = 0;
			var k = a[c].item_id;
			b += "<div>";
			0 < c && (b += "<hr size=1 width=100%>");
			b += "<div style='float:left; margin:0 20 0 0'><p class=ptp>";
			1 == a[c].has_thumb && (b += "<img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + ".",
			b = a[c].upload_id ? b + a[c].upload_id : b + a[c].id,
			b += "_thumb",
			0 < a[c].filenumber && (b += "!" + a[c].filenumber),
			b += ".jpg border=0 width=220 id=checkthumb" + a[c].id + " onload=checkThumbnail(" + a[c].id + ")>");
			if (a[c].views && 0 < a[c].views.length) {
				var l = a[c].views.split(",");
				g = l.length;
				b += "<br><table cellpadding=0 cellspacing=0 width=220><tr valign=top>";
				for (var m = 0; m < l.length; m++)
					b += "<td><img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + "." + a[c].id + ".view." + l[m] + '_thumb.jpg border=0 width=70><br><a href=# onclick="deleteView(' + a[c].id + ", " + l[m] + ');return false;" class=ptbtn><font size=-2>[' + w_.i79 + " view]</font></a></td>",
					2 > m && (b += "<td width=5></td>");
				b += "</tr></table>"
			}
			b += "</p>";
			b += "</div><div style='float:left; min-width:200px;' class=ptp id=rinfo" + a[c].id + "><b>" + w_.i6 + ": </b>" + a[c].title;
			a[c].description && 0 < a[c].description.length && (b += "<br><b>" + w_.s94a + ":</b> " + a[c].description);
			a[c].dimensions && 0 < a[c].dimensions.length && (b += "<br><b>" + Dimensions + ":</b> " + a[c].dimensions);
			a[c].material && 0 < a[c].material.length && (b += "<br><b>" + w_.s94 + ":</b> " + a[c].material);
			a[c].price && 0 < a[c].price.length && (b += "<br><b>" + w_.s95 + ":</b> " + a[c].price);
			a[c].year && 0 < a[c].year.length && (b += "<br><b>" + w_.s96 + ":</b> " + a[c].year);
			a[c].status && "1" == curritem.show_prefs.charAt(SHOWPREF_VOTEFOR) && 0 < a[c].status && (b += "<br><b>" + w_.i75 + ":</b> " + REVISIONSTATUS[a[c].status]);
			a[c].mime_type && -1 != a[c].mime_type.indexOf("video") && (b += '<br><br><a href=# onclick="showVideo(' + c + ');return false;">' + w_.i74 + "</a><br>");
			a[c].link.startsWith("file:") ? b += "<br><b>" + w_.s90 + ":</b> <a href=" + revisionLink(a[c].id) + ">" + a[c].link.substring(5) + "</a>" : a[c].link.startsWith("link:") && (b += "<br> <a href=" + a[c].link.substring(5) + " target=web>Go to web page &raquo;</a>");
			if (0 == curritem.status && !e) {
				b += "<br><br>";
				l = 1;
				hasboothdisplay && (l = 2);
				"1" == curritem.show_prefs.charAt(SHOWPREF_IMAGEVIEWS) && (0 == a[c].type || !a[c].type) && 3 > g && (b += '<input type=button onclick="displayAddView(' + a[c].id + ");return false;\" value='Add view/detail'> &nbsp;");
				c < a.length - l && (b += "<a href=# onclick=\"moveRevision('down', " + a[c].id + ');return false;" class=ptbtn>[' + w_.i76 + "]</a> &nbsp;");
				0 < c && (null == a[c].type || 0 == a[c].type) && (b += "<a href=# onclick=\"moveRevision('up', " + a[c].id + ');return false;" class=ptbtn>[' + w_.i77 + "]</a> &nbsp;");
				if (null == a[c].type || 0 == a[c].type)
					b += '<a href=# onclick="editRevision(' + c + ');return false;" class=ptbtn>[' + w_.i78 + "]</a> &nbsp;";
				b += '<a href=# onclick="deleteFile(' + a[c].id + ');return false;" class=ptbtn>[' + w_.i79 + "]</a>";
				"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && 1 < curritem.min_images && !hasboothdisplay && (b += ' &nbsp;<a href=# onclick="setBoothDisplay(' + a[c].id + ');return false;" class=ptbtn>[set as booth/display]</a>');
				"1" == curritem.show_prefs.charAt(SHOWPREF_IMAGEVIEWS) && 3 > g && (b += "<span id=addviewarea" + a[c].id + "></span>")
			}
			b += "</div></div><div style='clear:both'></div><br>"
		}
		b += pagination("item", "revisions", a, k);
		0 == a.length && 0 == START.itemrevisions && 0 == curritem.status && (b += "<span id=imageinstructions><br>" + _w_("i80", [w_upload, w_upload, w_upload]),
		currperm == PERM_ARTIST && (b += _w_("i81", [w_.callsforentries]),
		b += '<br><br>You can also click <a href=# onclick="artwork();return false;" class=ptbtn id=artworklink><nobr>[' + w_.i84a + ']</nobr></a> to use artwork from your EntryThingy Artwork Management account. <a href=# onclick="showAWMVideo(); return false;">Watch a short video to see how all that works</a> and <a href=https://www.entrythingy.com/forartists_artworkmanagement target=awm>Login to EntryThingy\'s Artwork Management</a>. <div id=awmvideo></div>'),
		b += "</span>");
		0 < START.itemrevisions && (b += "<hr class=pthr>" + b);
		0 == START.itemrevisions ? setHTML("revisionslist", b) : setHTML("revisionslist" + START.itemrevisions, b);
		e || 0 < curritem.status || curritem.max_images && a.length >= curritem.max_images ? (setHTML("addfileslink", ""),
		setHTML("bottomaddfileslink", "")) : (b = '<input type=button onclick="displayAddFiles();return false;" class=et_button150 value=\'',
		b = currrevisions && 0 < currrevisions.length && "1" == curritem.show_prefs.charAt(SHOWPREF_HASVIEWSOFPIECE) ? b + w_.i83a : b + _w_("i83", [w_upload]),
		b += "'>",
		currperm == PERM_ARTIST && (b += ' &nbsp;<a href=# onclick="otherRevisions();return false;" class=ptbtn>[<nobr>' + w_.i84 + "]</nobr></a>",
		b += ' &nbsp;<a href=# onclick="artwork();return false;" class=ptbtn id=artworklink><nobr>[' + w_.i84a + "]</nobr></a>"),
		setHTML("addfileslink", b),
		currrevisions && 1 < currrevisions.length && (b = "<br><input type=button onclick=\"displayAddFiles(); console.log(xPos(gEBI('addfileslink'))); window.scroll(0, xPos(gEBI('addfileslink'))-100); return false;\" class=et_button150 value='",
		b = "1" == curritem.show_prefs.charAt(SHOWPREF_HASVIEWSOFPIECE) ? b + w_.i83a : b + _w_("i83", [w_upload]),
		setHTML("bottomaddfileslink", b + "'>")));
		e ? alert(w_.i88) : 0 == a.length && f && !hasseenlatentryinfo && (hasseenlatentryinfo = !0,
		alert(w_.i89));
		0 == curritem.status ? (a = curritem.min_images,
		null == a && (a = 1),
		curritem.couponcode && 0 < curritem.couponcode.length && (a = 1),
		!e && currrevisions.length >= a ? (a = "<span class=et_title150bold><nobr>" + w_.i36 + ": " + STATUS[curritem.status] + "</nobr></span><br>",
		curritem.replacesubmit && 0 < curritem.replacesubmit.length ? (a += "<p class=ptp>" + curritem.replacesubmit.replace(/<\$entrynumber\$>/g, curritem.show_id + "." + curritem.id) + "</p><br>",
		curritem.couponcode && 0 < curritem.couponcode.length && (a += w_.i37 + ": <input type=text style='width:50px' id=couponcode><br><br>",
		a += "<span id=errorarea></span><input class=et_submitentrybutton type=button value='" + w_.i39 + "' onclick='submitEntry();'>")) : (a += "<p class=ptp>" + _w_("i40", [w_upload]) + "</p><br>",
		curritem.couponcode && 0 < curritem.couponcode.length && (a += w_.i37 + ": <input type=text style='width:50px' id=couponcode><br><br>"),
		a += "<span id=errorarea></span><input class=et_submitentrybutton type=button value='" + w_.i39 + "' onclick='submitEntry();'>"),
		setHTML("submitbutton", a),
		getItemInfo()) : (1 == a || 0 == currrevisions.length ? setHTML("submitbutton", "") : setHTML("submitbutton", "<span class=et_title150bold>" + _w_("i36b", [W_upload]) + "</span><br><p class=ptp>" + _w_("0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) ? "i36c2" : "i36c1", [a - currrevisions.length, w_upload, w_upload]) + "</p>"),
		setHTML("iteminfo", ""))) : (a = "<span class=et_title150bold><nobr>" + w_.i36 + ": " + STATUS[curritem.status] + "</nobr></span>",
		3 > curritem.status && (a += "<br><font size=-1><i>If you need to edit or add more pieces to your submitted entry, please ask the art organization hosting the call to set your entry status back to 'Not Submitted'.</i></font>"),
		setHTML("submitbutton", a),
		getItemInfo());
		0 != curritem.status && entrysubmitted && (entrysubmitted = !1,
		curritem.addinstructions && 0 < curritem.addinstructions.length ? alert(w_.i86) : alert(w_.i87))
	} else {
		for (c = 0; c < a.length; c++) {
			b += "<div style='float:left; min-width:240; margin:0 20 20 0;'><p class=ptp>";
			1 == a[c].has_thumb && (e = "",
			a[c].dimensions && (e = a[c].dimensions.replace(/'/g, "")),
			k = "",
			a[c].title && (k = a[c].title.replace(/'/g, "")),
			b += '<a href=# onclick="showImage(' + a[c].id + ", '" + k + "', '" + e + "');return false;\"><img src=" + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + ".",
			b = a[c].upload_id ? b + a[c].upload_id : b + a[c].id,
			b += "_thumb",
			0 < a[c].filenumber && (b += "!" + a[c].filenumber),
			b += ".jpg border=0 height=220 title='" + w_.i90 + "'",
			1 == a[c].type && currperm == PERM_JURY && (b += " style='display:none' id=boothimage" + c),
			b += " id=checkthumb" + a[c].id + " onload=checkThumbnail(" + a[c].id + ")></a>");
			if (a[c].views && 0 < a[c].views.length) {
				l = a[c].views.split(",");
				b += "<br><table cellpadding=0 cellspacing=0 width=220><tr valign=top>";
				for (m = 0; m < l.length; m++)
					b += '<td><a href=# onclick="showView(' + c + "," + l[m] + ');return false;"><img src=' + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + "." + a[c].id + ".view." + l[m] + "_thumb.jpg border=0 width=70 title='" + w_.i90 + "'></a></td>",
					2 > m && (b += "<td width=5></td>");
				b += "</tr></table>"
			}
			b += "</p>";
			b += "<p class=ptp><b>ID:</b> " + a[c].id;
			b += "<br><b>Title:</b> " + a[c].title;
			"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORARTBOOTH) && (b += "<br>",
			b = 0 == a[c].type ? b + (w_.i4 + " ") : b + (w_.i5 + " "));
			a[c].description && 0 < a[c].description.length && (b += "<br><b>" + w_.s94a + ":</b> " + a[c].description);
			a[c].dimensions && 0 < a[c].dimensions.length && (b += "<br><b>" + Dimensions + ":</b> " + a[c].dimensions);
			a[c].material && 0 < a[c].material.length && (b += "<br><b>" + w_.s94 + ":</b> " + a[c].material);
			a[c].year && 0 < a[c].year.length && (b += "<br><b>" + w_.s96 + ":</b> " + a[c].year);
			a[c].price && 0 < a[c].price.length && (currperm >= PERM_SHOWADMIN || currperm == PERM_JURY && "1" == curritem.show_prefs.charAt(SHOWPREF_SHOWPRICETOJURORS)) && (b += "<br><b>" + w_.s95 + ":</b> " + a[c].price);
			currperm >= PERM_SHOWADMIN && a[c].status && "1" == curritem.show_prefs.charAt(SHOWPREF_VOTEFOR) && (b += "<br><b>" + w_.i75 + ":</b> " + REVISIONSTATUS[a[c].status]);
			a[c].mime_type && -1 != a[c].mime_type.indexOf("video") && (b += '<br><br><a href=# onclick="showVideo(' + c + ');return false;">' + w_.i74 + "</a><br>");
			a[c].link.startsWith("link:") ? b += "<br> <a href=" + a[c].link.substring(5) + " target=web>Go to web page &raquo;</a>" : currperm >= PERM_SHOWADMIN ? b += "<br><a href=" + revisionLink(a[c].id) + ">" + w_.i74a + "</a>" : 1 != a[c].has_thumb && (b += "<br><a href=" + revisionLink(a[c].id) + ">" + w_.i91 + "</a>");
			a[c].length && 0 < a[c].length && currperm >= PERM_SHOWADMIN && (b += "<br><b>" + w_.i92 + ":</b> " + Math.round(a[c].length / 1E4) / 100 + "mb");
			currperm >= PERM_SHOWADMIN && (b += ' &nbsp;<a href=# onclick="deleteFile(' + a[c].id + ');return false;">[' + w_.i93 + "]</a>");
			1 == a[c].type && 1 == a[c].has_thumb && currperm == PERM_JURY && (b += '<a href=# onclick="showBooth(' + c + ');return false;" id=boothlink' + c + "><br><br>" + w_.i94 + " " + w_upload + "</a>");
			b += "</p><br>";
			currperm >= PERM_JURY && "1" == curritem.show_prefs.charAt(SHOWPREF_VOTEFOR) && (b += "<span id=voter" + a[c].id + ">" + getVoter(a[c], "revision") + "</span>");
			b += "</div>"
		}
		setHTML("juryimages", b + "<div style='clear:both'></div>")
	}
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
}
function showAWMVideo() {
	gEBI("awmvideo").innerHTML = "<br><br><iframe src='https://player.vimeo.com/video/65934543?title=0&amp;byline=0&amp;portrait=0' width='700' height='393' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"
}
function getItemInfo() {
	var a = "<br><p class=ptp><span class=et_title150bold>" + w_.i1 + "</span>";
	0 == curritem.status && (a += '&nbsp;<a href=# onclick="editItem();return false;" class=ptbtn>[' + w_.i35 + "]</a>");
	var b = curritem.show_id + "." + curritem.id;
	curritem.useritemid && 0 < curritem.useritemid.length && (b = curritem.useritemid);
	a = a + "</p><span id=edititeminfo><p class=ptp><b>" + (w_.i44a + ":</b> " + b + "</p>");
	curritem.category && 0 < curritem.category.length && (a += "<p class=ptp><b>" + w_.i44 + ":</b> " + curritem.category + "</p>");
	"0" == curritem.show_prefs.charAt(SHOWPREF_ASKFORDESCRIPTIONOFWORK) && (a += "<p class=ptp><b>" + w_.descriptionofwork + ":</b><br>",
	b = curritem.description,
	a += doBRs(b),
	a += "</p>");
	"1" == curritem.show_prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) && (a += "<p class=ptp><b>" + w_.entrystatement + ":</b><br>",
	b = curritem.statement,
	a += doBRs(b),
	a += "</p>");
	curritem.how_find && 0 < curritem.how_find.length && (a += "<p class=ptp><b>" + w_.i45 + ":</b><br>" + curritem.how_find + "</p>");
	null != addsignupverify && (null == currshow && (currshow = [],
	currshow.id = curritem.show_id),
	a += addsignupverify(curritem, curritem.show_id));
	0 < curritem.status && (a += "<p class=ptp><b>" + w_.i46 + ":</b> " + displayDate(curritem.create_date, !1, !1, !1, !0) + "</p>");
	setHTML("iteminfo", a + "</span>")
}
function showBooth(a) {
	gEBI("boothimage" + a).style.display = "inline";
	setHTML("boothlink" + a, "")
}
function revisionLink(a) {
	return baseserverurl + "/widget?c=" + sitecode + "&a=revision&d=download&revisionid=" + a + "&ck=" + readCookie("entrythingy")
}
function viewLink(a, b) {
	return baseserverurl + "/widget?c=" + sitecode + "&a=revision&d=downloadview&revisionid=" + a + "&viewnr=" + b + "&ck=" + readCookie("entrythingy")
}
function showImage(a, b, c) {
	"undefined" == b && (b = "");
	var e = window.open("", "imagewin", "height=550, width=500,toolbar=0,menubar=0,scrollbars=1,status=0,location=0,resizable=1");
	e.document.write("<HTML><HEAD><TITLE>" + b + "</TITLE></HEAD><BODY>");
	e.document.write("<img name=juryimage src=" + revisionLink(a) + " border=0 width=100% title='" + w_.i95 + "'><br><br>");
	e.document.write("<table width=100%><tr><td><span id=subtitle>" + b);
	e.document.write("</span></td><td align=right>");
	c && "undefined" != c && e.document.write("<span id=subtitle>" + c);
	e.document.write("</span></td></tr></table></BODY></HTML>");
	e.document.close();
	e.focus()
}
function showView(a, b) {
	var c = window.open("", "imagewin", "height=550, width=500,toolbar=0,menubar=0,scrollbars=1,status=0,location=0,resizable=1");
	c.document.write("<HTML><HEAD><TITLE>" + currrevisions[a].title + "</TITLE></HEAD><BODY>");
	c.document.write("<img name=juryimage src=" + viewLink(currrevisions[a].id, b) + " border=0 width=100% title='" + w_.i95 + "'><br><br>");
	c.document.write("<span id=subtitle>" + currrevisions[a].title + "</span>");
	c.document.write("</BODY>");
	c.document.write("</HTML>");
	c.document.close();
	c.focus()
}
function showVideo(a) {
	var b = window.open("", "imagewin", "height=" + (parseInt(currrevisions[a].height) + 100) + ", width=" + (parseInt(currrevisions[a].width) + 50) + ",toolbar=0,menubar=0,scrollbars=1,status=0,location=0,resizable=1");
	b.document.write("<HTML><HEAD><TITLE>" + currrevisions[a].title + "</TITLE></HEAD><BODY><center><br>");
	b.document.write("<video width=" + currrevisions[a].width + " height=" + (parseInt(currrevisions[a].height) + 16) + " controls>");
	b.document.write('<source src="' + revisionLink(currrevisions[a].id) + '" type="' + currrevisions[a].mime_type + '">');
	b.document.write("</video>");
	b.document.write("<br><br>" + currrevisions[a].title + "</span>");
	b.document.write("</center></BODY>");
	b.document.write("</HTML>");
	b.document.close();
	b.focus()
}
function deleteFile(a) {
	confirm(_w_("i96", [w_upload])) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=revision&d=delete&revisionid=" + a)
}
var saveitem = null;
function saveItem() {
	var a = null;
	if (gEBI("item_description")) {
		var b = 80;
		b = curritem ? b + 20 * eval(curritem.show_prefs.charAt(SHOWPREF_STATEMENTLENGTH)) : b + 20 * eval(currshow.prefs.charAt(SHOWPREF_STATEMENTLENGTH));
		0 == gEBI("item_description").value.length && (a = _w_("i97", [w_.descriptionofwork]));
		gEBI("item_description").value.length > b && (a = _w_("i98", [w_.descriptionofwork, b]))
	}
	gEBI("item_statement") && (b = 80,
	b = curritem ? b + 50 * eval(curritem.show_prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH)) : b + 50 * eval(currshow.prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH)),
	0 == gEBI("item_statement").value.length && (a = _w_("i97", [w_.entrystatement])),
	gEBI("item_statement").value.length > b && (a = _w_("i98", [w_.entrystatement, b])));
	b = null;
	null != mcheckaddsignupform && (b = mcheckaddsignupform(currshow.id));
	gEBI("category") && 0 == gEBI("category").value.length ? a = w_.i99 : gEBI("terms") && !gEBI("terms").checked ? a = w_.i100 : gEBI("howfind") && 0 == gEBI("howfind").value.length ? a = w_.i101 : null == checkaddsignupform || checkaddsignupform(currshow.id) ? null != b && (a = b) : a = w_.i102;
	null != a ? displayError(a) : (a = "/widget?c=" + sitecode + "&a=item&d=save",
	a += "&description=",
	gEBI("item_description") && (a += encodeURIComponent(charClean(gEBI("item_description").value))),
	a += "&statement=",
	gEBI("item_statement") && (a += encodeURIComponent(charClean(gEBI("item_statement").value))),
	gEBI("category") && (a += "&category=" + encodeURIComponent(gEBI("category").value)),
	gEBI("howfind") && (a += "&howfind=" + encodeURIComponent(gEBI("howfind").value)),
	null != curritem && (a += "&itemid=" + curritem.id),
	gEBI("showid") && (a += "&showid=" + gEBI("showid").value),
	gEBI("publicity") && (a += "&publicity=" + gEBI("publicity").checked),
	saveaddsignup && (addsignupverify(null, currshow.id),
	a += saveaddsignup(currshow.id)),
	sendCommand(baseserverip, a))
}
function editItem(a) {
	getNav();
	var b = "/widget?c=" + sitecode + "&a=item&d=edit";
	a ? (b += "&showid=" + a,
	curritem = null) : b += "&itemid=" + curritem.id;
	sendCommand(baseserverip, b)
}
function deleteItem(a) {
	confirm(w_.i103) && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=delete&itemid=" + a)
}
function checkInstructions(a) {
	gEBI("hasseeninstructions").checked ? (hasseeninstructions = !0,
	"displayEditResume" == a ? displayEditResume() : displayEditItem()) : alert(w_.i121c)
}
function showTerms() {
	gEBI("termsofentry").style.display = "inline"
}
function checkTAMaxLength(a, b, c) {
	a = gEBI(a);
	var e = a.value;
	e.length > c && (e = e.substring(0, c));
	e = e.replace("<", "");
	e = e.replace(">", "");
	a.value = e;
	setHTML(b, c - a.value.length)
}
var hasseeninstructions = !1
  , hasseenlatentryinfo = !1;
function displayEditItem(a) {
	a ? currshow = a : a = currshow;
	var b = null
	  , c = !1;
	a.submit_end_date && (b = new Date(Date.parse(a.submit_end_date)),
	b.setHours(23),
	b.setMinutes(59));
	b && new Date > b.getTime() && (c = !0);
	a.late_submit_end_date && (b = new Date(Date.parse(a.late_submit_end_date)),
	b.setHours(23),
	b.setMinutes(59));
	if (b && new Date > b.getTime())
		alert(_w_("i104", [w_.callforentries])),
		null == curritem || 0 == curritem.status ? (w_.entrantskipmain && (w_.entrantskipmain = null),
		displayDashboard(0)) : displayItem(null, curritem.id);
	else {
		c && !hasseenlatentryinfo && (hasseenlatentryinfo = !0,
		alert(w_.i89));
		b = "";
		if (null == curritem) {
			b = getNav();
			if (!hasseeninstructions && a.instructions && 0 < a.instructions.length) {
				b += "<p class=ptp><div class=et_myentrytitle150bold>" + w_.i106 + " " + currshow.title + "</div></p><br>";
				b += "<p class=ptp><span class=et_title150bold>" + w_.i121 + "</span></p><p class=ptp>" + doBRs(a.instructions) + "</p>";
				b += "<br><p class=ptp><label><input type=checkbox id=hasseeninstructions> " + w_.i121a + "</label> &nbsp; <input type=button onclick=\"checkInstructions('displayEditItem')\" value='" + w_.i121b + "'></p>";
				setAppArea(b);
				return
			}
			b += "<p class=ptp><table width=100%><tr valign=center><td><div class=et_myentrytitle150bold>" + w_.i106 + " " + currshow.title + "</div></td><td align=right>";
			a.instructions && 0 < a.instructions.length && (b += '<a href=# onclick="displayInstructions();return false;" class=et_link150><nobr>[' + w_.i32a + "]</nobr></a>");
			b = b + "</td></tr></table></p><br><p class=ptp><span class=et_title150bold>" + (w_.i107a + "</span></p><p class=ptp>" + w_.i107);
			b += "</p><br>"
		}
		if (0 < a.categories.length) {
			b += "<p class=ptp><b>" + w_.i44 + ":</b> &nbsp;<select id=category><option value=''>";
			for (var e = 0; -1 != (c = a.categories.indexOf(",", e)); )
				e = a.categories.substring(e, c),
				b += '<option value="' + e + '"',
				curritem && curritem.category == e && (b += " selected"),
				b += ">" + e,
				e = c + 2;
			e = a.categories.substring(e);
			b += '<option value="' + e + '"';
			curritem && curritem.category == e && (b += " selected");
			b = b + (">" + e) + "</select></p>"
		}
		"0" == currshow.prefs.charAt(SHOWPREF_ASKFORDESCRIPTIONOFWORK) && (c = 80 + 20 * eval(currshow.prefs.charAt(SHOWPREF_STATEMENTLENGTH)),
		b += "<p class=ptp><b>" + w_.descriptionofwork + ":</b><br><textarea id=item_description class=et_editentryinput onkeyup=\"checkTAMaxLength('item_description', 'd_charcnt', " + c + ');">',
		curritem && (b += curritem.description),
		b += "</textarea><br><font size=-2><span id=d_charcnt>",
		b = curritem ? b + (c - curritem.description.length) : b + c,
		b += "</span> " + w_.i109 + ".</font></p>");
		"1" == currshow.prefs.charAt(SHOWPREF_ASKFORENTRYSTATEMENT) && (c = 80 + 50 * eval(currshow.prefs.charAt(SHOWPREF_ENTRYSTATEMENTLENGTH)),
		b += "<p class=ptp><b>" + w_.entrystatement + ":</b><br><textarea id=item_statement class=et_editentryinput onkeyup=\"checkTAMaxLength('item_statement', 's_charcnt', " + c + ');">',
		curritem && curritem.statement && (b += curritem.statement),
		b += "</textarea><br><font size=-2><span id=s_charcnt>",
		b = curritem && curritem.statement ? b + (c - curritem.statement.length) : b + c,
		b += "</span> " + w_.i109 + ".</font></p>");
		null != addsignupform && (curritem && addsignupverify(curritem, currshow.id),
		b += addsignupform(currshow.id));
		null == curritem && (b += "<input type=hidden id=showid value=" + a.id + ">",
		a.terms && 0 < a.terms.length && (b += "<p class=ptp><label><input type=checkbox id=terms> <b>" + w_.i110 + "</b></label></p>",
		b += "<span id=termsofentry style='display:none'><p class=ptp>" + doBRs(a.terms) + "</p></span>"));
		"1" == currshow.prefs.charAt(SHOWPREF_ASKHOWFIND) && (b += "<p class=ptp><b>" + w_.i111 + '</b><br><input type=text id=howfind class=et_editfileinput maxlength=60 value="',
		null != curritem && curritem.how_find && (b += curritem.how_find),
		b += '"></p>');
		"1" == currshow.prefs.charAt(SHOWPREF_ASKFORPUBLICITY) && (b += "<p class=ptp><label><input type=checkbox id=publicity",
		null != curritem && 1 == curritem.image_publicity && (b += " checked"),
		b += "> <b>" + _w_("i112", [w_upload]) + "</b></label></p>");
		b += '<br><span id=errorarea></span><p class=ptp><input class=et_savebutton type=button onclick="saveItem();" value=\'' + w_.i113;
		null == curritem && (b += w_.i113a);
		b += "' >";
		curritem && (b += "&nbsp; <input class=et_cancelbutton type=button value='" + w_.i114 + "' onclick=\"displayItem(null, " + curritem.id + ')"></form></p>');
		null == curritem ? setAppArea(b) : setHTML("edititeminfo", b)
	}
}
var newitemid;
function uploadFile(a, b) {
	uploadcode = a.authcode;
	newitemid = "revision" == b ? a.item_id : null;
	videoserverurl = baseserverurl;
	gEBI(b + "uploadform").action = videoserverurl + "/cire?uploadcode=" + a.authcode + "&maxsize=" + curritem.show_maxfilesize + "000000";
	gEBI("podcastid").value = a.s3_id;
	gEBI("authcode").value = a.authcode;
	gEBI(b + "uploadform").submit();
	upload("start")
}
var uploadtimer, uploadcnt, uploadcode, videoserverurl, pendingcnt = 0, uploadstart;
function upload(a, b) {
	"start" == a ? (pendingcnt = uploadcnt = 0,
	uploadstart = (new Date).getTime(),
	uploadtimer = setTimeout("upload('go')", 1500)) : (++uploadcnt,
	a = "<p class=ptp>" + _w_("i123", [loadimage]),
	b && (a += b),
	setHTML("saverevisionform", a + "</p><br><br>"),
	sendCommand(videoserverurl, "/jsc?uc=" + uploadcode, !0));
	return !0
}
function uploadStatus(a) {
	if ("done" == a.status || null != a.error)
		if (a.error) {
			if ("server" == a.error)
				a = w_.i124;
			else if ("authcode" == a.error)
				a = w_.i125;
			else if (a.error.startsWith("size")) {
				var b = ""
				  , c = "";
				-1 != a.error.indexOf(";") && (b = a.error.substring(a.error.indexOf(";") + 1, a.error.indexOf(">")),
				b = parseInt(b),
				b = 1E6 > b ? "(" + Math.round(b / 10) / 100 + "mb)" : "(" + Math.round(b / 1E4) / 100 + "mb)",
				c = a.error.substring(a.error.indexOf(">") + 1),
				a = parseInt(c),
				c = 1E6 > a ? "(" + Math.round(a / 10) / 100 + "mb)" : "(" + Math.round(a / 1E4) / 100 + "mb)");
				a = _w_("i126", [b, c])
			} else
				a = a.error.startsWith("thumbimage") ? w_.i127 : w_.i128 + a.error + ".";
			displayAddFiles();
			displayError(a)
		} else
			saveforaddfiles = [],
			currperm >= PERM_SHOWADMIN ? aae4(curritem) : curritem ? displayItem(null, curritem.id) : displayItem(null, newitemid);
	else {
		b = "";
		c = 0;
		if ("reading" == a.status) {
			b += a.percentcomplete + w_.i129;
			var e = (new Date).getTime() - uploadstart;
			0 < eval(a.totalread) && (c = e / eval(a.totalread) * (eval(a.contentlength) - eval(a.totalread)),
			c /= 1E3,
			b = 60 < c ? b + (", " + w_.i130 + ": " + Math.round(c / 60) + " " + w_.i131) : b + (", " + w_.i130 + ": " + Math.round(c) + " " + w_.i132))
		} else
			-1 != a.status.indexOf("pending") && pendingcnt++,
			20 < pendingcnt && (alert("Ooops. Your upload seems to have failed (" + a.status + ").\n\nPlease follow the steps below to improve your chances of success:\n\n- The most reliable way to upload to EntryThingy is by using a browser equipped with the most up-to-date technology. Please make sure you have the newest version of your browser installed on your computer.\n\n- You should use a Chrome incognito window or Firefox Private Browse. This will temporarily exclude the use of browser extensions, which may interfere with communication between your computer and EntryThingy. Ad blocking extensions, for instance, are commonly responsible for these problems.\n\n- You should temporarily disable anti-spyware, anti-virus, or similar software. These programs are also known to interfere with communication.\n\n- Reboot your computer (yes, this really does help)\n\n- You may also benefit from plugging your computer directly into your modem with an ethernet cable, rather than connecting wirelessly through a router. This can improve the stability of your connection.\n\nIf this problem persists, please contact us at hello@entrythingy.com. Thanks!"),
			window.location.reload(!0)),
			b += a.status;
		clearTimeout(uploadtimer);
		a = 1500;
		50 < uploadcnt && 20 < c ? a = 1E4 : 20 < uploadcnt ? a = 5E3 : 5 < uploadcnt && (a = 2500);
		c = "<p class=ptp>" + _w_("i123", [loadimage]);
		b && (c += b);
		setHTML("saverevisionform", c + "</p><br><br>");
		uploadtimer = setTimeout("upload('go','" + b + "')", a)
	}
}
var saveforjuryitem;
function displayJuryItem(a, b) {
	"notfound" == a ? alert(w_.i133) : (saveforjuryitem = [],
	saveforjuryitem[b] = gEBI("et_apparea").innerHTML,
	remainingcommands = 0,
	b = getNav(),
	b += "<p class=ptp id=showname></p><p class=ptp><table cellpadding=0 cellspacing=0 width=100%><tr><td><span class=et_title150bold id=showcat></span>",
	currperm == PERM_ARTIST ? b += ' &nbsp; <a href=# onclick="displayItem(null, ' + a + ');return false;" class=ptbtn>[' + w_.i134 + "]</a>" : currperm >= PERM_JURY && (b += "</td><td align=right nowrap><span id=votearea></span></td>"),
	b = b + "</tr></table></p><span id=itemnotes" + (a + "></span><p class=ptp id=jurystatement></p><p class=ptp id=juryimages></p><p class=ptp id=juryinfo></p>"),
	currperm >= PERM_SHOWADMIN && (b += "<div id=addsignupinfo></div>"),
	setAppArea(b),
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=item&itemid=" + a))
}
function displayJuryItemByCat(a) {
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=item&d=itembycat&showid=" + currshow.id + "&cat=" + encodeURIComponent(a))
}
var resumeform = "form";
function displayEditResume(a) {
	resumeform = "form";
	a && (currshow = a);
	a = null;
	var b = !1;
	currshow.submit_end_date && (a = new Date(Date.parse(currshow.submit_end_date)),
	a.setHours(23),
	a.setMinutes(59));
	a && new Date > a.getTime() && (b = !0);
	currshow.late_submit_end_date && (a = new Date(Date.parse(currshow.late_submit_end_date)),
	a.setHours(23),
	a.setMinutes(59));
	if (a && new Date > a.getTime())
		alert(_w_("i135", [w_.callforentries])),
		null == curritem ? (w_.entrantskipmain && (w_.entrantskipmain = null),
		displayDashboard(0)) : displayItem(null, curritem.id);
	else if (b && !hasseenlatentryinfo && (hasseenlatentryinfo = !0,
	alert(w_.i89)),
	a = "" + getNav(),
	!hasseeninstructions && currshow.instructions && 0 < currshow.instructions.length)
		a += "<p class=ptp><div class=et_myentrytitle150bold>" + w_.i106 + " " + currshow.title + "</div></p><br>",
		a += "<p class=ptp><span class=et_title150bold>" + w_.i121 + "</span></p><p class=ptp>" + doBRs(currshow.instructions) + "</p>",
		a += "<br><p class=ptp><label><input type=checkbox id=hasseeninstructions> " + w_.i121a + "</label> &nbsp; <input type=button onclick=\"checkInstructions('displayEditResume')\" value='" + w_.i121b + "'></p>",
		setAppArea(a);
	else {
		a += "<p class=ptp><table width=100%><tr valign=center><td><div class=et_myentrytitle150bold>" + w_.i106 + " " + currshow.title + "</div></td><td align=right>";
		currshow.instructions && 0 < currshow.instructions.length && (a += '<a href=# onclick="displayInstructions();return false;" class=et_link150><nobr>[' + w_.i32a + "]</nobr></a>");
		a += "</td></tr></table></p><br>";
		var c = b = ""
		  , e = "1" == currshow.prefs.charAt(SHOWPREF_ASKFORSTATEMENT)
		  , f = "1" == currshow.prefs.charAt(SHOWPREF_ASKFORRESUME);
		e && f ? (b = w_.i136,
		c = _w_("i137", [w_.i137a])) : e ? (b = w_.i136a,
		c = _w_("i137", [w_.i137b])) : f && (b = w_.i136b,
		c = _w_("i137", [w_.i137c]));
		a = a + ("<p class=ptp><span class=et_title150bold>" + b + "</span></p><p class=ptb id=resumeinfo>" + c + "</p><form method='post' accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' action='") + (baseserverip + "/widget' target='et_uploadtarget' onsubmit=\"return saveResume();\">");
		a += "<div id=resumearea>";
		e && (a += "<p class=ptp><b>" + w_.i138 + ":</b><br><textarea id=et.statement class=et_contactinfotextarea>",
		currshow.user_statement && (a += doBRs(currshow.user_statement)),
		a += "</textarea></p>");
		f && (a += "<p class=ptp><b>" + w_.i139 + ":</b><br><textarea id=et.resume class=et_contactinfotextarea>",
		currshow.user_resume && (a += doBRs(currshow.user_resume)),
		a += "</textarea></p>");
		a += "</div><input type=hidden name=showid value=" + currshow.id + "><input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveresume value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + ">";
		a += "<p class=ptp><input class=et_savebutton id=submitresume type=submit value='" + w_.i140 + "' > &nbsp; <input class=et_cancelbutton id=cancelresume type=button value='" + w_.i141 + '\' onclick="displayDashboard(0)"></form></p>';
		setAppArea(a);
		"no" != w_.scrollupto && window.scroll(0, w_.scrollupto)
	}
}
function saveResume() {
	var a = "";
	if ("form" == resumeform) {
		if ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORSTATEMENT)) {
			if (0 == gEBI("et.statement").value.length || 0 == gEBI("et.statement").value.length)
				return alert(w_.i142),
				!1;
			currshow.user_statement = charClean(gEBI("et.statement").value).replace(/"/g, "&quot;");
			a += "<p class=ptp><b>" + w_.i138 + ":</b><br>" + doBRs(currshow.user_statement) + "</p>";
			a += '<input type=hidden name=statement value="' + currshow.user_statement + '">'
		}
		if ("1" == currshow.prefs.charAt(SHOWPREF_ASKFORRESUME)) {
			if (0 == gEBI("et.resume").value.length || 0 == gEBI("et.resume").value.length)
				return alert(w_.i143),
				!1;
			currshow.user_resume = charClean(gEBI("et.resume").value).replace(/"/g, "&quot;");
			a += "<p class=ptp><b>" + w_.i139 + ":</b><br>" + doBRs(currshow.user_resume) + "</p>";
			a += '<input type=hidden name=resume value="' + currshow.user_resume + '">'
		}
		setHTML("resumearea", a);
		setHTML("resumeinfo", w_.i144);
		gEBI("cancelresume").onclick = new Function("displayEditResume()");
		gEBI("cancelresume").value = w_.i145;
		resumeform = "confirm";
		"no" != w_.scrollupto && window.scroll(0, w_.scrollupto);
		return !1
	}
	postcheckercnt = 0;
	posting = "resume";
	postChecker();
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto);
	return !0
}
function calcItemPaypal() {
	if (0 < document.getElementsByName("notify_url").length)
		if (currrevisions.length < curritem.max_images) {
			if (!confirm(_w_("i65", [w_.callforentries, w_.callforentries])))
				return !1
		} else if (!confirm(_w_("i66", [w_upload])))
			return !1;
	var a = 0;
	document.getElementById("pp_baseprice") && (a = eval(document.getElementById("pp_baseprice").value));
	if (document.getElementById("pp_imageprice"))
		if (document.getElementById("pp_endimageprice")) {
			var b = currrevisions.length;
			document.getElementById("pp_imagepricetype") && "range" == document.getElementById("pp_imagepricetype").value ? b >= eval(document.getElementById("pp_startimageprice").value) && b <= eval(document.getElementById("pp_endimageprice").value) && (a += eval(document.getElementById("pp_imageprice").value)) : (b > eval(document.getElementById("pp_endimageprice").value) && (b = eval(document.getElementById("pp_endimageprice").value)),
			b >= document.getElementById("pp_startimageprice").value && (a += eval(document.getElementById("pp_imageprice").value) * (b - eval(document.getElementById("pp_startimageprice").value) + 1)))
		} else
			currrevisions.length >= document.getElementById("pp_startimageprice").value && (a += eval(document.getElementById("pp_imageprice").value) * (currrevisions.length - eval(document.getElementById("pp_startimageprice").value) + 1));
	for (var c = 1; 3 > c; c++)
		document.getElementById("pp_imageprice" + c) && (b = currrevisions.length,
		document.getElementById("pp_imagepricetype") && "range" == document.getElementById("pp_imagepricetype").value ? b >= eval(document.getElementById("pp_startimageprice" + c).value) && b <= eval(document.getElementById("pp_endimageprice" + c).value) && (a += eval(document.getElementById("pp_imageprice" + c).value)) : (b > eval(document.getElementById("pp_endimageprice" + c).value) && (b = eval(document.getElementById("pp_endimageprice" + c).value)),
		b >= document.getElementById("pp_startimageprice" + c).value && (a += eval(document.getElementById("pp_imageprice" + c).value) * (b - eval(document.getElementById("pp_startimageprice" + c).value) + 1))));
	document.getElementById("pp_groupprice") && (b = currrevisions.length,
	a += eval(document.getElementById("pp_groupprice").value) * Math.ceil(b / eval(document.getElementById("pp_groupnumber").value)));
	b = "";
	if (document.getElementById("pp_optionselect")) {
		if ("na" == document.getElementById("pp_optionselect").value)
			return alert("Ooops. Please select an option from the dropdown."),
			!1;
		a += eval(document.getElementById("pp_optionprice" + document.getElementById("pp_optionselect").value).value);
		a += eval(document.getElementById("pp_optionperimageprice" + document.getElementById("pp_optionselect").value).value) * currrevisions.length;
		b += document.getElementById("pp_optionselect").value
	}
	document.getElementById("pp_checkbox") && document.getElementById("pp_checkbox").checked && (a += eval(document.getElementById("pp_checkboxprice").value),
	a += eval(document.getElementById("pp_checkboxperimageprice").value) * currrevisions.length,
	b += "c");
	0 < b.length && (b = " (" + b + ")");
	document.getElementById("pp_price").value = a;
	document.getElementById("pp_item_name").value = "Entry fee for " + curritem.show_name + " from " + curruser.first_name + " " + curruser.last_name + b;
	return !0
}
function displayAddView(a) {
	var b = "<div id=saveviewform><form method='post' action='' enctype='multipart/form-data' id='viewuploadform' name='viewuploadform' target='et_uploadtarget' ><p class=ptp><b>Add view:</b> <font size=-1>(JPEG image files only for views)</font><br><input type=file id=viewfilename0 name='file0'></p></p><p class=ptp><input type='hidden' id='revid' name='revid' value='" + (a + "'><input type='hidden' id='savethumb' name='savethumb' value=''><input type='hidden' id='maxthumbwidth' name='maxthumbwidth' value='220'>");
	b += "<input type='hidden' id='authcode' name='authcode' value=''>";
	b += "<input type='hidden' id='podcastid' name='id'>";
	b += "<input type='hidden' name='suploadvideo' value='y'>";
	b += "<input type='hidden' id='callbackurl' name='callbackurl' value='" + baseserverurl + "'>";
	0 < curritem.show_minfilesize && (b += "<input type='hidden' name='minsize' value='" + curritem.show_minfilesize + "000'>");
	0 < curritem.show_minimagewidth && (b += "<input type='hidden' name='minwidth' value='" + curritem.show_minimagewidth + "'>");
	b += '<span id=errorarea></span><p class=ptp><div id=fileuploadwait><input class=et_submitbutton type=button onclick="addView(' + a + ");\" value='" + w_.i13 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i14 + "' onclick=\"setHTML('addviewarea" + a + "', ''); \"></div></form></p><br>";
	b += "</div>";
	setHTML("addviewarea" + a, b)
}
function addView(a) {
	var b = gEBI("viewfilename0").value;
	if (0 == b.length)
		displayError(w_.i15);
	else if (-1 != b.indexOf('"') || -1 != b.indexOf("'"))
		displayError("Ooops. File names can't contain quotes (\", ').");
	else {
		var c = b.toLowerCase().trim();
		c.endsWith("jpg") || c.endsWith("jpeg") ? (b = "/widget?c=" + sitecode + "&a=item&d=addview&file0=" + encodeURIComponent(b),
		curritem && (b += "&itemid=" + curritem.id),
		b += "&revid=" + a,
		setHTML("fileuploadwait", " &nbsp; &nbsp; &nbsp;" + loadimage + " &nbsp;" + w_.t9),
		sendCommand(baseserverip, b)) : displayError("Ooops. JPEG image files only for views")
	}
}
function deleteView(a, b) {
	confirm("Are you sure you want to delete this view?") && sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=revision&d=deleteview&revisionid=" + a + "&viewnr=" + b)
}
function otherRevisions() {
	sendCommand(baseserverurl, "/widget?c=" + sitecode + "&a=item&d=otherrevisions&itemid=" + curritem.id)
}
function saveOtherRevisions() {
	for (var a = "/widget?c=" + sitecode + "&a=item&d=saveotherrevisions&itemid=" + curritem.id + "&ids=", b = 0, c = 0; c < currrevisions.length; c++)
		gEBI("usethis" + currrevisions[c].id).checked && (0 < b && (a += ","),
		a += currrevisions[c].id,
		b++);
	sendCommand(baseserverurl, a)
}
function displayOtherRevisions(a) {
	setHTML("imagestitle", "Your " + w_upload + "s from other " + w_.callsforentries);
	setHTML("addfileslink", "");
	setHTML("bottomaddfileslink", "");
	setHTML("addrevision", "");
	if (0 == a.length)
		setHTML("revisionslist", "<p class=ptp>" + _w_("i69", [w_upload, w_.callsforentries, w_upload, w_.callsforentries, '<a href=# onclick="displayItem(null,' + curritem.id + ');return false;">', w_upload, w_.callforentries]));
	else {
		currrevisions = a;
		for (var b = "<p class=ptp>" + _w_("i70", [w_upload, w_.callsforentries, w_upload, w_.callforentries, w_upload]) + w_.i70a + "</p><br>", c = 0; c < a.length; c++)
			b += "<div style='float:left; margin:0 10 20 0'><p class=ptp>",
			null != a[c].has_thumb ? (b += '<a href=# onclick="useThisImage(' + a[c].id + ', true); return false;"><img src=' + S3IMAGESPATH + a[c].widget_id + "." + a[c].item_id + ".",
			b = a[c].upload_id ? b + a[c].upload_id : b + a[c].id,
			b += "_thumb",
			0 < a[c].filenumber && (b += "!" + a[c].filenumber),
			b += ".jpg border=0 height=120 id=usethisimage" + a[c].id + "></a>") : b += "<a href=" + revisionLink(a[c].id) + ">" + a[c].link.substring(5) + "</a>",
			b += "</p><p class=ptp id=rinfo" + a[c].id + '><label><input type=checkbox  onchange="useThisImage(' + a[c].id + ', false);" id=usethis' + a[c].id + "> " + w_.i71 + " " + w_upload + "</label></p>",
			b += "</div>";
		b += "<div style='clear:both'></div><p class=ptp><input class=et_submitbutton type=button onclick=\"saveOtherRevisions();\" value='" + _w_("i72", [w_upload]) + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i68 + "' onclick=\"displayItem(null, " + curritem.id + ')"></p>';
		setHTML("revisionslist", b)
	}
}
var awmsearch = ""
  , awmsort = 0
  , awmstatus = "any"
  , awmartgroup = "any"
  , awmlimit = 50;
function artwork() {
	var a = "/widget?c=" + sitecode + "&a=item&d=artwork&itemid=" + curritem.id;
	null != awmsearch && 0 < awmsearch.length && (a += "&search=" + encodeURIComponent(awmsearch));
	0 != awmsort && (a += "&sort=" + awmsort);
	"any" != awmartgroup && (a += "&artgroup=" + awmartgroup);
	"any" != awmstatus && (a += "&status=" + awmstatus);
	50 != awmlimit && (a += "&limit=" + awmlimit);
	sendCommand(baseserverurl, a)
}
function saveArtwork() {
	for (var a = "/widget?c=" + sitecode + "&a=item&d=saveartwork&itemid=" + curritem.id + "&ids=", b = 0, c = 0; c < currartwork.length; c++)
		gEBI("usethis" + currartwork[c].id).checked && (0 < b && (a += ","),
		a += currartwork[c].id,
		b++);
	0 == b ? displayError("Ooops. You didn't select any pieces.", "toperrorarea") : b + currrevisions.length > curritem.max_images ? displayError("Ooops. You have selected more than the maximum number of pieces allowed (" + curritem.max_images + ") for this entry.", "toperrorarea") : (gEBI("saveartworkbutton1").value = "Saving...",
	gEBI("saveartworkbutton1").disabled = !0,
	gEBI("saveartworkbutton2").value = "Saving...",
	gEBI("saveartworkbutton2").disabled = !0,
	sendCommand(baseserverurl, a))
}
var currartwork;
function displayArtwork(a, b) {
	setHTML("imagestitle", "Your artwork from EntryThingy's Artwork Management");
	setHTML("addfileslink", "");
	setHTML("bottomaddfileslink", "");
	setHTML("addrevision", "");
	if (0 == a.length && 0 == awmsearch.length && "any" == awmstatus && 0 == b.length)
		setHTML("revisionslist", "<p class=ptp>You can use artwork from your EntryThingy Artwork Management account - however you haven't added any yet. <a href=https://www.entrythingy.com/forartists_artworkmanagement target=awm>Click here to add to and manage your artwork</a> with EntryThingy's Artwork Management. <a href=# onclick=\"displayItem(null, " + curritem.id + "); return false;\">Click here to return to the 'Add piece' area</a>.<br><br>Watch the short video below to learn more about EntryThingy's Artwork Management:<br><br><iframe src='https://player.vimeo.com/video/65934543?title=0&amp;byline=0&amp;portrait=0' width='500' height='281' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>");
	else {
		currartwork = a;
		var c = "<p class=ptp>Select from your artwork below and click 'Use selected pieces' to add them to your entry. <a href=https://www.entrythingy.com/forartists_artworkmanagement target=awm>Click here to manage your artwork</a>.</p><br><p><select onchange=\"awmsort=this.value; artwork();\">";
		for (var e = 0; e < AWMSORT.length; e++)
			c += '<option value="' + e + '"',
			awmsort == e && (c += " selected"),
			c += ">",
			c += "Sort by ",
			c += AWMSORT[e];
		c += "</select>";
		if (0 < b.length) {
			c += ' &nbsp; <select onchange="awmartgroup=this.value; artwork();"><option value=any>Any group';
			for (e = 0; e < b.length; e++)
				c += '<option value="' + b[e].artgroup + '"',
				awmartgroup == b[e].artgroup && (c += " selected"),
				c += ">" + b[e].artgroup;
			c += "</select>"
		}
		c += ' &nbsp; <select onchange="awmstatus=this.value; artwork();"><option value=any>Any status';
		for (e = 0; e < AWMHISTORYSTATUS.length; e++)
			c += '<option value="' + e + '"',
			awmstatus == e && (c += " selected"),
			c += ">" + AWMHISTORYSTATUS[e];
		c = c + "</select> &nbsp; <input type=text id=awmsearchfield style='width:60px' title='Search artwork titles' value='" + (awmsearch + "'><input type=button onclick=\"awmsearch=gEBI('awmsearchfield').value; artwork();\" value=Search>");
		c += ' &nbsp; <nobr><select onchange="awmlimit=this.value; artwork();">';
		for (e = 0; e < AWMLIMIT.length; e++)
			c += '<option value="' + AWMLIMIT[e] + '"',
			awmlimit == AWMLIMIT[e] && (c += " selected"),
			c += ">" + AWMLIMIT[e] + " pieces";
		c += "</select></nobr></p>";
		if (0 < a.length) {
			c += '<p class=ptp><input id=saveartworkbutton1 class=et_submitbutton type=button onclick="saveArtwork();" value=\'' + _w_("i72", [w_upload]) + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i68 + "' onclick=\"displayItem(null, " + curritem.id + ')"></p>';
			c += "<span id=toperrorarea></span>";
			for (e = 0; e < a.length; e++) {
				c += "<div style='float:left; margin:0 10 20 0;'><p class=ptp>";
				c += '<a href=# onclick="useThisImage(' + a[e].id + ', true); return false;"><img src=' + S3ARTWORKIMAGESPATH + a[e].owner_id + "." + a[e].id + "_thumb.jpg?" + a[e].imageversion + " id=usethisimage" + a[e].id + " border=0 height=120 title='" + a[e].title + "'></a>";
				b = [];
				var f = 0;
				if (a[e].views && 0 < a[e].views.length) {
					for (var g = 0, k; -1 != (k = a[e].views.indexOf(",", g)); )
						b[f] = a[e].views.substring(g, k),
						g = k + 1,
						f++;
					b[f] = a[e].views.substring(g)
				}
				if (0 < b.length) {
					c += "<br><table cellpadding=0 cellspacing=0 width=120><tr valign=top>";
					for (g = f = 0; g < b.length; g++)
						c += "<td align=center>",
						c += "<img src=" + S3ARTWORKIMAGESPATH + a[e].owner_id + "." + a[e].id + ".view." + b[g] + "_thumb.jpg?" + a[e].imageversion + " border=0 width=30>",
						c += "</td>",
						f++,
						2 > g && (c += "<td width=5></td>",
						f++);
					c += "</tr></table>"
				}
				c += "</p><span id=rinfo" + a[e].id + '><label><input type=checkbox onchange="useThisImage(' + a[e].id + ', false);" id=usethis' + a[e].id + "> " + a[e].title + "</label></span>";
				c += "</div>"
			}
			c += "<div style='clear:both'></div><span id=bottomerrorarea></span><p class=ptp><input id=saveartworkbutton2 class=et_submitbutton type=button onclick=\"saveArtwork();\" value='" + _w_("i72", [W_upload]) + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.i68 + "' onclick=\"displayItem(null, " + curritem.id + ')"></p>'
		} else
			c += "<br><p>No artwork matches your filter settings.</P>";
		setHTML("revisionslist", c)
	}
}
function useThisImage(a, b) {
	1 == gEBI("usethis" + a).checked ? b ? (gEBI("usethisimage" + a).style.border = "0",
	gEBI("usethis" + a).checked = !1) : gEBI("usethisimage" + a).style.border = "thick solid #000" : b ? (gEBI("usethisimage" + a).style.border = "thick solid #000",
	b && (gEBI("usethis" + a).checked = !0)) : gEBI("usethisimage" + a).style.border = "0"
}
isLoaded("entrythingy_item");
var addsignupform, checkaddsignupform, mcheckaddsignupform, addsignupverify, saveaddsignup, saveprefs;
function logout(a) {
	currpw = null;
	currperm = 0;
	var b = new Date;
	b.setTime(b.getTime() - 864E5);
	a ? (signupinfo = [],
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=logout", "et_apparea")) : isloggedin = !1;
	document.cookie = "entrythingy=; expires=" + b.toGMTString() + "; path=/"
}
function login() {
	gEBI("et.email").value = gEBI("et.email").value.trim();
	signupinfo.email = gEBI("et.email").value;
	var a = checkEmail(gEBI("et.email").value);
	null != a ? displayError(a) : 5 > gEBI("et.password").value.length ? displayError(w_.l2) : (a = "/widget?c=" + sitecode + "&a=login",
	a += "&eml=" + encodeURIComponent(gEBI("et.email").value) + "&pw=" + encodeURIComponent(gEBI("et.password").value),
	getCookie(),
	setHTML("loginbutton", "Logging you in..."),
	sendCommand(baseserverip, a))
}
function getCookie() {
	var a = new Date;
	currpw = Math.random() + "." + a.getTime();
	a.setTime(a.getTime() + 31104E6);
	document.cookie = "entrythingy=" + currpw + "; expires=" + a.toGMTString() + "; path=/"
}
function displayLogin() {
	var a = "<div style='float:left; margin:0px 30px 30px 0px'><form onsubmit=\"login(); return false;\"><p class=ptp><b>" + w_.l4 + "</b><br><input type=text id=et.email value='";
	null != signupinfo.email ? a += signupinfo.email : w_.loginemail && (a += w_.loginemail);
	a += "'  class=et_logininput></p><p class=ptp><b>" + w_.l5 + "</b><br><input type=password id=et.password class=et_logininput></p><span id=errorarea></span><p class=ptp id=loginbutton><input class=et_loginbutton type=submit value='" + w_.l6 + "'></p></form>";
	a += "</div><div style='float:left; min-width:300px; max-width:50%;'><p class=ptp><span style='font-size:130%; font-weight:bold'>" + w_.l3 + "</span>";
	a = w_.login_right ? a + w_.login_right : a + (w_.l3a + "<br><br><br><b>" + w_.l7 + '</b> <a href=# onclick="displaySignup(true, true);return false;"><b>' + w_.l8 + "</b></a>.<br><br><b>" + w_.l9 + '</b> <a href=# onclick="displayForgotPassword();return false;"><b>' + w_.l10 + "</b></a>.");
	setHTML("et_apparea", a + "</p></div><div style='clear:both'></div>")
}
function displayFindLogin() {
	var a = "<form action=/login.html method=post onsubmit='return checkFindLogin()'><b>Email</b><br><input id=email name=email type=text style='width:250px' value='" + (document.getElementById("emailfromserver").value + "'>");
	a += "<input name=sfindlogin type=submit value=Submit></form>";
	document.getElementById("findlogin").innerHTML = a
}
function checkFindLogin() {
	var a = checkEmail(document.getElementById("email").value);
	return null != a ? (document.getElementById("errorarea").innerHTML = "<br><br>" + a,
	!1) : !0
}
function signup() {
	signupinfo.email = gEBI("et.email").value;
	signupinfo.first_name = gEBI("et.first_name").value;
	signupinfo.last_name = gEBI("et.last_name").value;
	if (7 > gEBI("et.email").value.length || -1 == gEBI("et.email").value.indexOf("@") || -1 == gEBI("et.email").value.indexOf(".") || -1 != gEBI("et.email").value.indexOf(" ") || -1 != gEBI("et.email").value.indexOf(",") || -1 != gEBI("et.email").value.indexOf("\\") || -1 != gEBI("et.email").value.indexOf("/") || -1 != gEBI("et.email").value.indexOf(";"))
		displayError(w_.l11);
	else if (0 == gEBI("et.first_name").value.length)
		displayError(w_.l12);
	else if (50 <= gEBI("et.first_name").value.length)
		displayError(w_.l12a);
	else if (50 <= gEBI("et.last_name").value.length)
		displayError(w_.l12b);
	else if (0 == gEBI("et.last_name").value.length)
		displayError(w_.l13);
	else if (5 > gEBI("et.password").value.length)
		displayError(w_.l14);
	else if (gEBI("et.password").value != gEBI("et.confirmpassword").value)
		displayError(w_.l15);
	else if (confirm("Please double-check your email:\n\n" + gEBI("et.email").value + "\n\nClick Ok if that is correct, or Cancel to correct it.")) {
		setHTML("signupbutton", "Signing you up...");
		var a = "/widget?c=" + sitecode + "&a=signup";
		a += "&fnm=" + encodeURIComponent(gEBI("et.first_name").value) + "&lnm=" + encodeURIComponent(gEBI("et.last_name").value) + "&pw=" + encodeURIComponent(gEBI("et.password").value) + "&eml=" + encodeURIComponent(gEBI("et.email").value);
		getCookie();
		a += "&ck=" + currpw;
		sendCommand(baseserverip, a, "et_apparea")
	}
}
function forgotPassword() {
	if (7 > gEBI("et.email").value.length || -1 == gEBI("et.email").value.indexOf("@") || -1 == gEBI("et.email").value.indexOf("."))
		displayError(w_.l16);
	else {
		signupinfo.email = gEBI("et.email").value;
		var a = "/widget?c=" + sitecode + "&a=forgotpassword";
		a += "&eml=" + gEBI("et.email").value;
		setHTML("forgotbutton", "Requesting a new password...");
		sendCommand(baseserverip, a, "et_apparea")
	}
}
function displayForgotPassword() {
	var a = "<div style='float:left; margin:0px 30px 30px 0px'><form onsubmit=\"forgotPassword(); return false;\"><p class=ptp><b>" + w_.l18 + "</b><br><input type=text id=et.email class=et_logininput value='";
	gEBI("et.email") ? a += gEBI("et.email").value : null != signupinfo.email ? a += signupinfo.email : w_.loginemail && (a += w_.loginemail);
	a += "'></p><span id=errorarea></span><p class=ptp id=forgotbutton><input class=et_submitbutton type=submit value='" + w_.l19 + "'></p></form></div><div style='float:left; min-width:300px; max-width:50%;'><p class=ptp><span style='font-size:130%; font-weight:bold'>" + w_.l17 + "</span><br><br><b>" + w_.l20 + '</b> <a href=# onclick="displayLogin(false);return false;"><b>' + w_.l21 + "</b></a>.</p></div><div style='clear:both'></div>";
	setHTML("et_apparea", a)
}
function displayStartWithList(a) {
	var b = null;
	w_.dashboardfiltershowid ? b = w_.dashboardfiltershowid.toString().split(",") : -1 != window.location.href.indexOf("callfilter=") && (b = window.location.href.substring(window.location.href.indexOf("callfilter=") + 11),
	-1 != b.indexOf("#") && (b = b.substring(0, b.indexOf("#"))),
	b = b.split(","));
	for (var c = "<table width=100%><tr valign=top><td style='font-weight:bold; font-size:large;'><a href=# onclick=\"displaySignup(true, true);return false;\">" + w_.l22 + ".</td><td width=30>&nbsp;&nbsp;&nbsp;</td><td align=right style='font-weight:bold; font-size:large;'>" + w_.l23 + ' <a href=# onclick="displayLogin(false);return false;">' + w_.l21 + "</a>.</td></tr></table><br>", e = 0; e < a.length && !(49 < e); e++) {
		if (b) {
			for (var f = !1, g = 0; g < b.length; g++)
				if (b[g].trim() == a[e].id) {
					f = !0;
					break
				}
			if (!f)
				continue
		}
		0 < e && (c += "<hr class=pthr>");
		c += "<p class=ptp>";
		c += "<span class=et_title150>" + a[e].title;
		c += "</span></a>";
		0 < a[e].description.length && (c += "<br>" + doBRs(a[e].description));
		c += "</p><p class=pts>";
		currperm >= PERM_SHOWADMIN && (c += " " + w_.l24 + ": " + SHOWSTATUS[a[e].status] + " &nbsp; ");
		a[e].submit_end_date && (c += w_.l25 + " " + displayDate(a[e].submit_end_date, !0, !1, !1, !0) + " &nbsp; ");
		a[e].jury_end_date && (c += " " + w_.notificationofjuryresults + " " + displayDate(a[e].jury_end_date, !0, !1, !1, !0) + " &nbsp; ");
		a[e].show_date && (c += " " + w_.l26 + " " + displayDate(a[e].show_date, !0, !1, !1, !0));
		a[e].show_end_date && (c += " " + w_.l27 + " " + displayDate(a[e].show_end_date, !0, !1, !0, !0));
		c += "</p>"
	}
	0 == a.length && (c += "<br><br>" + w_.l28 + " " + w_.callsforentries + ".");
	setHTML("et_apparea", c)
}
function displaySignup(a, b) {
	remainingcommands = 0;
	if (a && (currpw = readCookie("entrythingy"))) {
		if (isloggedin) {
			displayDashboard();
			return
		}
		sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=relogin");
		return
	}
	b || "list" != w_.startwith && -1 == window.location.href.indexOf("?start=list") ? b || "login" != w_.startwith ? (a = "<div  style='float:left; margin:0px 30px 30px 0px'><span id=loginlinkarea></span><form onsubmit=\"signup(); return false;\"><p class=ptp><b>" + w_.l29 + "</b><br><input type=text id=et.first_name value='",
	signupinfo.first_name && (a += signupinfo.first_name),
	a += "' class=et_registerinput></p><p class=ptp><b>" + w_.l30 + "</b><br><input type=text id=et.last_name value='",
	signupinfo.last_name && (a += signupinfo.last_name),
	a += "' class=et_registerinput></p><p class=ptp><b>" + w_.l18 + "</b><br><input type=text id=et.email value='",
	signupinfo.email && (a += signupinfo.email),
	a += "' class=et_registerinput></p><p class=ptp><b>" + w_.l31 + "</b><br><input type=password id=et.password class=et_registerinput></p><p class=ptp><b>" + w_.l32 + "</b><br><input type=password id=et.confirmpassword class=et_registerinput></p><span id=errorarea></span><p class=ptp id=signupbutton><input class=et_submitbutton type=submit value='" + w_.l33 + "'></form>",
	a = a + "<br><div class=et_registerinput>By creating an account, you agree to our <a href=https://www.entrythingy.com/tos.html target=tos>Terms of Service</a> and <a href=https://www.entrythingy.com/privacy.html target=pp>Privacy Policy</a></div></p></div><div style='float:left; min-width:300px; max-width:50%;'><p class=ptp id=register_right>" + ((w_.register_right ? w_.register_right : "<span id=signuptextarea>" + w_.l34 + "</span><br><br><a href=# onclick=\"popupVideo('http://www.entrythingy.com/vtour_entrants.html');return false;\">" + w_.l35 + "</a> " + w_.l36 + ' <a href=# onclick="displayLogin(false);return false;">' + w_.l21 + "</a>.") + "</p></div><div style='clear:both'></div><span id=artistvideo></span>"),
	setHTML("et_apparea", a),
	600 > document.getElementById("et_apparea").clientWidth && (document.getElementById("loginlinkarea").innerHTML = 'Have you used EntryThingy before? <a href=# onclick="displayLogin(false);return false;">Login here</a>.<br><br>First time using EntryThingy? Enter your name, email address and create a password to signup and submit your entry.<br><br>',
	document.getElementById("signuptextarea").innerHTML = "You can use this login wherever you see the <a href=https://www.entrythingy.com target=et><img src=https://s3.amazonaws.com/entrythingy/images/logo_mini.gif width=27 height=15 border=0 title='Use your EntryThingy login here. Click to learn more about EntryThingy.'></a> symbol.")) : displayLogin() : sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=dashboard&d=startwithlist", "et_apparea")
}
function displaySignupInfo(a) {
	a ? saveprefs = a : a = saveprefs;
	var b = '<form onsubmit="verifySignupInfo(); return false;"><p class=ptp>' + w_.l37 + " " + signupinfo.first_name + " " + signupinfo.last_name + ". " + w_.l38;
	"1" == a.charAt(WIDGETPREF_SKIPSIGNUPINFO) && (b += '<br><br><a href=# onclick="saveSignupInfo();return false;">' + w_.l39 + "</a>. " + w_.l40);
	b += "</span></p><br><table cellpadding=0 cellspacing=0><tr valign=top><td>";
	"0" == a.charAt(WIDGETPREF_ASKFORBUSINESS) && (b += "<p class=ptp><b>" + w_.l41 + "</b><br><input type=text id=et.business value='",
	signupinfo.business && (b += signupinfo.business),
	b += "' class=et_contactinfoinput></p>");
	"0" == a.charAt(WIDGETPREF_ASKFORPARTNER) && (b += "<p class=ptp><b>" + w_.l42 + "</b><br><input type=text id=et.partner value='",
	signupinfo.partner && (b += signupinfo.partner),
	b += "' class=et_contactinfoinput></p>");
	b += "<p class=ptp><b>" + w_.l43 + "</b> *<br><input type=text id=et.address value='";
	signupinfo.address && (b += signupinfo.address);
	b += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l44 + "</b> *<br><input type=text id=et.city value='";
	signupinfo.city && (b += signupinfo.city);
	b += "' class=et_requiredcontactinfoinput></p>";
	if (STATES) {
		b += "<p class=ptp><b>" + w_.l45 + "</b> *<br><select id=et.state class=et_requiredcontactinfoinput><option value=''>";
		for (a = 0; a < STATES.length; a++)
			b += "<option value='" + STATES[a] + "'",
			w_.defaultstate && w_.defaultstate == STATES[a] ? b += " selected" : signupinfo.state == STATES[a] && (b += " selected"),
			b += ">",
			"None" == STATES[a] && (b += "*** "),
			b += STATES[a],
			"None" == STATES[a] && (b += " ***");
		b += "</select></p>"
	} else
		b += "<input type=hidden name=state value=''>";
	b += "<p class=ptp><b>" + w_.l46 + "</b> *<br><input type=text id=et.zipcode value='";
	signupinfo.zip && (b += signupinfo.zip);
	b += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l47 + "</b> *<br><input type=text id=et.country value='";
	b = signupinfo.country ? b + signupinfo.country : b + w_.l48;
	b += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l49 + "</b> * " + w_.l50 + "<br><input type=text id=et.mainphone value='";
	signupinfo.mainphone && (b += signupinfo.mainphone);
	b += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l51 + "</b><br><input type=text id=et.alternatephone value='";
	signupinfo.alternatephone && (b += signupinfo.alternatephone);
	b += "' class=et_contactinfoinput></p><p class=ptp><b>" + w_.l52 + "</b> " + w_.l53 + "<br><input type=text id=et.website value='";
	signupinfo.website && (b += signupinfo.website);
	b = b + "' class=et_contactinfoinput></p></td><td width=30>&nbsp;</td><td></td></tr></table><span id=errorarea></span><p class=ptp><input class=et_submitbutton type=submit value='" + (w_.l54 + "'></form></p>");
	setHTML("et_apparea", b)
}
function verifySignupInfo() {
	if (0 == gEBI("et.address").value.length || 0 == gEBI("et.city").value.length || STATES && 0 == gEBI("et.state").value.length || 0 == gEBI("et.zipcode").value.length || 0 == gEBI("et.country").value.length || 0 == gEBI("et.mainphone").value.length)
		displayError("Ooops. You didn't fill out all required fields.");
	else {
		var a = gEBI("et.website").value;
		0 < a.length && -1 == a.indexOf("//") && (a = "http://" + a);
		gEBI("et.business") && (signupinfo.business = gEBI("et.business").value);
		gEBI("et.partner") && (signupinfo.partner = gEBI("et.partner").value);
		signupinfo.address = gEBI("et.address").value;
		signupinfo.city = gEBI("et.city").value;
		gEBI("et.state") ? signupinfo.state = gEBI("et.state").value : signupinfo.state = "";
		signupinfo.zip = gEBI("et.zipcode").value;
		signupinfo.country = gEBI("et.country").value;
		signupinfo.mainphone = gEBI("et.mainphone").value;
		signupinfo.alternatephone = gEBI("et.alternatephone").value;
		signupinfo.website = a;
		a = "<p class=ptp>" + w_.l55 + "</p><br>";
		a += "<table cellpadding=0 cellspacing=0><tr valign=top><td>";
		signupinfo.business && (a += "<p class=ptp><b>" + w_.l41 + ":</b> " + signupinfo.business);
		signupinfo.partner && (a += "</p><p class=ptp><b>" + w_.l42 + ":</b> " + signupinfo.partner);
		a += "</p><p class=ptp><b>" + w_.l43 + ":</b> " + signupinfo.address;
		a += "</p><p class=ptp><b>" + w_.l44 + ":</b> " + signupinfo.city + "</p>";
		STATES && (a += "<p class=ptp><b>" + w_.l45 + ":</b> " + signupinfo.state + "</p>");
		a += "<p class=ptp><b>" + w_.l46 + ":</b> " + signupinfo.zip;
		a += "</p><p class=ptp><b>" + w_.l47 + ":</b> " + signupinfo.country;
		a += "</p><p class=ptp><b>" + w_.l49 + ":</b> " + signupinfo.mainphone;
		a += "</p><p class=ptp><b>" + w_.l51 + ":</b> " + signupinfo.alternatephone;
		a += "</p><p class=ptp><b>" + w_.l52 + ": </b><a href=" + signupinfo.website + ">" + signupinfo.website + "</a></p></td>";
		a += "</tr></table><p class=ptp><input class=et_submitbutton type=button onclick='saveSignupInfo();' value='" + w_.l54 + "'></form> &nbsp; <input class=et_cancelbutton type=button onclick='displaySignupInfo();' value='" + w_.l56 + "'></p>";
		setHTML("et_apparea", a)
	}
}
function saveSignupInfo() {
	var a = "/widget?c=" + sitecode + "&a=signupinfo";
	signupinfo.business && (a += "&business=" + encodeURIComponent(signupinfo.business));
	signupinfo.partner && (a += "&partner=" + encodeURIComponent(signupinfo.partner));
	a += "&address=" + encodeURIComponent(signupinfo.address);
	a += "&city=" + encodeURIComponent(signupinfo.city);
	a += "&state=" + encodeURIComponent(signupinfo.state);
	a += "&zip=" + encodeURIComponent(signupinfo.zip);
	a += "&country=" + encodeURIComponent(signupinfo.country);
	a += "&mainphone=" + encodeURIComponent(signupinfo.mainphone);
	a += "&alternatephone=" + encodeURIComponent(signupinfo.alternatephone);
	a += "&website=" + encodeURIComponent(signupinfo.website);
	a += "&userid=" + encodeURIComponent(curruserid);
	sendCommand(baseserverip, a, "et_apparea")
}
var saveforprofile;
function displayProfile(a) {
	signupinfo = [];
	remainingcommands = 0;
	window.location.hash = "profile=" + a;
	oldhash = window.location.hash;
	var b = getNav();
	b += "<div id=profile></div>";
	-1 == gEBI("et_apparea").innerHTML.indexOf(">" + w_.l72 + "<") && (saveforprofile = gEBI("et_apparea").innerHTML);
	setAppArea(b);
	sendCommand(baseserverip, "/widget?c=" + sitecode + "&a=profile&id=" + a)
}
function displayProfileProfile(a) {
	var b = "<p class=ptp style='width:auto'><span class=et_title150bold>";
	a.permission == PERM_ARTIST ? b += w_.l57 : a.permission == PERM_JURY ? b += w_.l58 : a.permission == PERM_ADMIN ? b += w_.l59 : a.permission == PERM_SHOWADMIN && (b += w_.l60);
	b += ": " + a.first_name + " " + a.last_name + "</span>";
	if ("y" == a.myprofile || currperm >= PERM_SHOWADMIN && a.widget_id == currwidget.id)
		b += ' &nbsp; &nbsp;<a href=# onclick="editProfile();return false;" class=ptbtn><nobr>[' + w_.l61 + "]</nobr></a>",
		b += ' &nbsp; &nbsp;<a href=# onclick="changePassword();return false;" class=ptbtn>[' + w_.l62 + "]</a>",
		myprofilejson = a;
	"y" != a.myprofile && (curritem || currshow) && (b += " &nbsp; &nbsp;<a href=# onclick=\"setHTML('et_apparea', saveforprofile);saveforprofile=null;return false;\" class=ptbtn>[" + w_.l63 + " " + (null != curritem ? w_.l64 : w_.l65) + "]</a>");
	b += "</p>";
	"y" == a.myprofile && currperm == PERM_ARTIST && (b += "<p class=ptb>" + w_.l66 + "</p>");
	b += "<br><div style='float:left; margin:0px 30px 30px 0px'>";
	if (a.email) {
		b += "<p class=ptp><nobr><b>" + w_.l4 + ": </b><a href='mailto:" + a.email + "'>" + a.email + "</a></nobr>";
		if (a.bademail && ("y" == a.myprofile || currperm >= PERM_SHOWADMIN && a.widget_id == currwidget.id)) {
			var c = "/widget?c=" + sitecode + "&a=profile&d=enablebademail";
			myprofilejson && (c += "&id=" + myprofilejson.id);
			b += " &nbsp; &nbsp;" + w_.l67 + a.bademail + w_.l68 + " <a href=# onclick=\"sendCommand(baseserverip,'" + c + "');return false;\">" + w_.l69 + "</a>."
		}
		b += "</p>"
	}
	a.business && "undefined" != a.business && (b += "<p class=ptp><nobr><b>" + w_.l41 + ": </b>" + a.business + "</nobr></p>");
	a.partner && "undefined" != a.partner && (b += "<p class=ptp><nobr><b>" + w_.l42 + ": </b>" + a.partner + "</nobr></p>");
	a.address && "undefined" != a.address && (b += "<p class=ptp><nobr><b>" + w_.l43 + ": </b>" + a.address + "</nobr></p>");
	a.city && "undefined" != a.city && (b += "<p class=ptp><nobr><b>" + w_.l44 + ": </b>" + a.city + "</nobr></p>");
	a.state && "undefined" != a.state && (b += "<p class=ptp><nobr><b>" + w_.l45 + ": </b>" + a.state + "</nobr></p>");
	a.zip && "undefined" != a.zip && (b += "<p class=ptp><nobr><b>" + w_.l46 + ": </b>" + a.zip + "</nobr></p>");
	a.country && "undefined" != a.country && (b += "<p class=ptp><nobr><b>" + w_.l47 + ": </b>" + a.country + "</nobr></p>");
	a.mainphone && "undefined" != a.mainphone && (b += "<p class=ptp><nobr><b>" + w_.l49 + ": </b>" + a.mainphone + "</nobr></p>");
	a.alternatephone && "undefined" != a.alternatephone && (b += "<p class=ptp><nobr><b>" + w_.l51 + ": </b>" + a.alternatephone + "</nobr></p>");
	a.website && "undefined" != a.website && (c = a.website,
	c.toLowerCase().startsWith("http") || (c = "http://" + c),
	b += "<p class=ptp><nobr><b>" + w_.l52 + ": </b><a href=" + c + ">" + a.website + "</a></nobr></p>");
	b += "</div><div style='float:left; min-width:300px; max-width:50%'>";
	a.permission == PERM_ARTIST && (b += "<p class=ptp><b>" + w_.l70 + ": </b><br>",
	a.statement && "undefined" != a.statement && (b += doBRs(a.statement)),
	b = b + "</p><p class=ptp><b>" + (w_.l71 + ": </b><br>"),
	a.resume && "undefined" != a.resume && (b += doBRs(a.resume)),
	b += "</p>");
	setHTML("profile", b + "</div><div style='clear:both'></div>");
	"no" != w_.scrollupto && window.scroll(0, w_.scrollupto);
	a.s_m && alert(a.s_m)
}
function editProfile() {
	if (myprofilejson || !(currperm < PERM_SHOWADMIN)) {
		var a = getNav();
		a += "<p class=ptp><span class=et_title150bold>" + w_.l72 + "</span></p>";
		a += "<form method='post' accept-charset='UTF-8' enctype='application/x-www-form-urlencoded' action='" + baseserverip + "/widget' target='et_uploadtarget' onsubmit=\"return saveProfile();\">";
		a += "<input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveprofile value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">";
		a += "<input type=hidden name=id value=" + myprofilejson.id + ">";
		a += "<p class=ptp><input id=topsavebutton class=et_savebutton type=submit value='" + w_.l73 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.l74 + "' onclick='displayProfile(" + myprofilejson.id + ")';></p>";
		a = a + "<span id=toperrorarea></span><br><div style='float:left; margin:0px 30px 30px 0px'><p class=ptp><b>" + (w_.l29 + ':</b>*<br><input class=et_requiredcontactinfoinput type=text id=et.first_name name=first_name value="');
		myprofilejson.first_name && (a += myprofilejson.first_name);
		a = a + '"><p class=ptp><b>' + (w_.l30 + ':</b>*<br><input type=text  class=et_requiredcontactinfoinput id=et.last_name name=last_name value="');
		myprofilejson.last_name && (a += myprofilejson.last_name);
		a = a + '"><p class=ptp><b>' + (w_.l18 + ":</b>* <br><input type=text  class=et_requiredcontactinfoinput id=et.email name=email value='");
		myprofilejson.email && (a += myprofilejson.email);
		a += "'>";
		if ("0" == currwidget.prefs.charAt(WIDGETPREF_ASKFORBUSINESS) || myprofilejson.business && "undefined" != myprofilejson.business)
			a += "<p class=ptp><b>" + w_.l41 + ":</b><br><input type=text id=et.business name=business value='",
			myprofilejson.business && "undefined" != myprofilejson.business && (a += myprofilejson.business),
			a += "' class=et_contactinfoinput></p>";
		"0" == currwidget.prefs.charAt(WIDGETPREF_ASKFORPARTNER) && (a += "<p class=ptp><b>" + w_.l42 + ":</b><br><input type=text id=et.partner name=partner value='",
		myprofilejson.partner && "undefined" != myprofilejson.partner && (a += myprofilejson.partner),
		a += "' class=et_contactinfoinput></p>");
		a += "<p class=ptp><b>" + w_.l43 + ": </b>*<br><input type=text id=et.address name=address value='";
		myprofilejson.address && "undefined" != myprofilejson.address && (a += myprofilejson.address);
		a += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l44 + ": </b>*<br><input type=text id=et.city name=city value='";
		myprofilejson.city && "undefined" != myprofilejson.city && (a += myprofilejson.city);
		a += "' class=et_requiredcontactinfoinput></p>";
		if (STATES) {
			a += "<p class=ptp><b>" + w_.l45 + ": </b>*<br><select id=et.state name=state class=et_requiredcontactinfoinput><option value=''>";
			for (var b = 0; b < STATES.length; b++)
				a += "<option value='" + STATES[b] + "'",
				myprofilejson.state && myprofilejson.state == STATES[b] && (a += " selected"),
				a += ">",
				"None" == STATES[b] && (a += "*** "),
				a += STATES[b],
				"None" == STATES[b] && (a += " ***");
			a += "</select></p>"
		} else
			a += "<input type=hidden name=state value=''>";
		a += "<p class=ptp><b>" + w_.l46 + ": </b>*<br><input type=text id=et.zipcode name=zip value='";
		myprofilejson.zip && "undefined" != myprofilejson.zip && (a += myprofilejson.zip);
		a += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l47 + ": </b>*<br><input type=text id=et.country name=country value='";
		myprofilejson.country && "undefined" != myprofilejson.country && (a += myprofilejson.country);
		a += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l49 + ": </b>* " + w_.l50 + "<br><input type=text id=et.mainphone name=mainphone value='";
		myprofilejson.mainphone && "undefined" != myprofilejson.mainphone && (a += myprofilejson.mainphone);
		a += "' class=et_requiredcontactinfoinput></p><p class=ptp><b>" + w_.l51 + ":</b><br><input type=text id=et.alternatephone name=alternatephone value='";
		myprofilejson.alternatephone && "undefined" != myprofilejson.alternatephone && (a += myprofilejson.alternatephone);
		a += "' class=et_contactinfoinput></p><p class=ptp><b>" + w_.l52 + ":</b> " + w_.l53 + "<br><input type=text id=et.website name=website value='";
		myprofilejson.website && "undefined" != myprofilejson.website && (a += myprofilejson.website);
		a += "' class=et_contactinfoinput></p></div><div style='float:left; min-width:300px; max-width:50%;'>";
		myprofilejson.permission == PERM_ARTIST && (a += "<p class=ptp><b>" + w_.l70 + ": </b><br><textarea id=et.statement name=statement class=et_contactinfotextarea>",
		myprofilejson.statement && "undefined" != myprofilejson.statement && (a += myprofilejson.statement),
		a = a + "</textarea></p><p class=ptp><b>" + (w_.l71 + ": </b><br><textarea id=et.resume name=resume class=et_contactinfotextarea>"),
		myprofilejson.resume && "undefined" != myprofilejson.resume && (a += myprofilejson.resume),
		a += "</textarea></p>");
		a += "</div><div style='clear:both'></div><br><input type=hidden name=c value=" + sitecode + "><input type=hidden name=saveprofile value=yes><input type=hidden name=ck value=" + readCookie("entrythingy") + "><input type=hidden name=lang value=" + et_lang + ">";
		a += "<input type=hidden name=id value=" + myprofilejson.id + ">";
		a += "<span id=bottomerrorarea></span><p class=ptp><input id=bottomsavebutton class=et_savebutton type=submit value='" + w_.l73 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.l74 + "' onclick='displayProfile(" + myprofilejson.id + ")';></form></p>";
		setAppArea(a)
	}
}
function saveProfile() {
	var a = null
	  , b = trim(gEBI("et.first_name").value)
	  , c = trim(gEBI("et.last_name").value);
	0 == b.length ? a = w_.l12 : 0 == c.length ? a = w_.l13 : curruser.permission != PERM_ADMIN && (0 == gEBI("et.address").value.length || 0 == gEBI("et.city").value.length || STATES && 0 == gEBI("et.state").value.length || 0 == gEBI("et.zipcode").value.length || 0 == gEBI("et.country").value.length || 0 == gEBI("et.mainphone").value.length) ? a = w_.l75 : curruser.permission != PERM_ADMIN && (7 > gEBI("et.email").value.length || -1 == gEBI("et.email").value.indexOf(".") || -1 == gEBI("et.email").value.indexOf("@")) && (a = w_.l16);
	if (null != a)
		return displayError(a, "toperrorarea"),
		displayError(a, "bottomerrorarea"),
		!1;
	gEBI("topsavebutton").value = "Saving...";
	gEBI("topsavebutton").disabled = !0;
	gEBI("bottomsavebutton").value = "Saving...";
	gEBI("bottomsavebutton").disabled = !0;
	gEBI("et.first_name").value = charClean(gEBI("et.first_name").value);
	gEBI("et.last_name").value = charClean(gEBI("et.last_name").value);
	gEBI("et.business") && (gEBI("et.business").value = charClean(gEBI("et.business").value));
	gEBI("et.statement") && (gEBI("et.statement").value = charClean(gEBI("et.statement").value));
	gEBI("et.resume") && (gEBI("et.resume").value = charClean(gEBI("et.resume").value));
	postcheckercnt = 0;
	posting = "profile";
	postchecker = setTimeout("postChecker()", 500);
	return !0
}
function changePassword() {
	if (myprofilejson) {
		var a = getNav();
		a += "<p class=ptp><span class=et_title150bold>" + w_.l76 + "</span></p><br>";
		a = a + '<form onsubmit="savePassword(); return false;"><p class=ptp><b>' + (w_.l77 + ":</b> <br><input type=password  class=et_logininput id=et.password>");
		a += "</p><p class=ptp><b>" + w_.l78 + ":</b> <br><input type=password  class=et_logininput id=et.confirmpassword>";
		a += "</p><br><span id=errorarea></span><p class=ptp><input class=et_savebutton type=submit value='" + w_.l73 + "' > &nbsp; <input class=et_cancelbutton type=button value='" + w_.l74 + "' onclick='displayProfile(" + myprofilejson.id + ")';></form></p>";
		setAppArea(a)
	}
}
function savePassword() {
	var a = null;
	5 > gEBI("et.password").value.length ? a = w_.l79 : gEBI("et.password").value != gEBI("et.confirmpassword").value && (a = w_.l80);
	if (null != a)
		displayError(a);
	else {
		a = "/widget?c=" + sitecode + "&a=profile&d=savepassword";
		4 < gEBI("et.password").value.length && (a += "&pw=" + encodeURIComponent(gEBI("et.password").value));
		myprofilejson && (a += "&id=" + myprofilejson.id);
		var b = getNav();
		setAppArea(b + "<div id=profile></div>");
		sendCommand(baseserverip, a)
	}
}
isLoaded("entrythingy_login");
